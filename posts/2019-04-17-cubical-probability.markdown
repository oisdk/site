---
title: Probability Monads in Cubical Agda
tags: Agda, Probability
---

[Cubical Agda](https://agda.readthedocs.io/en/latest/language/cubical.html) has
just come out, and I've been playing around with it for a bit.
There's a bunch of info out there on the theory of cubical types, and Homotopy
Type Theory more generally (cubical type theory is kind of like an
"implementation" of Homotopy type theory), but I wanted to make a post
demonstrating cubical Agda in practice, and one of its cool uses from a
programming perspective.

# So What is Cubical Agda?

I don't really know!
Cubical type theory is quite complex (even for a type theory), and I'm not
nearly qualified to properly explain it.
In lieu of a proper first-principles explanation, then, I'll try and give a
few examples of how it differs from normal Agda, before moving on to the main
example of this post.

<details>
<summary>Imports</summary>
<pre class="Agda"><a id="920" class="Symbol">{-#</a> <a id="924" class="Keyword">OPTIONS</a> <a id="932" class="Pragma">--cubical</a> <a id="942" class="Symbol">#-}</a>

<a id="947" class="Keyword">open</a> <a id="952" class="Keyword">import</a> <a id="959" href="../code/probability/ProbabilityModule.Semirings.html" class="Module">ProbabilityModule.Semirings</a>

<a id="988" class="Keyword">module</a> <a id="995" href="" class="Module">ProbabilityModule.Monad</a> <a id="1019" class="Symbol">{</a><a id="1020" href="#1020" class="Bound">s</a><a id="1021" class="Symbol">}</a> <a id="1023" class="Symbol">(</a><a id="1024" href="#1024" class="Bound">rng</a> <a id="1028" class="Symbol">:</a> <a id="1030" href="../code/probability/ProbabilityModule.Semirings.html#125" class="Record">Semiring</a> <a id="1039" href="#1020" class="Bound">s</a><a id="1040" class="Symbol">)</a> <a id="1042" class="Keyword">where</a>

<a id="1049" class="Keyword">open</a> <a id="1054" class="Keyword">import</a> <a id="1061" href="../code/probability/Cubical.Core.Everything.html" class="Module">Cubical.Core.Everything</a>
<a id="1085" class="Keyword">open</a> <a id="1090" class="Keyword">import</a> <a id="1097" href="../code/probability/Cubical.Relation.Everything.html" class="Module">Cubical.Relation.Everything</a>
<a id="1125" class="Keyword">open</a> <a id="1130" class="Keyword">import</a> <a id="1137" href="../code/probability/Cubical.Foundations.Prelude.html" class="Module">Cubical.Foundations.Prelude</a> <a id="1165" class="Keyword">hiding</a> <a id="1172" class="Symbol">(</a><a id="1173" href="../code/probability/Cubical.Foundations.Prelude.html#2539" class="Function Operator">_≡⟨_⟩_</a><a id="1179" class="Symbol">)</a> <a id="1181" class="Keyword">renaming</a> <a id="1190" class="Symbol">(</a><a id="1191" href="../code/probability/Cubical.Foundations.Prelude.html#1674" class="Function Operator">_∙_</a> <a id="1195" class="Symbol">to</a> <a id="1198" href="../code/probability/Cubical.Foundations.Prelude.html#1674" class="Function Operator">_;_</a><a id="1201" class="Symbol">)</a>
<a id="1203" class="Keyword">open</a> <a id="1208" class="Keyword">import</a> <a id="1215" href="../code/probability/Cubical.HITs.SetTruncation.html" class="Module">Cubical.HITs.SetTruncation</a>
<a id="1242" class="Keyword">open</a> <a id="1247" class="Keyword">import</a> <a id="1254" href="../code/probability/ProbabilityModule.Utils.html" class="Module">ProbabilityModule.Utils</a>
</pre></details>

Extensionality
:   One of the big annoyances in standard Agda is that we can't prove the
    following:
<pre class="Agda"><a id="extensionality"></a><a id="1407" href="#1407" class="Function">extensionality</a> <a id="1422" class="Symbol">:</a> <a id="1424" class="Symbol">∀</a> <a id="1426" class="Symbol">{</a><a id="1427" href="#1427" class="Bound">f</a> <a id="1429" href="#1429" class="Bound">g</a> <a id="1431" class="Symbol">:</a> <a id="1433" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="1435" class="Symbol">→</a> <a id="1437" href="../code/probability/ProbabilityModule.Utils.html#206" class="Generalizable">B</a><a id="1438" class="Symbol">}</a>
               <a id="1455" class="Symbol">→</a> <a id="1457" class="Symbol">(∀</a> <a id="1460" href="#1460" class="Bound">x</a> <a id="1462" class="Symbol">→</a> <a id="1464" href="#1427" class="Bound">f</a> <a id="1466" href="#1460" class="Bound">x</a> <a id="1468" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="1470" href="#1429" class="Bound">g</a> <a id="1472" href="#1460" class="Bound">x</a><a id="1473" class="Symbol">)</a>
               <a id="1490" class="Symbol">→</a> <a id="1492" href="#1427" class="Bound">f</a> <a id="1494" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="1496" href="#1429" class="Bound">g</a>
</pre>    
    It's emblematic of a wider problem in Agda: we can't say "two things are
    equal if they always behave the same".
    Infinite types, for instance (like streams) are often only equal via
    bisimulation: we can't translate this into normal equality in standard Agda.
    Cubical type theory, though, has a different notion of "equality", which
    allow a wide variety of things (including bisimulations and extensional
    proofs) to be translated into a proper equality
<pre class="Agda"><a id="1989" href="#1407" class="Function">extensionality</a> <a id="2004" class="Symbol">=</a> <a id="2006" href="../code/probability/Cubical.Foundations.Prelude.html#4401" class="Function">funExt</a>
</pre>

Isomorphisms
:   One of these such things we can promote to a "proper equality" is an
    isomorphism.
    In the [cubical repo](https://github.com/agda/cubical) this is used to [prove
    things about binary
    numbers](https://github.com/agda/cubical/blob/8391a4835b3d2478e9394c6c3ec7e6fff42ede62/Cubical/Data/BinNat/BinNat.agda):
    by proving that there's an isomorphism between the Peano numbers and binary
    numbers, they can lift any properties on the Peano numbers to the binary
    numbers.

So those are two useful examples, but the *most* interesting use I've seen so
far is the following:

# Higher Inductive Types

Higher Inductive Types are an extension of normal inductive types, like the
list:
<pre class="Agda"><a id="2741" class="Keyword">module</a> <a id="NormalList"></a><a id="2748" href="#2748" class="Module">NormalList</a> <a id="2759" class="Keyword">where</a>
 <a id="2766" class="Keyword">data</a> <a id="NormalList.List"></a><a id="2771" href="#2771" class="Datatype">List</a> <a id="2776" class="Symbol">{</a><a id="2777" href="#2777" class="Bound">a</a><a id="2778" class="Symbol">}</a> <a id="2780" class="Symbol">(</a><a id="2781" href="#2781" class="Bound">A</a> <a id="2783" class="Symbol">:</a> <a id="2785" class="PrimitiveType">Set</a> <a id="2789" href="#2777" class="Bound">a</a><a id="2790" class="Symbol">)</a> <a id="2792" class="Symbol">:</a> <a id="2794" class="PrimitiveType">Set</a> <a id="2798" href="#2777" class="Bound">a</a> <a id="2800" class="Keyword">where</a>
   <a id="NormalList.List.[]"></a><a id="2809" href="#2809" class="InductiveConstructor">[]</a> <a id="2812" class="Symbol">:</a> <a id="2814" href="#2771" class="Datatype">List</a> <a id="2819" href="#2781" class="Bound">A</a>
   <a id="NormalList.List._∷_"></a><a id="2824" href="#2824" class="InductiveConstructor Operator">_∷_</a> <a id="2828" class="Symbol">:</a> <a id="2830" href="#2781" class="Bound">A</a> <a id="2832" class="Symbol">→</a> <a id="2834" href="#2771" class="Datatype">List</a> <a id="2839" href="#2781" class="Bound">A</a> <a id="2841" class="Symbol">→</a> <a id="2843" href="#2771" class="Datatype">List</a> <a id="2848" href="#2781" class="Bound">A</a>
</pre>
They allow us to add new equations to a type, as well as constructors.
To demonstrate what this means, as well as why you'd want it, I'm going to talk
about free objects.

Very informally, a free object on some algebra is the *minimal* type which
satisfies the laws of the algebra.
Lists, for instance, are the free monoid.
They satisfy all of the monoid laws ($\bullet$ is `++` and $\epsilon$ is `[]`):

$$(x \bullet y) \bullet z = x \bullet (y \bullet z)$$
$$x \bullet \epsilon = x$$
$$\epsilon \bullet x = x$$

But *nothing else*.
That means they don't satisfy any extra laws (like, for example, commutativity),
and they don't have any extra structure they don't need.

How did we get to the definition of lists from the monoid laws, though?
It doesn't look anything like them.
It would be nice if there was some systematic way to construct the corresponding
free object given the laws of an algebra.
Unfortunately, in normal Agda, this isn't possible.
Consider, for instance, if we added the commutativity law to the algebra:
$$x \bullet y = y \bullet x$$
Not only is it not obvious how we'd write the corresponding free object, it's
actually *not possible* in normal Agda!

This kind of problem comes up a lot: we have a type, and we want it to obey just
*one more* equation, but there is no inductive type which does so.
Higher Inductive Types solve the problem in quite a straightforward way.
So we want lists to satisfy another equation?
Well, just add it to the definition!

<pre class="Agda"><a id="4347" class="Keyword">module</a> <a id="OddList"></a><a id="4354" href="#4354" class="Module">OddList</a> <a id="4362" class="Keyword">where</a>
 <a id="4369" class="Keyword">mutual</a>
  <a id="4378" class="Keyword">data</a> <a id="OddList.List"></a><a id="4383" href="#4383" class="Datatype">List</a> <a id="4388" class="Symbol">{</a><a id="4389" href="#4389" class="Bound">a</a><a id="4390" class="Symbol">}</a> <a id="4392" class="Symbol">(</a><a id="4393" href="#4393" class="Bound">A</a> <a id="4395" class="Symbol">:</a> <a id="4397" class="PrimitiveType">Set</a> <a id="4401" href="#4389" class="Bound">a</a><a id="4402" class="Symbol">)</a> <a id="4404" class="Symbol">:</a> <a id="4406" class="PrimitiveType">Set</a> <a id="4410" href="#4389" class="Bound">a</a> <a id="4412" class="Keyword">where</a>
    <a id="OddList.List.[]"></a><a id="4422" href="#4422" class="InductiveConstructor">[]</a> <a id="4425" class="Symbol">:</a> <a id="4427" href="#4383" class="Datatype">List</a> <a id="4432" href="#4393" class="Bound">A</a>
    <a id="OddList.List._∷_"></a><a id="4438" href="#4438" class="InductiveConstructor Operator">_∷_</a> <a id="4442" class="Symbol">:</a> <a id="4444" href="#4393" class="Bound">A</a> <a id="4446" class="Symbol">→</a> <a id="4448" href="#4383" class="Datatype">List</a> <a id="4453" href="#4393" class="Bound">A</a> <a id="4455" class="Symbol">→</a> <a id="4457" href="#4383" class="Datatype">List</a> <a id="4462" href="#4393" class="Bound">A</a>
    <a id="OddList.List.comm"></a><a id="4468" href="#4468" class="InductiveConstructor">comm</a> <a id="4473" class="Symbol">:</a> <a id="4475" class="Symbol">∀</a> <a id="4477" href="#4477" class="Bound">xs</a> <a id="4480" href="#4480" class="Bound">ys</a> <a id="4483" class="Symbol">→</a> <a id="4485" href="#4477" class="Bound">xs</a> <a id="4488" href="#4518" class="Postulate Operator">++</a> <a id="4491" href="#4480" class="Bound">ys</a> <a id="4494" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="4496" href="#4480" class="Bound">ys</a> <a id="4499" href="#4518" class="Postulate Operator">++</a> <a id="4502" href="#4477" class="Bound">xs</a>

  <a id="4508" class="Keyword">postulate</a> <a id="OddList._++_"></a><a id="4518" href="#4518" class="Postulate Operator">_++_</a> <a id="4523" class="Symbol">:</a> <a id="4525" href="#4383" class="Datatype">List</a> <a id="4530" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="4532" class="Symbol">→</a> <a id="4534" href="#4383" class="Datatype">List</a> <a id="4539" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="4541" class="Symbol">→</a> <a id="4543" href="#4383" class="Datatype">List</a> <a id="4548" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a>
</pre>
Now, when we write a function that processes lists, Agda will check that the
function behaves the same on `xs ++ ys` and `ys ++ xs`.
As an example, here's how you might define the free monoid as a HIT:
<pre class="Agda"><a id="4765" class="Keyword">data</a> <a id="FreeMonoid"></a><a id="4770" href="#4770" class="Datatype">FreeMonoid</a> <a id="4781" class="Symbol">{</a><a id="4782" href="#4782" class="Bound">a</a><a id="4783" class="Symbol">}</a> <a id="4785" class="Symbol">(</a><a id="4786" href="#4786" class="Bound">A</a> <a id="4788" class="Symbol">:</a> <a id="4790" class="PrimitiveType">Set</a> <a id="4794" href="#4782" class="Bound">a</a><a id="4795" class="Symbol">)</a> <a id="4797" class="Symbol">:</a> <a id="4799" class="PrimitiveType">Set</a> <a id="4803" href="#4782" class="Bound">a</a> <a id="4805" class="Keyword">where</a>
  <a id="FreeMonoid.[_]"></a><a id="4813" href="#4813" class="InductiveConstructor Operator">[_]</a> <a id="4817" class="Symbol">:</a> <a id="4819" href="#4786" class="Bound">A</a> <a id="4821" class="Symbol">→</a> <a id="4823" href="#4770" class="Datatype">FreeMonoid</a> <a id="4834" href="#4786" class="Bound">A</a>
  <a id="FreeMonoid._∙_"></a><a id="4838" href="#4838" class="InductiveConstructor Operator">_∙_</a> <a id="4842" class="Symbol">:</a> <a id="4844" href="#4770" class="Datatype">FreeMonoid</a> <a id="4855" href="#4786" class="Bound">A</a> <a id="4857" class="Symbol">→</a> <a id="4859" href="#4770" class="Datatype">FreeMonoid</a> <a id="4870" href="#4786" class="Bound">A</a> <a id="4872" class="Symbol">→</a> <a id="4874" href="#4770" class="Datatype">FreeMonoid</a> <a id="4885" href="#4786" class="Bound">A</a>
  <a id="FreeMonoid.ε"></a><a id="4889" href="#4889" class="InductiveConstructor">ε</a> <a id="4891" class="Symbol">:</a> <a id="4893" href="#4770" class="Datatype">FreeMonoid</a> <a id="4904" href="#4786" class="Bound">A</a>
  <a id="FreeMonoid.∙ε"></a><a id="4908" href="#4908" class="InductiveConstructor">∙ε</a> <a id="4911" class="Symbol">:</a> <a id="4913" class="Symbol">∀</a> <a id="4915" href="#4915" class="Bound">x</a> <a id="4917" class="Symbol">→</a> <a id="4919" href="#4915" class="Bound">x</a> <a id="4921" href="#4838" class="InductiveConstructor Operator">∙</a> <a id="4923" href="#4889" class="InductiveConstructor">ε</a> <a id="4925" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="4927" href="#4915" class="Bound">x</a>
  <a id="FreeMonoid.ε∙"></a><a id="4931" href="#4931" class="InductiveConstructor">ε∙</a> <a id="4934" class="Symbol">:</a> <a id="4936" class="Symbol">∀</a> <a id="4938" href="#4938" class="Bound">x</a> <a id="4940" class="Symbol">→</a> <a id="4942" href="#4889" class="InductiveConstructor">ε</a> <a id="4944" href="#4838" class="InductiveConstructor Operator">∙</a> <a id="4946" href="#4938" class="Bound">x</a> <a id="4948" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="4950" href="#4938" class="Bound">x</a>
  <a id="FreeMonoid.assoc"></a><a id="4954" href="#4954" class="InductiveConstructor">assoc</a> <a id="4960" class="Symbol">:</a> <a id="4962" class="Symbol">∀</a> <a id="4964" href="#4964" class="Bound">x</a> <a id="4966" href="#4966" class="Bound">y</a> <a id="4968" href="#4968" class="Bound">z</a> <a id="4970" class="Symbol">→</a> <a id="4972" class="Symbol">(</a><a id="4973" href="#4964" class="Bound">x</a> <a id="4975" href="#4838" class="InductiveConstructor Operator">∙</a> <a id="4977" href="#4966" class="Bound">y</a><a id="4978" class="Symbol">)</a> <a id="4980" href="#4838" class="InductiveConstructor Operator">∙</a> <a id="4982" href="#4968" class="Bound">z</a> <a id="4984" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="4986" href="#4964" class="Bound">x</a> <a id="4988" href="#4838" class="InductiveConstructor Operator">∙</a> <a id="4990" class="Symbol">(</a><a id="4991" href="#4966" class="Bound">y</a> <a id="4993" href="#4838" class="InductiveConstructor Operator">∙</a> <a id="4995" href="#4968" class="Bound">z</a><a id="4996" class="Symbol">)</a>
</pre>
It's quite a satisfying definition, and very easy to see how we got to it from
the monoid laws.

Now, when we write functions, we have to prove that those functions themselves
also obey the monoid laws.
For instance, here's how we would take the length:
<pre class="Agda"><a id="5265" class="Keyword">module</a> <a id="Length"></a><a id="5272" href="#5272" class="Module">Length</a> <a id="5279" class="Keyword">where</a>
  <a id="5287" class="Keyword">open</a> <a id="5292" class="Keyword">import</a> <a id="5299" href="../code/probability/ProbabilityModule.Semirings.Nat.html" class="Module">ProbabilityModule.Semirings.Nat</a>
  <a id="5333" class="Keyword">open</a> <a id="5338" href="../code/probability/ProbabilityModule.Semirings.html#125" class="Module">Semiring</a> <a id="5347" href="../code/probability/ProbabilityModule.Semirings.Nat.html#1820" class="Function">+-*-𝕊</a>

  <a id="Length.length"></a><a id="5356" href="#5356" class="Function">length</a> <a id="5363" class="Symbol">:</a> <a id="5365" href="#4770" class="Datatype">FreeMonoid</a> <a id="5376" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="5378" class="Symbol">→</a> <a id="5380" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a>
  <a id="5384" href="#5356" class="Function">length</a> <a id="5391" href="#4813" class="InductiveConstructor Operator">[</a> <a id="5393" href="#5393" class="Bound">x</a> <a id="5395" href="#4813" class="InductiveConstructor Operator">]</a> <a id="5397" class="Symbol">=</a> <a id="5399" class="Number">1</a>
  <a id="5403" href="#5356" class="Function">length</a> <a id="5410" class="Symbol">(</a><a id="5411" href="#5411" class="Bound">xs</a> <a id="5414" href="#4838" class="InductiveConstructor Operator">∙</a> <a id="5416" href="#5416" class="Bound">ys</a><a id="5418" class="Symbol">)</a> <a id="5420" class="Symbol">=</a> <a id="5422" href="#5356" class="Function">length</a> <a id="5429" href="#5411" class="Bound">xs</a> <a id="5432" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Function Operator">+</a> <a id="5434" href="#5356" class="Function">length</a> <a id="5441" href="#5416" class="Bound">ys</a>
  <a id="5446" href="#5356" class="Function">length</a> <a id="5453" href="#4889" class="InductiveConstructor">ε</a> <a id="5455" class="Symbol">=</a> <a id="5457" class="Number">0</a>
  <a id="5461" href="#5356" class="Function">length</a> <a id="5468" class="Symbol">(</a><a id="5469" href="#4908" class="InductiveConstructor">∙ε</a> <a id="5472" href="#5472" class="Bound">xs</a> <a id="5475" href="#5475" class="Bound">i</a><a id="5476" class="Symbol">)</a> <a id="5478" class="Symbol">=</a> <a id="5480" href="../code/probability/ProbabilityModule.Semirings.html#660" class="Function">+0</a> <a id="5483" class="Symbol">(</a><a id="5484" href="#5356" class="Function">length</a> <a id="5491" href="#5472" class="Bound">xs</a><a id="5493" class="Symbol">)</a> <a id="5495" href="#5475" class="Bound">i</a>
  <a id="5499" href="#5356" class="Function">length</a> <a id="5506" class="Symbol">(</a><a id="5507" href="#4931" class="InductiveConstructor">ε∙</a> <a id="5510" href="#5510" class="Bound">xs</a> <a id="5513" href="#5513" class="Bound">i</a><a id="5514" class="Symbol">)</a> <a id="5516" class="Symbol">=</a> <a id="5518" href="../code/probability/ProbabilityModule.Semirings.html#430" class="Function">0+</a> <a id="5521" class="Symbol">(</a><a id="5522" href="#5356" class="Function">length</a> <a id="5529" href="#5510" class="Bound">xs</a><a id="5531" class="Symbol">)</a> <a id="5533" href="#5513" class="Bound">i</a>
  <a id="5537" href="#5356" class="Function">length</a> <a id="5544" class="Symbol">(</a><a id="5545" href="#4954" class="InductiveConstructor">assoc</a> <a id="5551" href="#5551" class="Bound">xs</a> <a id="5554" href="#5554" class="Bound">ys</a> <a id="5557" href="#5557" class="Bound">zs</a> <a id="5560" href="#5560" class="Bound">i</a><a id="5561" class="Symbol">)</a> <a id="5563" class="Symbol">=</a> <a id="5565" href="../code/probability/ProbabilityModule.Semirings.html#276" class="Function">+-assoc</a> <a id="5573" class="Symbol">(</a><a id="5574" href="#5356" class="Function">length</a> <a id="5581" href="#5551" class="Bound">xs</a><a id="5583" class="Symbol">)</a> <a id="5585" class="Symbol">(</a><a id="5586" href="#5356" class="Function">length</a> <a id="5593" href="#5554" class="Bound">ys</a><a id="5595" class="Symbol">)</a> <a id="5597" class="Symbol">(</a><a id="5598" href="#5356" class="Function">length</a> <a id="5605" href="#5557" class="Bound">zs</a><a id="5607" class="Symbol">)</a> <a id="5609" href="#5560" class="Bound">i</a>
</pre>
The first three clauses are the actual function: they deal with the three
normal constructors of the type.
The next three clauses prove that those previous clauses obey the equalities
defined on the type.

With the preliminary stuff out of the way, let's get on to the type I wanted to
talk about:

# Probability

First things first, let's remember the classic definition of the probability
monad:

```haskell
newtype Prob a = Prob { runProb :: [(a, Rational)] }
```

Definitionally speaking, this doesn't really represent what we're talking about.
For instance, the following two things express the same distribution, but have
different representations:

```haskell
Prob [(True, 1 / 4), (True, 1 / 4), (False, 1 / 2)]
Prob [(True , 1 / 2), (False, 1 / 2)]
```

So it's the perfect candidate for an extra equality clause like we had above.

Second, in an effort to generalise, we won't deal specifically with `Rational`,
and instead we'll use any semiring.
After all of that, we get the following definition:

<pre class="Agda"><a id="6634" class="Keyword">open</a> <a id="6639" href="../code/probability/ProbabilityModule.Semirings.html#125" class="Module">Semiring</a> <a id="6648" href="#1024" class="Bound">rng</a>

<a id="6653" class="Keyword">module</a> <a id="Initial"></a><a id="6660" href="#6660" class="Module">Initial</a> <a id="6668" class="Keyword">where</a>
 <a id="6675" class="Keyword">infixr</a> <a id="6682" class="Number">5</a> <a id="6684" href="#6746" class="InductiveConstructor Operator">_&amp;_∷_</a>
 <a id="6691" class="Keyword">data</a> <a id="Initial.𝒫"></a><a id="6696" href="#6696" class="Datatype">𝒫</a> <a id="6698" class="Symbol">(</a><a id="6699" href="#6699" class="Bound">A</a> <a id="6701" class="Symbol">:</a> <a id="6703" class="PrimitiveType">Set</a> <a id="6707" href="../code/probability/ProbabilityModule.Utils.html#178" class="Generalizable">a</a><a id="6708" class="Symbol">)</a> <a id="6710" class="Symbol">:</a> <a id="6712" class="PrimitiveType">Set</a> <a id="6716" class="Symbol">(</a><a id="6717" href="#6707" class="Bound">a</a> <a id="6719" href="../code/probability/ProbabilityModule.Utils.html#242" class="Function Operator">⊔</a> <a id="6721" href="#1020" class="Bound">s</a><a id="6722" class="Symbol">)</a> <a id="6724" class="Keyword">where</a>
   <a id="Initial.𝒫.[]"></a><a id="6733" href="#6733" class="InductiveConstructor">[]</a>  <a id="6737" class="Symbol">:</a> <a id="6739" href="#6696" class="Datatype">𝒫</a> <a id="6741" href="#6699" class="Bound">A</a>
   <a id="Initial.𝒫._&amp;_∷_"></a><a id="6746" href="#6746" class="InductiveConstructor Operator">_&amp;_∷_</a> <a id="6752" class="Symbol">:</a> <a id="6754" class="Symbol">(</a><a id="6755" href="#6755" class="Bound">p</a> <a id="6757" class="Symbol">:</a> <a id="6759" href="../code/probability/ProbabilityModule.Semirings.html#200" class="Field">R</a><a id="6760" class="Symbol">)</a> <a id="6762" class="Symbol">→</a> <a id="6764" class="Symbol">(</a><a id="6765" href="#6765" class="Bound">x</a> <a id="6767" class="Symbol">:</a> <a id="6769" href="#6699" class="Bound">A</a><a id="6770" class="Symbol">)</a> <a id="6772" class="Symbol">→</a> <a id="6774" href="#6696" class="Datatype">𝒫</a> <a id="6776" href="#6699" class="Bound">A</a> <a id="6778" class="Symbol">→</a> <a id="6780" href="#6696" class="Datatype">𝒫</a> <a id="6782" href="#6699" class="Bound">A</a>
   <a id="Initial.𝒫.dup"></a><a id="6787" href="#6787" class="InductiveConstructor">dup</a> <a id="6791" class="Symbol">:</a> <a id="6793" class="Symbol">∀</a> <a id="6795" href="#6795" class="Bound">p</a> <a id="6797" href="#6797" class="Bound">q</a> <a id="6799" href="#6799" class="Bound">x</a> <a id="6801" href="#6801" class="Bound">xs</a> <a id="6804" class="Symbol">→</a> <a id="6806" href="#6795" class="Bound">p</a> <a id="6808" href="#6746" class="InductiveConstructor Operator">&amp;</a> <a id="6810" href="#6799" class="Bound">x</a> <a id="6812" href="#6746" class="InductiveConstructor Operator">∷</a> <a id="6814" href="#6797" class="Bound">q</a> <a id="6816" href="#6746" class="InductiveConstructor Operator">&amp;</a> <a id="6818" href="#6799" class="Bound">x</a> <a id="6820" href="#6746" class="InductiveConstructor Operator">∷</a> <a id="6822" href="#6801" class="Bound">xs</a> <a id="6825" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="6827" href="#6795" class="Bound">p</a> <a id="6829" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="6831" href="#6797" class="Bound">q</a> <a id="6833" href="#6746" class="InductiveConstructor Operator">&amp;</a> <a id="6835" href="#6799" class="Bound">x</a> <a id="6837" href="#6746" class="InductiveConstructor Operator">∷</a> <a id="6839" href="#6801" class="Bound">xs</a>
   <a id="Initial.𝒫.com"></a><a id="6845" href="#6845" class="InductiveConstructor">com</a> <a id="6849" class="Symbol">:</a> <a id="6851" class="Symbol">∀</a> <a id="6853" href="#6853" class="Bound">p</a> <a id="6855" href="#6855" class="Bound">x</a> <a id="6857" href="#6857" class="Bound">q</a> <a id="6859" href="#6859" class="Bound">y</a> <a id="6861" href="#6861" class="Bound">xs</a> <a id="6864" class="Symbol">→</a> <a id="6866" href="#6853" class="Bound">p</a> <a id="6868" href="#6746" class="InductiveConstructor Operator">&amp;</a> <a id="6870" href="#6855" class="Bound">x</a> <a id="6872" href="#6746" class="InductiveConstructor Operator">∷</a> <a id="6874" href="#6857" class="Bound">q</a> <a id="6876" href="#6746" class="InductiveConstructor Operator">&amp;</a> <a id="6878" href="#6859" class="Bound">y</a> <a id="6880" href="#6746" class="InductiveConstructor Operator">∷</a> <a id="6882" href="#6861" class="Bound">xs</a> <a id="6885" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="6887" href="#6857" class="Bound">q</a> <a id="6889" href="#6746" class="InductiveConstructor Operator">&amp;</a> <a id="6891" href="#6859" class="Bound">y</a> <a id="6893" href="#6746" class="InductiveConstructor Operator">∷</a> <a id="6895" href="#6853" class="Bound">p</a> <a id="6897" href="#6746" class="InductiveConstructor Operator">&amp;</a> <a id="6899" href="#6855" class="Bound">x</a> <a id="6901" href="#6746" class="InductiveConstructor Operator">∷</a> <a id="6903" href="#6861" class="Bound">xs</a>
   <a id="Initial.𝒫.del"></a><a id="6909" href="#6909" class="InductiveConstructor">del</a> <a id="6913" class="Symbol">:</a> <a id="6915" class="Symbol">∀</a> <a id="6917" href="#6917" class="Bound">x</a> <a id="6919" href="#6919" class="Bound">xs</a> <a id="6922" class="Symbol">→</a> <a id="6924" href="../code/probability/ProbabilityModule.Semirings.html#254" class="Field">0#</a> <a id="6927" href="#6746" class="InductiveConstructor Operator">&amp;</a> <a id="6929" href="#6917" class="Bound">x</a> <a id="6931" href="#6746" class="InductiveConstructor Operator">∷</a> <a id="6933" href="#6919" class="Bound">xs</a> <a id="6936" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="6938" href="#6919" class="Bound">xs</a>
</pre>
The three extra conditions are pretty sensible: the first removes duplicates,
the second makes things commutative, and the third removes impossible events.

Let's get to writing some functions, then:

<pre class="Agda"> <a id="Initial.∫"></a><a id="7156" href="#7156" class="Function">∫</a> <a id="7158" class="Symbol">:</a> <a id="7160" class="Symbol">(</a><a id="7161" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="7163" class="Symbol">→</a> <a id="7165" href="../code/probability/ProbabilityModule.Semirings.html#200" class="Field">R</a><a id="7166" class="Symbol">)</a> <a id="7168" class="Symbol">→</a> <a id="7170" href="#6696" class="Datatype">𝒫</a> <a id="7172" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="7174" class="Symbol">→</a> <a id="7176" href="../code/probability/ProbabilityModule.Semirings.html#200" class="Field">R</a>
 <a id="7179" href="#7156" class="Function">∫</a> <a id="7181" href="#7181" class="Bound">f</a> <a id="7183" href="#6733" class="InductiveConstructor">[]</a> <a id="7186" class="Symbol">=</a> <a id="7188" href="../code/probability/ProbabilityModule.Semirings.html#254" class="Field">0#</a>
 <a id="7192" href="#7156" class="Function">∫</a> <a id="7194" href="#7194" class="Bound">f</a> <a id="7196" class="Symbol">(</a><a id="7197" href="#7197" class="Bound">p</a> <a id="7199" href="#6746" class="InductiveConstructor Operator">&amp;</a> <a id="7201" href="#7201" class="Bound">x</a> <a id="7203" href="#6746" class="InductiveConstructor Operator">∷</a> <a id="7205" href="#7205" class="Bound">xs</a><a id="7207" class="Symbol">)</a> <a id="7209" class="Symbol">=</a> <a id="7211" href="#7197" class="Bound">p</a> <a id="7213" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="7215" href="#7194" class="Bound">f</a> <a id="7217" href="#7201" class="Bound">x</a> <a id="7219" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="7221" href="#7156" class="Function">∫</a> <a id="7223" href="#7194" class="Bound">f</a> <a id="7225" href="#7205" class="Bound">xs</a>
 <a id="7229" href="#7156" class="Function">∫</a> <a id="7231" href="#7231" class="Bound">f</a> <a id="7233" class="Symbol">(</a><a id="7234" href="#6787" class="InductiveConstructor">dup</a> <a id="7238" href="#7238" class="Bound">p</a> <a id="7240" href="#7240" class="Bound">q</a> <a id="7242" href="#7242" class="Bound">x</a> <a id="7244" href="#7244" class="Bound">xs</a> <a id="7247" href="#7247" class="Bound">i</a><a id="7248" class="Symbol">)</a> <a id="7250" class="Symbol">=</a> <a id="7252" href="../code/probability/ProbabilityModule.Utils.html#645" class="Function Operator">begin[</a> <a id="7259" href="#7247" class="Bound">i</a> <a id="7261" href="../code/probability/ProbabilityModule.Utils.html#645" class="Function Operator">]</a>
   <a id="7266" href="#7238" class="Bound">p</a> <a id="7268" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="7270" href="#7231" class="Bound">f</a> <a id="7272" href="#7242" class="Bound">x</a> <a id="7274" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="7276" class="Symbol">(</a><a id="7277" href="#7240" class="Bound">q</a> <a id="7279" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="7281" href="#7231" class="Bound">f</a> <a id="7283" href="#7242" class="Bound">x</a> <a id="7285" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="7287" href="#7156" class="Function">∫</a> <a id="7289" href="#7231" class="Bound">f</a> <a id="7291" href="#7244" class="Bound">xs</a><a id="7293" class="Symbol">)</a> <a id="7295" href="../code/probability/ProbabilityModule.Utils.html#295" class="Function">≡˘⟨</a> <a id="7299" href="../code/probability/ProbabilityModule.Semirings.html#276" class="Field">+-assoc</a> <a id="7307" class="Symbol">(</a><a id="7308" href="#7238" class="Bound">p</a> <a id="7310" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="7312" href="#7231" class="Bound">f</a> <a id="7314" href="#7242" class="Bound">x</a><a id="7315" class="Symbol">)</a> <a id="7317" class="Symbol">(</a><a id="7318" href="#7240" class="Bound">q</a> <a id="7320" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="7322" href="#7231" class="Bound">f</a> <a id="7324" href="#7242" class="Bound">x</a><a id="7325" class="Symbol">)</a> <a id="7327" class="Symbol">(</a><a id="7328" href="#7156" class="Function">∫</a> <a id="7330" href="#7231" class="Bound">f</a> <a id="7332" href="#7244" class="Bound">xs</a><a id="7334" class="Symbol">)</a> <a id="7336" href="../code/probability/ProbabilityModule.Utils.html#295" class="Function">⟩</a>
   <a id="7341" class="Symbol">(</a><a id="7342" href="#7238" class="Bound">p</a> <a id="7344" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="7346" href="#7231" class="Bound">f</a> <a id="7348" href="#7242" class="Bound">x</a> <a id="7350" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="7352" href="#7240" class="Bound">q</a> <a id="7354" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="7356" href="#7231" class="Bound">f</a> <a id="7358" href="#7242" class="Bound">x</a><a id="7359" class="Symbol">)</a> <a id="7361" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="7363" href="#7156" class="Function">∫</a> <a id="7365" href="#7231" class="Bound">f</a> <a id="7367" href="#7244" class="Bound">xs</a> <a id="7370" href="../code/probability/ProbabilityModule.Utils.html#295" class="Function">≡˘⟨</a> <a id="7374" href="../code/probability/Cubical.Foundations.Prelude.html#1027" class="Function">cong</a> <a id="7379" class="Symbol">(</a><a id="7380" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">_+</a> <a id="7383" href="#7156" class="Function">∫</a> <a id="7385" href="#7231" class="Bound">f</a> <a id="7387" href="#7244" class="Bound">xs</a><a id="7389" class="Symbol">)</a> <a id="7391" class="Symbol">(</a><a id="7392" href="../code/probability/ProbabilityModule.Semirings.html#592" class="Field">⟨+⟩*</a> <a id="7397" href="#7238" class="Bound">p</a> <a id="7399" href="#7240" class="Bound">q</a> <a id="7401" class="Symbol">(</a><a id="7402" href="#7231" class="Bound">f</a> <a id="7404" href="#7242" class="Bound">x</a><a id="7405" class="Symbol">))</a>  <a id="7409" href="../code/probability/ProbabilityModule.Utils.html#295" class="Function">⟩</a>
   <a id="7414" class="Symbol">(</a><a id="7415" href="#7238" class="Bound">p</a> <a id="7417" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="7419" href="#7240" class="Bound">q</a><a id="7420" class="Symbol">)</a> <a id="7422" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="7424" href="#7231" class="Bound">f</a> <a id="7426" href="#7242" class="Bound">x</a> <a id="7428" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="7430" href="#7156" class="Function">∫</a> <a id="7432" href="#7231" class="Bound">f</a> <a id="7434" href="#7244" class="Bound">xs</a> <a id="7437" href="../code/probability/Cubical.Foundations.Prelude.html#2745" class="Function Operator">∎</a>
 <a id="7440" href="#7156" class="Function">∫</a> <a id="7442" href="#7442" class="Bound">f</a> <a id="7444" class="Symbol">(</a><a id="7445" href="#6845" class="InductiveConstructor">com</a> <a id="7449" href="#7449" class="Bound">p</a> <a id="7451" href="#7451" class="Bound">x</a> <a id="7453" href="#7453" class="Bound">q</a> <a id="7455" href="#7455" class="Bound">y</a> <a id="7457" href="#7457" class="Bound">xs</a> <a id="7460" href="#7460" class="Bound">i</a><a id="7461" class="Symbol">)</a> <a id="7463" class="Symbol">=</a> <a id="7465" href="../code/probability/ProbabilityModule.Utils.html#645" class="Function Operator">begin[</a> <a id="7472" href="#7460" class="Bound">i</a> <a id="7474" href="../code/probability/ProbabilityModule.Utils.html#645" class="Function Operator">]</a>
   <a id="7479" href="#7449" class="Bound">p</a> <a id="7481" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="7483" href="#7442" class="Bound">f</a> <a id="7485" href="#7451" class="Bound">x</a> <a id="7487" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="7489" class="Symbol">(</a><a id="7490" href="#7453" class="Bound">q</a> <a id="7492" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="7494" href="#7442" class="Bound">f</a> <a id="7496" href="#7455" class="Bound">y</a> <a id="7498" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="7500" href="#7156" class="Function">∫</a> <a id="7502" href="#7442" class="Bound">f</a> <a id="7504" href="#7457" class="Bound">xs</a><a id="7506" class="Symbol">)</a> <a id="7508" href="../code/probability/ProbabilityModule.Utils.html#295" class="Function">≡˘⟨</a> <a id="7512" href="../code/probability/ProbabilityModule.Semirings.html#276" class="Field">+-assoc</a> <a id="7520" class="Symbol">(</a><a id="7521" href="#7449" class="Bound">p</a> <a id="7523" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="7525" href="#7442" class="Bound">f</a> <a id="7527" href="#7451" class="Bound">x</a><a id="7528" class="Symbol">)</a> <a id="7530" class="Symbol">(</a><a id="7531" href="#7453" class="Bound">q</a> <a id="7533" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="7535" href="#7442" class="Bound">f</a> <a id="7537" href="#7455" class="Bound">y</a><a id="7538" class="Symbol">)</a> <a id="7540" class="Symbol">(</a><a id="7541" href="#7156" class="Function">∫</a> <a id="7543" href="#7442" class="Bound">f</a> <a id="7545" href="#7457" class="Bound">xs</a><a id="7547" class="Symbol">)</a> <a id="7549" href="../code/probability/ProbabilityModule.Utils.html#295" class="Function">⟩</a>
   <a id="7554" href="#7449" class="Bound">p</a> <a id="7556" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="7558" href="#7442" class="Bound">f</a> <a id="7560" href="#7451" class="Bound">x</a> <a id="7562" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="7564" href="#7453" class="Bound">q</a> <a id="7566" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="7568" href="#7442" class="Bound">f</a> <a id="7570" href="#7455" class="Bound">y</a> <a id="7572" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="7574" href="#7156" class="Function">∫</a> <a id="7576" href="#7442" class="Bound">f</a> <a id="7578" href="#7457" class="Bound">xs</a>   <a id="7583" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="7586" href="../code/probability/Cubical.Foundations.Prelude.html#1027" class="Function">cong</a> <a id="7591" class="Symbol">(</a><a id="7592" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">_+</a> <a id="7595" href="#7156" class="Function">∫</a> <a id="7597" href="#7442" class="Bound">f</a> <a id="7599" href="#7457" class="Bound">xs</a><a id="7601" class="Symbol">)</a> <a id="7603" class="Symbol">(</a><a id="7604" href="../code/probability/ProbabilityModule.Semirings.html#508" class="Field">+-comm</a> <a id="7611" class="Symbol">(</a><a id="7612" href="#7449" class="Bound">p</a> <a id="7614" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="7616" href="#7442" class="Bound">f</a> <a id="7618" href="#7451" class="Bound">x</a><a id="7619" class="Symbol">)</a> <a id="7621" class="Symbol">(</a><a id="7622" href="#7453" class="Bound">q</a> <a id="7624" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="7626" href="#7442" class="Bound">f</a> <a id="7628" href="#7455" class="Bound">y</a><a id="7629" class="Symbol">))</a> <a id="7632" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
   <a id="7637" href="#7453" class="Bound">q</a> <a id="7639" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="7641" href="#7442" class="Bound">f</a> <a id="7643" href="#7455" class="Bound">y</a> <a id="7645" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="7647" href="#7449" class="Bound">p</a> <a id="7649" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="7651" href="#7442" class="Bound">f</a> <a id="7653" href="#7451" class="Bound">x</a> <a id="7655" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="7657" href="#7156" class="Function">∫</a> <a id="7659" href="#7442" class="Bound">f</a> <a id="7661" href="#7457" class="Bound">xs</a>   <a id="7666" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="7669" href="../code/probability/ProbabilityModule.Semirings.html#276" class="Field">+-assoc</a> <a id="7677" class="Symbol">(</a><a id="7678" href="#7453" class="Bound">q</a> <a id="7680" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="7682" href="#7442" class="Bound">f</a> <a id="7684" href="#7455" class="Bound">y</a><a id="7685" class="Symbol">)</a> <a id="7687" class="Symbol">(</a><a id="7688" href="#7449" class="Bound">p</a> <a id="7690" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="7692" href="#7442" class="Bound">f</a> <a id="7694" href="#7451" class="Bound">x</a><a id="7695" class="Symbol">)</a> <a id="7697" class="Symbol">(</a><a id="7698" href="#7156" class="Function">∫</a> <a id="7700" href="#7442" class="Bound">f</a> <a id="7702" href="#7457" class="Bound">xs</a><a id="7704" class="Symbol">)</a> <a id="7706" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
   <a id="7711" href="#7453" class="Bound">q</a> <a id="7713" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="7715" href="#7442" class="Bound">f</a> <a id="7717" href="#7455" class="Bound">y</a> <a id="7719" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="7721" class="Symbol">(</a><a id="7722" href="#7449" class="Bound">p</a> <a id="7724" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="7726" href="#7442" class="Bound">f</a> <a id="7728" href="#7451" class="Bound">x</a> <a id="7730" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="7732" href="#7156" class="Function">∫</a> <a id="7734" href="#7442" class="Bound">f</a> <a id="7736" href="#7457" class="Bound">xs</a><a id="7738" class="Symbol">)</a> <a id="7740" href="../code/probability/Cubical.Foundations.Prelude.html#2745" class="Function Operator">∎</a>
 <a id="7743" href="#7156" class="Function">∫</a> <a id="7745" href="#7745" class="Bound">f</a> <a id="7747" class="Symbol">(</a><a id="7748" href="#6909" class="InductiveConstructor">del</a> <a id="7752" href="#7752" class="Bound">x</a> <a id="7754" href="#7754" class="Bound">xs</a> <a id="7757" href="#7757" class="Bound">i</a><a id="7758" class="Symbol">)</a> <a id="7760" class="Symbol">=</a> <a id="7762" href="../code/probability/ProbabilityModule.Utils.html#645" class="Function Operator">begin[</a> <a id="7769" href="#7757" class="Bound">i</a> <a id="7771" href="../code/probability/ProbabilityModule.Utils.html#645" class="Function Operator">]</a>
   <a id="7776" href="../code/probability/ProbabilityModule.Semirings.html#254" class="Field">0#</a> <a id="7779" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="7781" href="#7745" class="Bound">f</a> <a id="7783" href="#7752" class="Bound">x</a> <a id="7785" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="7787" href="#7156" class="Function">∫</a> <a id="7789" href="#7745" class="Bound">f</a> <a id="7791" href="#7754" class="Bound">xs</a> <a id="7794" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="7797" href="../code/probability/Cubical.Foundations.Prelude.html#1027" class="Function">cong</a> <a id="7802" class="Symbol">(</a><a id="7803" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">_+</a> <a id="7806" href="#7156" class="Function">∫</a> <a id="7808" href="#7745" class="Bound">f</a> <a id="7810" href="#7754" class="Bound">xs</a><a id="7812" class="Symbol">)</a> <a id="7814" class="Symbol">(</a><a id="7815" href="../code/probability/ProbabilityModule.Semirings.html#403" class="Field">0*</a> <a id="7818" class="Symbol">(</a><a id="7819" href="#7745" class="Bound">f</a> <a id="7821" href="#7752" class="Bound">x</a><a id="7822" class="Symbol">))</a> <a id="7825" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
   <a id="7830" href="../code/probability/ProbabilityModule.Semirings.html#254" class="Field">0#</a> <a id="7833" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="7835" href="#7156" class="Function">∫</a> <a id="7837" href="#7745" class="Bound">f</a> <a id="7839" href="#7754" class="Bound">xs</a>       <a id="7848" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="7851" href="../code/probability/ProbabilityModule.Semirings.html#430" class="Field">0+</a> <a id="7854" class="Symbol">(</a><a id="7855" href="#7156" class="Function">∫</a> <a id="7857" href="#7745" class="Bound">f</a> <a id="7859" href="#7754" class="Bound">xs</a><a id="7861" class="Symbol">)</a> <a id="7863" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
   <a id="7868" href="#7156" class="Function">∫</a> <a id="7870" href="#7745" class="Bound">f</a> <a id="7872" href="#7754" class="Bound">xs</a> <a id="7875" href="../code/probability/Cubical.Foundations.Prelude.html#2745" class="Function Operator">∎</a>
</pre>
This is much more involved than the free monoid function, but the principle is
the same: we first write the actual function (on the first three lines), and
then we show that the function doesn't care about the "rewrite rules" we have in
the next three clauses.

Before going any further, we will have to amend the definition a little.
The problem is that if we tried to prove something about any function on our
`𝒫` type, we'd have to prove equalities *between equalities* as well.
I'm sure that this is possible, but it's very annoying, so I'm going to use a
technique I saw in [this repository](https://github.com/L-TChen/FiniteSets).
We add another rule to our type, stating that all equalities on the type are
themselves equal.
The new definition looks like this:

<pre class="Agda"><a id="8659" class="Keyword">infixr</a> <a id="8666" class="Number">5</a> <a id="8668" href="#8727" class="InductiveConstructor Operator">_&amp;_∷_</a>
<a id="8674" class="Keyword">data</a> <a id="𝒫"></a><a id="8679" href="#8679" class="Datatype">𝒫</a> <a id="8681" class="Symbol">(</a><a id="8682" href="#8682" class="Bound">A</a> <a id="8684" class="Symbol">:</a> <a id="8686" class="PrimitiveType">Set</a> <a id="8690" href="../code/probability/ProbabilityModule.Utils.html#178" class="Generalizable">a</a><a id="8691" class="Symbol">)</a> <a id="8693" class="Symbol">:</a> <a id="8695" class="PrimitiveType">Set</a> <a id="8699" class="Symbol">(</a><a id="8700" href="#8690" class="Bound">a</a> <a id="8702" href="../code/probability/ProbabilityModule.Utils.html#242" class="Function Operator">⊔</a> <a id="8704" href="#1020" class="Bound">s</a><a id="8705" class="Symbol">)</a> <a id="8707" class="Keyword">where</a>
  <a id="𝒫.[]"></a><a id="8715" href="#8715" class="InductiveConstructor">[]</a>  <a id="8719" class="Symbol">:</a> <a id="8721" href="#8679" class="Datatype">𝒫</a> <a id="8723" href="#8682" class="Bound">A</a>
  <a id="𝒫._&amp;_∷_"></a><a id="8727" href="#8727" class="InductiveConstructor Operator">_&amp;_∷_</a> <a id="8733" class="Symbol">:</a> <a id="8735" class="Symbol">(</a><a id="8736" href="#8736" class="Bound">p</a> <a id="8738" class="Symbol">:</a> <a id="8740" href="../code/probability/ProbabilityModule.Semirings.html#200" class="Field">R</a><a id="8741" class="Symbol">)</a> <a id="8743" class="Symbol">→</a> <a id="8745" class="Symbol">(</a><a id="8746" href="#8746" class="Bound">x</a> <a id="8748" class="Symbol">:</a> <a id="8750" href="#8682" class="Bound">A</a><a id="8751" class="Symbol">)</a> <a id="8753" class="Symbol">→</a> <a id="8755" href="#8679" class="Datatype">𝒫</a> <a id="8757" href="#8682" class="Bound">A</a> <a id="8759" class="Symbol">→</a> <a id="8761" href="#8679" class="Datatype">𝒫</a> <a id="8763" href="#8682" class="Bound">A</a>
  <a id="𝒫.dup"></a><a id="8767" href="#8767" class="InductiveConstructor">dup</a> <a id="8771" class="Symbol">:</a> <a id="8773" class="Symbol">∀</a> <a id="8775" href="#8775" class="Bound">p</a> <a id="8777" href="#8777" class="Bound">q</a> <a id="8779" href="#8779" class="Bound">x</a> <a id="8781" href="#8781" class="Bound">xs</a> <a id="8784" class="Symbol">→</a> <a id="8786" href="#8775" class="Bound">p</a> <a id="8788" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="8790" href="#8779" class="Bound">x</a> <a id="8792" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="8794" href="#8777" class="Bound">q</a> <a id="8796" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="8798" href="#8779" class="Bound">x</a> <a id="8800" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="8802" href="#8781" class="Bound">xs</a> <a id="8805" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="8807" href="#8775" class="Bound">p</a> <a id="8809" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="8811" href="#8777" class="Bound">q</a> <a id="8813" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="8815" href="#8779" class="Bound">x</a> <a id="8817" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="8819" href="#8781" class="Bound">xs</a>
  <a id="𝒫.com"></a><a id="8824" href="#8824" class="InductiveConstructor">com</a> <a id="8828" class="Symbol">:</a> <a id="8830" class="Symbol">∀</a> <a id="8832" href="#8832" class="Bound">p</a> <a id="8834" href="#8834" class="Bound">x</a> <a id="8836" href="#8836" class="Bound">q</a> <a id="8838" href="#8838" class="Bound">y</a> <a id="8840" href="#8840" class="Bound">xs</a> <a id="8843" class="Symbol">→</a> <a id="8845" href="#8832" class="Bound">p</a> <a id="8847" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="8849" href="#8834" class="Bound">x</a> <a id="8851" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="8853" href="#8836" class="Bound">q</a> <a id="8855" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="8857" href="#8838" class="Bound">y</a> <a id="8859" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="8861" href="#8840" class="Bound">xs</a> <a id="8864" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="8866" href="#8836" class="Bound">q</a> <a id="8868" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="8870" href="#8838" class="Bound">y</a> <a id="8872" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="8874" href="#8832" class="Bound">p</a> <a id="8876" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="8878" href="#8834" class="Bound">x</a> <a id="8880" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="8882" href="#8840" class="Bound">xs</a>
  <a id="𝒫.del"></a><a id="8887" href="#8887" class="InductiveConstructor">del</a> <a id="8891" class="Symbol">:</a> <a id="8893" class="Symbol">∀</a> <a id="8895" href="#8895" class="Bound">x</a> <a id="8897" href="#8897" class="Bound">xs</a> <a id="8900" class="Symbol">→</a> <a id="8902" href="../code/probability/ProbabilityModule.Semirings.html#254" class="Field">0#</a> <a id="8905" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="8907" href="#8895" class="Bound">x</a> <a id="8909" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="8911" href="#8897" class="Bound">xs</a> <a id="8914" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="8916" href="#8897" class="Bound">xs</a>
  <a id="𝒫.trunc"></a><a id="8921" href="#8921" class="InductiveConstructor">trunc</a> <a id="8927" class="Symbol">:</a> <a id="8929" href="../code/probability/Cubical.Foundations.Prelude.html#5455" class="Function">isSet</a> <a id="8935" class="Symbol">(</a><a id="8936" href="#8679" class="Datatype">𝒫</a> <a id="8938" href="#8682" class="Bound">A</a><a id="8939" class="Symbol">)</a>
</pre>
# Eliminators

Unfortunately, after adding that case we have to deal with it explicitly in
every pattern-match on `𝒫`.
We can get around it by writing an eliminator for the type which deals with it
itself.
Eliminators are often irritating to work with, though: we give up the nice
pattern-matching syntax we get when we program directly.
It's a bit like having to rely on church encoding everywhere.

However, we can get back some pattern-like syntax if we use *copatterns*. Here's
an example of what I mean, for folds on lists:

<pre class="Agda"><a id="9484" class="Keyword">module</a> <a id="ListElim"></a><a id="9491" href="#9491" class="Module">ListElim</a> <a id="9500" class="Keyword">where</a>
 <a id="9507" class="Keyword">open</a> <a id="9512" href="#2748" class="Module">NormalList</a>
 <a id="9524" class="Keyword">open</a> <a id="9529" class="Keyword">import</a> <a id="9536" href="../code/probability/ProbabilityModule.Semirings.Nat.html" class="Module">ProbabilityModule.Semirings.Nat</a>
 <a id="9569" class="Keyword">open</a> <a id="9574" href="../code/probability/ProbabilityModule.Semirings.html#125" class="Module">Semiring</a> <a id="9583" href="../code/probability/ProbabilityModule.Semirings.Nat.html#1820" class="Function">+-*-𝕊</a> <a id="9589" class="Keyword">renaming</a> <a id="9598" class="Symbol">(</a>_+_ <a id="9603" class="Symbol">to</a> _ℕ+_<a id="9610" class="Symbol">)</a>

 <a id="9614" class="Keyword">record</a> <a id="ListElim.[_↦_]"></a><a id="9621" href="#9621" class="Record Operator">[_↦_]</a> <a id="9627" class="Symbol">(</a><a id="9628" href="#9628" class="Bound">A</a> <a id="9630" class="Symbol">:</a> <a id="9632" class="PrimitiveType">Set</a> <a id="9636" href="../code/probability/ProbabilityModule.Utils.html#178" class="Generalizable">a</a><a id="9637" class="Symbol">)</a> <a id="9639" class="Symbol">(</a><a id="9640" href="#9640" class="Bound">B</a> <a id="9642" class="Symbol">:</a> <a id="9644" class="PrimitiveType">Set</a> <a id="9648" href="../code/probability/ProbabilityModule.Utils.html#180" class="Generalizable">b</a><a id="9649" class="Symbol">)</a> <a id="9651" class="Symbol">:</a> <a id="9653" class="PrimitiveType">Set</a> <a id="9657" class="Symbol">(</a><a id="9658" href="#9636" class="Bound">a</a> <a id="9660" href="../code/probability/ProbabilityModule.Utils.html#242" class="Function Operator">⊔</a> <a id="9662" href="#9648" class="Bound">b</a><a id="9663" class="Symbol">)</a> <a id="9665" class="Keyword">where</a>
   <a id="9674" class="Keyword">field</a>
     <a id="ListElim.[_↦_].[_][]"></a><a id="9685" href="#9685" class="Field Operator">[_][]</a> <a id="9691" class="Symbol">:</a> <a id="9693" href="#9640" class="Bound">B</a>
     <a id="ListElim.[_↦_].[_]_∷_"></a><a id="9700" href="#9700" class="Field Operator">[_]_∷_</a> <a id="9707" class="Symbol">:</a> <a id="9709" href="#9628" class="Bound">A</a> <a id="9711" class="Symbol">→</a> <a id="9713" href="#9640" class="Bound">B</a> <a id="9715" class="Symbol">→</a> <a id="9717" href="#9640" class="Bound">B</a>
   <a id="ListElim.[_↦_].[_]↓"></a><a id="9722" href="#9722" class="Function Operator">[_]↓</a> <a id="9727" class="Symbol">:</a> <a id="9729" href="#2771" class="Datatype">List</a> <a id="9734" href="#9628" class="Bound">A</a> <a id="9736" class="Symbol">→</a> <a id="9738" href="#9640" class="Bound">B</a>
   <a id="9743" href="#9722" class="Function Operator">[</a> <a id="9745" href="#2809" class="InductiveConstructor">[]</a> <a id="9748" href="#9722" class="Function Operator">]↓</a> <a id="9751" class="Symbol">=</a> <a id="9753" href="#9685" class="Field Operator">[_][]</a>
   <a id="9762" href="#9722" class="Function Operator">[</a> <a id="9764" href="#9764" class="Bound">x</a> <a id="9766" href="#2824" class="InductiveConstructor Operator">∷</a> <a id="9768" href="#9768" class="Bound">xs</a> <a id="9771" href="#9722" class="Function Operator">]↓</a> <a id="9774" class="Symbol">=</a> <a id="9776" href="#9700" class="Field Operator">[_]_∷_</a> <a id="9783" href="#9764" class="Bound">x</a> <a id="9785" href="#9722" class="Function Operator">[</a> <a id="9787" href="#9768" class="Bound">xs</a> <a id="9790" href="#9722" class="Function Operator">]↓</a>
 <a id="9794" class="Keyword">open</a> <a id="9799" href="#9621" class="Module Operator">[_↦_]</a>
 
 <a id="ListElim.sum-alg"></a><a id="9808" href="#9808" class="Function">sum-alg</a> <a id="9816" class="Symbol">:</a> <a id="9818" href="#9621" class="Record Operator">[</a> <a id="9820" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a> <a id="9822" href="#9621" class="Record Operator">↦</a> <a id="9824" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a> <a id="9826" href="#9621" class="Record Operator">]</a>
 <a id="9829" href="#9685" class="Field Operator">[</a> <a id="9831" href="#9808" class="Function">sum-alg</a> <a id="9839" href="#9685" class="Field Operator">][]</a> <a id="9843" class="Symbol">=</a> <a id="9845" class="Number">0</a>
 <a id="9848" href="#9700" class="Field Operator">[</a> <a id="9850" href="#9808" class="Function">sum-alg</a> <a id="9858" href="#9700" class="Field Operator">]</a> <a id="9860" href="#9860" class="Bound">x</a> <a id="9862" href="#9700" class="Field Operator">∷</a> <a id="9864" href="#9864" class="Bound">xs</a> <a id="9867" class="Symbol">=</a> <a id="9869" href="#9860" class="Bound">x</a> <a id="9871" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Function Operator">ℕ+</a> <a id="9874" href="#9864" class="Bound">xs</a>
 
 <a id="ListElim.sum"></a><a id="9880" href="#9880" class="Function">sum</a> <a id="9884" class="Symbol">:</a> <a id="9886" href="#2771" class="Datatype">List</a> <a id="9891" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a> <a id="9893" class="Symbol">→</a> <a id="9895" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a>
 <a id="9898" href="#9880" class="Function">sum</a> <a id="9902" class="Symbol">=</a> <a id="9904" href="#9722" class="Function Operator">[</a> <a id="9906" href="#9808" class="Function">sum-alg</a> <a id="9914" href="#9722" class="Function Operator">]↓</a>
</pre>
For the probability monad, there's an eliminator for the whole thing, and
eliminator for propositional proofs, and a normal eliminator for folding.
Their definitions are quite long, but mechanical.

<details>
<summary>Eliminator Definitions</summary>
<pre class="Agda"><a id="10181" class="Keyword">record</a> <a id="⟅_↝_⟆"></a><a id="10188" href="#10188" class="Record Operator">⟅_↝_⟆</a> <a id="10194" class="Symbol">{</a><a id="10195" href="#10195" class="Bound">a</a> <a id="10197" href="#10197" class="Bound">ℓ</a><a id="10198" class="Symbol">}</a> <a id="10200" class="Symbol">(</a><a id="10201" href="#10201" class="Bound">A</a> <a id="10203" class="Symbol">:</a> <a id="10205" class="PrimitiveType">Set</a> <a id="10209" href="#10195" class="Bound">a</a><a id="10210" class="Symbol">)</a> <a id="10212" class="Symbol">(</a><a id="10213" href="#10213" class="Bound">P</a> <a id="10215" class="Symbol">:</a> <a id="10217" href="#8679" class="Datatype">𝒫</a> <a id="10219" href="#10201" class="Bound">A</a> <a id="10221" class="Symbol">→</a> <a id="10223" class="PrimitiveType">Set</a> <a id="10227" href="#10197" class="Bound">ℓ</a><a id="10228" class="Symbol">)</a> <a id="10230" class="Symbol">:</a> <a id="10232" class="PrimitiveType">Set</a> <a id="10236" class="Symbol">(</a><a id="10237" href="#10195" class="Bound">a</a> <a id="10239" href="../code/probability/ProbabilityModule.Utils.html#242" class="Function Operator">⊔</a> <a id="10241" href="#10197" class="Bound">ℓ</a> <a id="10243" href="../code/probability/ProbabilityModule.Utils.html#242" class="Function Operator">⊔</a> <a id="10245" href="#1020" class="Bound">s</a><a id="10246" class="Symbol">)</a> <a id="10248" class="Keyword">where</a>
  <a id="10256" class="Keyword">constructor</a> <a id="⟅_↝_⟆.elim"></a><a id="10268" href="#10268" class="InductiveConstructor">elim</a>
  <a id="10275" class="Keyword">field</a>
    <a id="⟅_↝_⟆.⟅_⟆-set"></a><a id="10285" href="#10285" class="Field Operator">⟅_⟆-set</a> <a id="10293" class="Symbol">:</a> <a id="10295" class="Symbol">∀</a> <a id="10297" class="Symbol">{</a><a id="10298" href="#10298" class="Bound">xs</a><a id="10300" class="Symbol">}</a> <a id="10302" class="Symbol">→</a> <a id="10304" href="../code/probability/Cubical.Foundations.Prelude.html#5455" class="Function">isSet</a> <a id="10310" class="Symbol">(</a><a id="10311" href="#10213" class="Bound">P</a> <a id="10313" href="#10298" class="Bound">xs</a><a id="10315" class="Symbol">)</a>
    <a id="⟅_↝_⟆.⟅_⟆[]"></a><a id="10321" href="#10321" class="Field Operator">⟅_⟆[]</a> <a id="10327" class="Symbol">:</a> <a id="10329" href="#10213" class="Bound">P</a> <a id="10331" href="#8715" class="InductiveConstructor">[]</a>
    <a id="⟅_↝_⟆.⟅_⟆_&amp;_∷_"></a><a id="10338" href="#10338" class="Field Operator">⟅_⟆_&amp;_∷_</a> <a id="10347" class="Symbol">:</a> <a id="10349" class="Symbol">∀</a> <a id="10351" href="#10351" class="Bound">p</a> <a id="10353" href="#10353" class="Bound">x</a> <a id="10355" href="#10355" class="Bound">xs</a> <a id="10358" class="Symbol">→</a> <a id="10360" href="#10213" class="Bound">P</a> <a id="10362" href="#10355" class="Bound">xs</a> <a id="10365" class="Symbol">→</a> <a id="10367" href="#10213" class="Bound">P</a> <a id="10369" class="Symbol">(</a><a id="10370" href="#10351" class="Bound">p</a> <a id="10372" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="10374" href="#10353" class="Bound">x</a> <a id="10376" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="10378" href="#10355" class="Bound">xs</a><a id="10380" class="Symbol">)</a>
  <a id="10384" class="Keyword">private</a> <a id="⟅_↝_⟆.z"></a><a id="10392" href="#10392" class="Function">z</a> <a id="10394" class="Symbol">=</a> <a id="10396" href="#10321" class="Field Operator">⟅_⟆[]</a><a id="10401" class="Symbol">;</a> <a id="⟅_↝_⟆.f"></a><a id="10403" href="#10403" class="Function">f</a> <a id="10405" class="Symbol">=</a> <a id="10407" href="#10338" class="Field Operator">⟅_⟆_&amp;_∷_</a>
  <a id="10418" class="Keyword">field</a>
    <a id="⟅_↝_⟆.⟅_⟆-dup"></a><a id="10428" href="#10428" class="Field Operator">⟅_⟆-dup</a> <a id="10436" class="Symbol">:</a> <a id="10438" class="Symbol">(∀</a> <a id="10441" href="#10441" class="Bound">p</a> <a id="10443" href="#10443" class="Bound">q</a> <a id="10445" href="#10445" class="Bound">x</a> <a id="10447" href="#10447" class="Bound">xs</a> <a id="10450" href="#10450" class="Bound">pxs</a> <a id="10454" class="Symbol">→</a> <a id="10456" href="Agda.Builtin.Cubical.Path.html#162" class="Postulate">PathP</a> <a id="10462" class="Symbol">(λ</a> <a id="10465" href="#10465" class="Bound">i</a> <a id="10467" class="Symbol">→</a> <a id="10469" href="#10213" class="Bound">P</a> <a id="10471" class="Symbol">(</a><a id="10472" href="#8767" class="InductiveConstructor">dup</a> <a id="10476" href="#10441" class="Bound">p</a> <a id="10478" href="#10443" class="Bound">q</a> <a id="10480" href="#10445" class="Bound">x</a> <a id="10482" href="#10447" class="Bound">xs</a> <a id="10485" href="#10465" class="Bound">i</a><a id="10486" class="Symbol">))</a>
              <a id="10503" class="Symbol">(</a><a id="10504" href="#10403" class="Function">f</a> <a id="10506" href="#10441" class="Bound">p</a> <a id="10508" href="#10445" class="Bound">x</a> <a id="10510" class="Symbol">(</a><a id="10511" href="#10443" class="Bound">q</a> <a id="10513" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="10515" href="#10445" class="Bound">x</a> <a id="10517" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="10519" href="#10447" class="Bound">xs</a><a id="10521" class="Symbol">)</a> <a id="10523" class="Symbol">(</a><a id="10524" href="#10403" class="Function">f</a> <a id="10526" href="#10443" class="Bound">q</a> <a id="10528" href="#10445" class="Bound">x</a> <a id="10530" href="#10447" class="Bound">xs</a> <a id="10533" href="#10450" class="Bound">pxs</a><a id="10536" class="Symbol">))</a> <a id="10539" class="Symbol">(</a><a id="10540" href="#10403" class="Function">f</a> <a id="10542" class="Symbol">(</a><a id="10543" href="#10441" class="Bound">p</a> <a id="10545" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="10547" href="#10443" class="Bound">q</a><a id="10548" class="Symbol">)</a> <a id="10550" href="#10445" class="Bound">x</a> <a id="10552" href="#10447" class="Bound">xs</a> <a id="10555" href="#10450" class="Bound">pxs</a><a id="10558" class="Symbol">))</a>
    <a id="⟅_↝_⟆.⟅_⟆-com"></a><a id="10565" href="#10565" class="Field Operator">⟅_⟆-com</a> <a id="10573" class="Symbol">:</a> <a id="10575" class="Symbol">(∀</a> <a id="10578" href="#10578" class="Bound">p</a> <a id="10580" href="#10580" class="Bound">x</a> <a id="10582" href="#10582" class="Bound">q</a> <a id="10584" href="#10584" class="Bound">y</a> <a id="10586" href="#10586" class="Bound">xs</a> <a id="10589" href="#10589" class="Bound">pxs</a> <a id="10593" class="Symbol">→</a> <a id="10595" href="Agda.Builtin.Cubical.Path.html#162" class="Postulate">PathP</a> <a id="10601" class="Symbol">(λ</a> <a id="10604" href="#10604" class="Bound">i</a> <a id="10606" class="Symbol">→</a> <a id="10608" href="#10213" class="Bound">P</a> <a id="10610" class="Symbol">(</a><a id="10611" href="#8824" class="InductiveConstructor">com</a> <a id="10615" href="#10578" class="Bound">p</a> <a id="10617" href="#10580" class="Bound">x</a> <a id="10619" href="#10582" class="Bound">q</a> <a id="10621" href="#10584" class="Bound">y</a> <a id="10623" href="#10586" class="Bound">xs</a> <a id="10626" href="#10604" class="Bound">i</a><a id="10627" class="Symbol">))</a>
              <a id="10644" class="Symbol">(</a><a id="10645" href="#10403" class="Function">f</a> <a id="10647" href="#10578" class="Bound">p</a> <a id="10649" href="#10580" class="Bound">x</a> <a id="10651" class="Symbol">(</a><a id="10652" href="#10582" class="Bound">q</a> <a id="10654" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="10656" href="#10584" class="Bound">y</a> <a id="10658" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="10660" href="#10586" class="Bound">xs</a><a id="10662" class="Symbol">)</a> <a id="10664" class="Symbol">(</a><a id="10665" href="#10403" class="Function">f</a> <a id="10667" href="#10582" class="Bound">q</a> <a id="10669" href="#10584" class="Bound">y</a> <a id="10671" href="#10586" class="Bound">xs</a> <a id="10674" href="#10589" class="Bound">pxs</a><a id="10677" class="Symbol">))</a> <a id="10680" class="Symbol">(</a><a id="10681" href="#10403" class="Function">f</a> <a id="10683" href="#10582" class="Bound">q</a> <a id="10685" href="#10584" class="Bound">y</a> <a id="10687" class="Symbol">(</a><a id="10688" href="#10578" class="Bound">p</a> <a id="10690" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="10692" href="#10580" class="Bound">x</a> <a id="10694" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="10696" href="#10586" class="Bound">xs</a><a id="10698" class="Symbol">)</a> <a id="10700" class="Symbol">(</a><a id="10701" href="#10403" class="Function">f</a> <a id="10703" href="#10578" class="Bound">p</a> <a id="10705" href="#10580" class="Bound">x</a> <a id="10707" href="#10586" class="Bound">xs</a> <a id="10710" href="#10589" class="Bound">pxs</a><a id="10713" class="Symbol">)))</a>
    <a id="⟅_↝_⟆.⟅_⟆-del"></a><a id="10721" href="#10721" class="Field Operator">⟅_⟆-del</a> <a id="10729" class="Symbol">:</a> <a id="10731" class="Symbol">(∀</a> <a id="10734" href="#10734" class="Bound">x</a> <a id="10736" href="#10736" class="Bound">xs</a> <a id="10739" href="#10739" class="Bound">pxs</a> <a id="10743" class="Symbol">→</a> <a id="10745" href="Agda.Builtin.Cubical.Path.html#162" class="Postulate">PathP</a> <a id="10751" class="Symbol">(λ</a> <a id="10754" href="#10754" class="Bound">i</a> <a id="10756" class="Symbol">→</a> <a id="10758" href="#10213" class="Bound">P</a> <a id="10760" class="Symbol">(</a><a id="10761" href="#8887" class="InductiveConstructor">del</a> <a id="10765" href="#10734" class="Bound">x</a> <a id="10767" href="#10736" class="Bound">xs</a> <a id="10770" href="#10754" class="Bound">i</a><a id="10771" class="Symbol">))</a>
              <a id="10788" class="Symbol">(</a><a id="10789" href="#10403" class="Function">f</a> <a id="10791" href="../code/probability/ProbabilityModule.Semirings.html#254" class="Field">0#</a> <a id="10794" href="#10734" class="Bound">x</a> <a id="10796" href="#10736" class="Bound">xs</a> <a id="10799" href="#10739" class="Bound">pxs</a><a id="10802" class="Symbol">)</a> <a id="10804" href="#10739" class="Bound">pxs</a><a id="10807" class="Symbol">)</a>
  <a id="⟅_↝_⟆.⟅_⟆⇓"></a><a id="10811" href="#10811" class="Function Operator">⟅_⟆⇓</a> <a id="10816" class="Symbol">:</a> <a id="10818" class="Symbol">(</a><a id="10819" href="#10819" class="Bound">xs</a> <a id="10822" class="Symbol">:</a> <a id="10824" href="#8679" class="Datatype">𝒫</a> <a id="10826" href="#10201" class="Bound">A</a><a id="10827" class="Symbol">)</a> <a id="10829" class="Symbol">→</a> <a id="10831" href="#10213" class="Bound">P</a> <a id="10833" href="#10819" class="Bound">xs</a>
  <a id="10838" href="#10811" class="Function Operator">⟅</a> <a id="10840" href="#8715" class="InductiveConstructor">[]</a> <a id="10843" href="#10811" class="Function Operator">⟆⇓</a> <a id="10846" class="Symbol">=</a> <a id="10848" href="#10392" class="Function">z</a>
  <a id="10852" href="#10811" class="Function Operator">⟅</a> <a id="10854" href="#10854" class="Bound">p</a> <a id="10856" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="10858" href="#10858" class="Bound">x</a> <a id="10860" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="10862" href="#10862" class="Bound">xs</a> <a id="10865" href="#10811" class="Function Operator">⟆⇓</a> <a id="10868" class="Symbol">=</a> <a id="10870" href="#10403" class="Function">f</a> <a id="10872" href="#10854" class="Bound">p</a> <a id="10874" href="#10858" class="Bound">x</a> <a id="10876" href="#10862" class="Bound">xs</a> <a id="10879" href="#10811" class="Function Operator">⟅</a> <a id="10881" href="#10862" class="Bound">xs</a> <a id="10884" href="#10811" class="Function Operator">⟆⇓</a>
  <a id="10889" href="#10811" class="Function Operator">⟅</a> <a id="10891" href="#8767" class="InductiveConstructor">dup</a> <a id="10895" href="#10895" class="Bound">p</a> <a id="10897" href="#10897" class="Bound">q</a> <a id="10899" href="#10899" class="Bound">x</a> <a id="10901" href="#10901" class="Bound">xs</a> <a id="10904" href="#10904" class="Bound">i</a> <a id="10906" href="#10811" class="Function Operator">⟆⇓</a> <a id="10909" class="Symbol">=</a> <a id="10911" href="#10428" class="Field Operator">⟅_⟆-dup</a> <a id="10919" href="#10895" class="Bound">p</a> <a id="10921" href="#10897" class="Bound">q</a> <a id="10923" href="#10899" class="Bound">x</a> <a id="10925" href="#10901" class="Bound">xs</a> <a id="10928" href="#10811" class="Function Operator">⟅</a> <a id="10930" href="#10901" class="Bound">xs</a> <a id="10933" href="#10811" class="Function Operator">⟆⇓</a> <a id="10936" href="#10904" class="Bound">i</a>
  <a id="10940" href="#10811" class="Function Operator">⟅</a> <a id="10942" href="#8824" class="InductiveConstructor">com</a> <a id="10946" href="#10946" class="Bound">p</a> <a id="10948" href="#10948" class="Bound">x</a> <a id="10950" href="#10950" class="Bound">q</a> <a id="10952" href="#10952" class="Bound">y</a> <a id="10954" href="#10954" class="Bound">xs</a> <a id="10957" href="#10957" class="Bound">i</a> <a id="10959" href="#10811" class="Function Operator">⟆⇓</a> <a id="10962" class="Symbol">=</a> <a id="10964" href="#10565" class="Field Operator">⟅_⟆-com</a> <a id="10972" href="#10946" class="Bound">p</a> <a id="10974" href="#10948" class="Bound">x</a> <a id="10976" href="#10950" class="Bound">q</a> <a id="10978" href="#10952" class="Bound">y</a> <a id="10980" href="#10954" class="Bound">xs</a> <a id="10983" href="#10811" class="Function Operator">⟅</a> <a id="10985" href="#10954" class="Bound">xs</a> <a id="10988" href="#10811" class="Function Operator">⟆⇓</a> <a id="10991" href="#10957" class="Bound">i</a>
  <a id="10995" href="#10811" class="Function Operator">⟅</a> <a id="10997" href="#8887" class="InductiveConstructor">del</a> <a id="11001" href="#11001" class="Bound">x</a> <a id="11003" href="#11003" class="Bound">xs</a> <a id="11006" href="#11006" class="Bound">i</a> <a id="11008" href="#10811" class="Function Operator">⟆⇓</a> <a id="11011" class="Symbol">=</a> <a id="11013" href="#10721" class="Field Operator">⟅_⟆-del</a> <a id="11021" href="#11001" class="Bound">x</a> <a id="11023" href="#11003" class="Bound">xs</a> <a id="11026" href="#10811" class="Function Operator">⟅</a> <a id="11028" href="#11003" class="Bound">xs</a> <a id="11031" href="#10811" class="Function Operator">⟆⇓</a> <a id="11034" href="#11006" class="Bound">i</a>
  <a id="11038" href="#10811" class="Function Operator">⟅</a> <a id="11040" href="#8921" class="InductiveConstructor">trunc</a> <a id="11046" href="#11046" class="Bound">xs</a> <a id="11049" href="#11049" class="Bound">ys</a> <a id="11052" href="#11052" class="Bound">p</a> <a id="11054" href="#11054" class="Bound">q</a> <a id="11056" href="#11056" class="Bound">i</a> <a id="11058" href="#11058" class="Bound">j</a> <a id="11060" href="#10811" class="Function Operator">⟆⇓</a> <a id="11063" class="Symbol">=</a>
    <a id="11069" href="../code/probability/Cubical.HITs.SetTruncation.Properties.html#434" class="Function">elimSquash₀</a> <a id="11081" class="Symbol">(λ</a> <a id="11084" href="#11084" class="Bound">xs</a> <a id="11087" class="Symbol">→</a> <a id="11089" href="#10285" class="Field Operator">⟅_⟆-set</a> <a id="11097" class="Symbol">{</a><a id="11098" href="#11084" class="Bound">xs</a><a id="11100" class="Symbol">})</a> <a id="11103" class="Symbol">(</a><a id="11104" href="#8921" class="InductiveConstructor">trunc</a> <a id="11110" href="#11046" class="Bound">xs</a> <a id="11113" href="#11049" class="Bound">ys</a> <a id="11116" href="#11052" class="Bound">p</a> <a id="11118" href="#11054" class="Bound">q</a><a id="11119" class="Symbol">)</a> <a id="11121" href="#10811" class="Function Operator">⟅</a> <a id="11123" href="#11046" class="Bound">xs</a> <a id="11126" href="#10811" class="Function Operator">⟆⇓</a> <a id="11129" href="#10811" class="Function Operator">⟅</a> <a id="11131" href="#11049" class="Bound">ys</a> <a id="11134" href="#10811" class="Function Operator">⟆⇓</a> <a id="11137" class="Symbol">(</a><a id="11138" href="../code/probability/Cubical.Foundations.Prelude.html#1027" class="Function">cong</a> <a id="11143" href="#10811" class="Function Operator">⟅_⟆⇓</a> <a id="11148" href="#11052" class="Bound">p</a><a id="11149" class="Symbol">)</a> <a id="11151" class="Symbol">(</a><a id="11152" href="../code/probability/Cubical.Foundations.Prelude.html#1027" class="Function">cong</a> <a id="11157" href="#10811" class="Function Operator">⟅_⟆⇓</a> <a id="11162" href="#11054" class="Bound">q</a><a id="11163" class="Symbol">)</a> <a id="11165" href="#11056" class="Bound">i</a> <a id="11167" href="#11058" class="Bound">j</a>

<a id="11170" class="Keyword">open</a> <a id="11175" href="#10188" class="Module Operator">⟅_↝_⟆</a> <a id="11181" class="Keyword">public</a>
<a id="elim-syntax"></a><a id="11188" href="#11188" class="Function">elim-syntax</a> <a id="11200" class="Symbol">:</a> <a id="11202" class="Symbol">∀</a> <a id="11204" class="Symbol">{</a><a id="11205" href="#11205" class="Bound">a</a> <a id="11207" href="#11207" class="Bound">ℓ</a><a id="11208" class="Symbol">}</a> <a id="11210" class="Symbol">→</a> <a id="11212" class="Symbol">(</a><a id="11213" href="#11213" class="Bound">A</a> <a id="11215" class="Symbol">:</a> <a id="11217" class="PrimitiveType">Set</a> <a id="11221" href="#11205" class="Bound">a</a><a id="11222" class="Symbol">)</a> <a id="11224" class="Symbol">→</a> <a id="11226" class="Symbol">(</a><a id="11227" href="#8679" class="Datatype">𝒫</a> <a id="11229" href="#11213" class="Bound">A</a> <a id="11231" class="Symbol">→</a> <a id="11233" class="PrimitiveType">Set</a> <a id="11237" href="#11207" class="Bound">ℓ</a><a id="11238" class="Symbol">)</a> <a id="11240" class="Symbol">→</a> <a id="11242" class="PrimitiveType">Set</a> <a id="11246" class="Symbol">(</a><a id="11247" href="#11205" class="Bound">a</a> <a id="11249" href="../code/probability/ProbabilityModule.Utils.html#242" class="Function Operator">⊔</a> <a id="11251" href="#11207" class="Bound">ℓ</a> <a id="11253" href="../code/probability/ProbabilityModule.Utils.html#242" class="Function Operator">⊔</a> <a id="11255" href="#1020" class="Bound">s</a><a id="11256" class="Symbol">)</a>
<a id="11258" href="#11188" class="Function">elim-syntax</a> <a id="11270" class="Symbol">=</a> <a id="11272" href="#10188" class="Record Operator">⟅_↝_⟆</a>

<a id="11279" class="Keyword">syntax</a> <a id="11286" href="#11188" class="Function">elim-syntax</a> <a id="11298" class="Bound">A</a> <a id="11300" class="Symbol">(λ</a> <a id="11303" class="Bound">xs</a> <a id="11306" class="Symbol">→</a> <a id="11308" class="Bound">Pxs</a><a id="11311" class="Symbol">)</a> <a id="11313" class="Symbol">=</a> <a id="11315" class="Function">[</a> <a id="11317" class="Bound">xs</a> <a id="11320" class="Function">∈𝒫</a> <a id="11323" class="Bound">A</a> <a id="11325" class="Function">↝</a> <a id="11327" class="Bound">Pxs</a> <a id="11331" class="Function">]</a>

<a id="11334" class="Keyword">record</a> <a id="⟦_⇒_⟧"></a><a id="11341" href="#11341" class="Record Operator">⟦_⇒_⟧</a> <a id="11347" class="Symbol">{</a><a id="11348" href="#11348" class="Bound">a</a> <a id="11350" href="#11350" class="Bound">ℓ</a><a id="11351" class="Symbol">}</a> <a id="11353" class="Symbol">(</a><a id="11354" href="#11354" class="Bound">A</a> <a id="11356" class="Symbol">:</a> <a id="11358" class="PrimitiveType">Set</a> <a id="11362" href="#11348" class="Bound">a</a><a id="11363" class="Symbol">)</a> <a id="11365" class="Symbol">(</a><a id="11366" href="#11366" class="Bound">P</a> <a id="11368" class="Symbol">:</a> <a id="11370" href="#8679" class="Datatype">𝒫</a> <a id="11372" href="#11354" class="Bound">A</a> <a id="11374" class="Symbol">→</a> <a id="11376" class="PrimitiveType">Set</a> <a id="11380" href="#11350" class="Bound">ℓ</a><a id="11381" class="Symbol">)</a> <a id="11383" class="Symbol">:</a> <a id="11385" class="PrimitiveType">Set</a> <a id="11389" class="Symbol">(</a><a id="11390" href="#11348" class="Bound">a</a> <a id="11392" href="../code/probability/ProbabilityModule.Utils.html#242" class="Function Operator">⊔</a> <a id="11394" href="#11350" class="Bound">ℓ</a> <a id="11396" href="../code/probability/ProbabilityModule.Utils.html#242" class="Function Operator">⊔</a> <a id="11398" href="#1020" class="Bound">s</a><a id="11399" class="Symbol">)</a> <a id="11401" class="Keyword">where</a>
  <a id="11409" class="Keyword">constructor</a> <a id="⟦_⇒_⟧.elim-prop"></a><a id="11421" href="#11421" class="InductiveConstructor">elim-prop</a>
  <a id="11433" class="Keyword">field</a>
    <a id="⟦_⇒_⟧.⟦_⟧-prop"></a><a id="11443" href="#11443" class="Field Operator">⟦_⟧-prop</a> <a id="11452" class="Symbol">:</a> <a id="11454" class="Symbol">∀</a> <a id="11456" class="Symbol">{</a><a id="11457" href="#11457" class="Bound">xs</a><a id="11459" class="Symbol">}</a> <a id="11461" class="Symbol">→</a> <a id="11463" href="../code/probability/Cubical.Foundations.Prelude.html#5402" class="Function">isProp</a> <a id="11470" class="Symbol">(</a><a id="11471" href="#11366" class="Bound">P</a> <a id="11473" href="#11457" class="Bound">xs</a><a id="11475" class="Symbol">)</a>
    <a id="⟦_⇒_⟧.⟦_⟧[]"></a><a id="11481" href="#11481" class="Field Operator">⟦_⟧[]</a> <a id="11487" class="Symbol">:</a> <a id="11489" href="#11366" class="Bound">P</a> <a id="11491" href="#8715" class="InductiveConstructor">[]</a>
    <a id="⟦_⇒_⟧.⟦_⟧_&amp;_∷_⟨_⟩"></a><a id="11498" href="#11498" class="Field Operator">⟦_⟧_&amp;_∷_⟨_⟩</a> <a id="11510" class="Symbol">:</a> <a id="11512" class="Symbol">∀</a> <a id="11514" href="#11514" class="Bound">p</a> <a id="11516" href="#11516" class="Bound">x</a> <a id="11518" href="#11518" class="Bound">xs</a> <a id="11521" class="Symbol">→</a> <a id="11523" href="#11366" class="Bound">P</a> <a id="11525" href="#11518" class="Bound">xs</a> <a id="11528" class="Symbol">→</a> <a id="11530" href="#11366" class="Bound">P</a> <a id="11532" class="Symbol">(</a><a id="11533" href="#11514" class="Bound">p</a> <a id="11535" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="11537" href="#11516" class="Bound">x</a> <a id="11539" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="11541" href="#11518" class="Bound">xs</a><a id="11543" class="Symbol">)</a>
  <a id="11547" class="Keyword">private</a> <a id="⟦_⇒_⟧.z"></a><a id="11555" href="#11555" class="Function">z</a> <a id="11557" class="Symbol">=</a> <a id="11559" href="#11481" class="Field Operator">⟦_⟧[]</a><a id="11564" class="Symbol">;</a> <a id="⟦_⇒_⟧.f"></a><a id="11566" href="#11566" class="Function">f</a> <a id="11568" class="Symbol">=</a> <a id="11570" href="#11498" class="Field Operator">⟦_⟧_&amp;_∷_⟨_⟩</a>
  <a id="⟦_⇒_⟧.⟦_⟧⇑"></a><a id="11584" href="#11584" class="Function Operator">⟦_⟧⇑</a> <a id="11589" class="Symbol">=</a> <a id="11591" href="#10268" class="InductiveConstructor">elim</a>
          <a id="11606" class="Symbol">(</a><a id="11607" href="../code/probability/Cubical.Foundations.Prelude.html#6576" class="Function">isProp→isSet</a> <a id="11620" href="#11443" class="Field Operator">⟦_⟧-prop</a><a id="11628" class="Symbol">)</a>
          <a id="11640" href="#11555" class="Function">z</a> <a id="11642" href="#11566" class="Function">f</a>
          <a id="11654" class="Symbol">(λ</a> <a id="11657" href="#11657" class="Bound">p</a> <a id="11659" href="#11659" class="Bound">q</a> <a id="11661" href="#11661" class="Bound">x</a> <a id="11663" href="#11663" class="Bound">xs</a> <a id="11666" href="#11666" class="Bound">pxs</a> <a id="11670" class="Symbol">→</a>
            <a id="11684" href="../code/probability/Cubical.Foundations.Prelude.html#5003" class="Function">toPathP</a> <a id="11692" class="Symbol">(</a><a id="11693" href="#11443" class="Field Operator">⟦_⟧-prop</a> <a id="11702" class="Symbol">(</a><a id="11703" href="Agda.Primitive.Cubical.html#1279" class="Primitive">transp</a> <a id="11710" class="Symbol">(λ</a> <a id="11713" href="#11713" class="Bound">i</a> <a id="11715" class="Symbol">→</a> <a id="11717" href="#11366" class="Bound">P</a> <a id="11719" class="Symbol">(</a><a id="11720" href="#8767" class="InductiveConstructor">dup</a> <a id="11724" href="#11657" class="Bound">p</a> <a id="11726" href="#11659" class="Bound">q</a> <a id="11728" href="#11661" class="Bound">x</a> <a id="11730" href="#11663" class="Bound">xs</a> <a id="11733" href="#11713" class="Bound">i</a><a id="11734" class="Symbol">))</a>
            <a id="11749" href="Agda.Primitive.Cubical.html#128" class="InductiveConstructor">i0</a>
            <a id="11764" class="Symbol">(</a><a id="11765" href="#11566" class="Function">f</a> <a id="11767" href="#11657" class="Bound">p</a> <a id="11769" href="#11661" class="Bound">x</a> <a id="11771" class="Symbol">(</a><a id="11772" href="#11659" class="Bound">q</a> <a id="11774" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="11776" href="#11661" class="Bound">x</a> <a id="11778" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="11780" href="#11663" class="Bound">xs</a><a id="11782" class="Symbol">)</a> <a id="11784" class="Symbol">(</a><a id="11785" href="#11566" class="Function">f</a> <a id="11787" href="#11659" class="Bound">q</a> <a id="11789" href="#11661" class="Bound">x</a> <a id="11791" href="#11663" class="Bound">xs</a> <a id="11794" href="#11666" class="Bound">pxs</a><a id="11797" class="Symbol">)))</a> <a id="11801" class="Symbol">(</a><a id="11802" href="#11566" class="Function">f</a> <a id="11804" class="Symbol">(</a><a id="11805" href="#11657" class="Bound">p</a> <a id="11807" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="11809" href="#11659" class="Bound">q</a><a id="11810" class="Symbol">)</a> <a id="11812" href="#11661" class="Bound">x</a> <a id="11814" href="#11663" class="Bound">xs</a> <a id="11817" href="#11666" class="Bound">pxs</a><a id="11820" class="Symbol">)</a> <a id="11822" class="Symbol">))</a>
          <a id="11835" class="Symbol">(λ</a> <a id="11838" href="#11838" class="Bound">p</a> <a id="11840" href="#11840" class="Bound">x</a> <a id="11842" href="#11842" class="Bound">q</a> <a id="11844" href="#11844" class="Bound">y</a> <a id="11846" href="#11846" class="Bound">xs</a> <a id="11849" href="#11849" class="Bound">pxs</a> <a id="11853" class="Symbol">→</a> <a id="11855" href="../code/probability/Cubical.Foundations.Prelude.html#5003" class="Function">toPathP</a> <a id="11863" class="Symbol">(</a><a id="11864" href="#11443" class="Field Operator">⟦_⟧-prop</a> <a id="11873" class="Symbol">(</a><a id="11874" href="Agda.Primitive.Cubical.html#1279" class="Primitive">transp</a> <a id="11881" class="Symbol">(λ</a> <a id="11884" href="#11884" class="Bound">i</a> <a id="11886" class="Symbol">→</a> <a id="11888" href="#11366" class="Bound">P</a> <a id="11890" class="Symbol">(</a><a id="11891" href="#8824" class="InductiveConstructor">com</a> <a id="11895" href="#11838" class="Bound">p</a> <a id="11897" href="#11840" class="Bound">x</a> <a id="11899" href="#11842" class="Bound">q</a> <a id="11901" href="#11844" class="Bound">y</a> <a id="11903" href="#11846" class="Bound">xs</a> <a id="11906" href="#11884" class="Bound">i</a><a id="11907" class="Symbol">))</a> <a id="11910" href="Agda.Primitive.Cubical.html#128" class="InductiveConstructor">i0</a>
            <a id="11925" class="Symbol">(</a><a id="11926" href="#11566" class="Function">f</a> <a id="11928" href="#11838" class="Bound">p</a> <a id="11930" href="#11840" class="Bound">x</a> <a id="11932" class="Symbol">(</a><a id="11933" href="#11842" class="Bound">q</a> <a id="11935" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="11937" href="#11844" class="Bound">y</a> <a id="11939" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="11941" href="#11846" class="Bound">xs</a><a id="11943" class="Symbol">)</a> <a id="11945" class="Symbol">(</a><a id="11946" href="#11566" class="Function">f</a> <a id="11948" href="#11842" class="Bound">q</a> <a id="11950" href="#11844" class="Bound">y</a> <a id="11952" href="#11846" class="Bound">xs</a> <a id="11955" href="#11849" class="Bound">pxs</a><a id="11958" class="Symbol">)))</a> <a id="11962" class="Symbol">(</a><a id="11963" href="#11566" class="Function">f</a> <a id="11965" href="#11842" class="Bound">q</a> <a id="11967" href="#11844" class="Bound">y</a> <a id="11969" class="Symbol">(</a><a id="11970" href="#11838" class="Bound">p</a> <a id="11972" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="11974" href="#11840" class="Bound">x</a> <a id="11976" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="11978" href="#11846" class="Bound">xs</a><a id="11980" class="Symbol">)</a> <a id="11982" class="Symbol">(</a><a id="11983" href="#11566" class="Function">f</a> <a id="11985" href="#11838" class="Bound">p</a> <a id="11987" href="#11840" class="Bound">x</a> <a id="11989" href="#11846" class="Bound">xs</a> <a id="11992" href="#11849" class="Bound">pxs</a><a id="11995" class="Symbol">))))</a>
            <a id="12012" class="Symbol">λ</a> <a id="12014" href="#12014" class="Bound">x</a> <a id="12016" href="#12016" class="Bound">xs</a> <a id="12019" href="#12019" class="Bound">pxs</a> <a id="12023" class="Symbol">→</a> <a id="12025" href="../code/probability/Cubical.Foundations.Prelude.html#5003" class="Function">toPathP</a> <a id="12033" class="Symbol">(</a><a id="12034" href="#11443" class="Field Operator">⟦_⟧-prop</a> <a id="12043" class="Symbol">(</a><a id="12044" href="Agda.Primitive.Cubical.html#1279" class="Primitive">transp</a> <a id="12051" class="Symbol">(λ</a> <a id="12054" href="#12054" class="Bound">i</a> <a id="12056" class="Symbol">→</a> <a id="12058" href="#11366" class="Bound">P</a> <a id="12060" class="Symbol">(</a><a id="12061" href="#8887" class="InductiveConstructor">del</a> <a id="12065" href="#12014" class="Bound">x</a> <a id="12067" href="#12016" class="Bound">xs</a> <a id="12070" href="#12054" class="Bound">i</a><a id="12071" class="Symbol">))</a> <a id="12074" href="Agda.Primitive.Cubical.html#128" class="InductiveConstructor">i0</a> <a id="12077" class="Symbol">((</a><a id="12079" href="#11566" class="Function">f</a> <a id="12081" href="../code/probability/ProbabilityModule.Semirings.html#254" class="Field">0#</a> <a id="12084" href="#12014" class="Bound">x</a> <a id="12086" href="#12016" class="Bound">xs</a> <a id="12089" href="#12019" class="Bound">pxs</a><a id="12092" class="Symbol">)))</a> <a id="12096" href="#12019" class="Bound">pxs</a><a id="12099" class="Symbol">)</a>
  <a id="⟦_⇒_⟧.⟦_⟧⇓"></a><a id="12103" href="#12103" class="Function Operator">⟦_⟧⇓</a> <a id="12108" class="Symbol">=</a> <a id="12110" href="#10811" class="Function Operator">⟅</a> <a id="12112" href="#11584" class="Function Operator">⟦_⟧⇑</a> <a id="12117" href="#10811" class="Function Operator">⟆⇓</a>

<a id="12121" class="Keyword">open</a> <a id="12126" href="#11341" class="Module Operator">⟦_⇒_⟧</a> <a id="12132" class="Keyword">public</a>
<a id="elim-prop-syntax"></a><a id="12139" href="#12139" class="Function">elim-prop-syntax</a> <a id="12156" class="Symbol">:</a> <a id="12158" class="Symbol">∀</a> <a id="12160" class="Symbol">{</a><a id="12161" href="#12161" class="Bound">a</a> <a id="12163" href="#12163" class="Bound">ℓ</a><a id="12164" class="Symbol">}</a> <a id="12166" class="Symbol">→</a> <a id="12168" class="Symbol">(</a><a id="12169" href="#12169" class="Bound">A</a> <a id="12171" class="Symbol">:</a> <a id="12173" class="PrimitiveType">Set</a> <a id="12177" href="#12161" class="Bound">a</a><a id="12178" class="Symbol">)</a> <a id="12180" class="Symbol">→</a> <a id="12182" class="Symbol">(</a><a id="12183" href="#8679" class="Datatype">𝒫</a> <a id="12185" href="#12169" class="Bound">A</a> <a id="12187" class="Symbol">→</a> <a id="12189" class="PrimitiveType">Set</a> <a id="12193" href="#12163" class="Bound">ℓ</a><a id="12194" class="Symbol">)</a> <a id="12196" class="Symbol">→</a> <a id="12198" class="PrimitiveType">Set</a> <a id="12202" class="Symbol">(</a><a id="12203" href="#12161" class="Bound">a</a> <a id="12205" href="../code/probability/ProbabilityModule.Utils.html#242" class="Function Operator">⊔</a> <a id="12207" href="#12163" class="Bound">ℓ</a> <a id="12209" href="../code/probability/ProbabilityModule.Utils.html#242" class="Function Operator">⊔</a> <a id="12211" href="#1020" class="Bound">s</a><a id="12212" class="Symbol">)</a>
<a id="12214" href="#12139" class="Function">elim-prop-syntax</a> <a id="12231" class="Symbol">=</a> <a id="12233" href="#11341" class="Record Operator">⟦_⇒_⟧</a>

<a id="12240" class="Keyword">syntax</a> <a id="12247" href="#12139" class="Function">elim-prop-syntax</a> <a id="12264" class="Bound">A</a> <a id="12266" class="Symbol">(λ</a> <a id="12269" class="Bound">xs</a> <a id="12272" class="Symbol">→</a> <a id="12274" class="Bound">Pxs</a><a id="12277" class="Symbol">)</a> <a id="12279" class="Symbol">=</a> <a id="12281" class="Function">⟦</a> <a id="12283" class="Bound">xs</a> <a id="12286" class="Function">∈𝒫</a> <a id="12289" class="Bound">A</a> <a id="12291" class="Function">⇒</a> <a id="12293" class="Bound">Pxs</a> <a id="12297" class="Function">⟧</a>

<a id="12300" class="Keyword">record</a> <a id="[_↦_]"></a><a id="12307" href="#12307" class="Record Operator">[_↦_]</a> <a id="12313" class="Symbol">{</a><a id="12314" href="#12314" class="Bound">a</a> <a id="12316" href="#12316" class="Bound">b</a><a id="12317" class="Symbol">}</a> <a id="12319" class="Symbol">(</a><a id="12320" href="#12320" class="Bound">A</a> <a id="12322" class="Symbol">:</a> <a id="12324" class="PrimitiveType">Set</a> <a id="12328" href="#12314" class="Bound">a</a><a id="12329" class="Symbol">)</a> <a id="12331" class="Symbol">(</a><a id="12332" href="#12332" class="Bound">B</a> <a id="12334" class="Symbol">:</a> <a id="12336" class="PrimitiveType">Set</a> <a id="12340" href="#12316" class="Bound">b</a><a id="12341" class="Symbol">)</a> <a id="12343" class="Symbol">:</a> <a id="12345" class="PrimitiveType">Set</a> <a id="12349" class="Symbol">(</a><a id="12350" href="#12314" class="Bound">a</a> <a id="12352" href="../code/probability/ProbabilityModule.Utils.html#242" class="Function Operator">⊔</a> <a id="12354" href="#12316" class="Bound">b</a> <a id="12356" href="../code/probability/ProbabilityModule.Utils.html#242" class="Function Operator">⊔</a> <a id="12358" href="#1020" class="Bound">s</a><a id="12359" class="Symbol">)</a> <a id="12361" class="Keyword">where</a>
  <a id="12369" class="Keyword">constructor</a> <a id="[_↦_].rec"></a><a id="12381" href="#12381" class="InductiveConstructor">rec</a>
  <a id="12387" class="Keyword">field</a>
    <a id="[_↦_].[_]-set"></a><a id="12397" href="#12397" class="Field Operator">[_]-set</a>  <a id="12406" class="Symbol">:</a> <a id="12408" href="../code/probability/Cubical.Foundations.Prelude.html#5455" class="Function">isSet</a> <a id="12414" href="#12332" class="Bound">B</a>
    <a id="[_↦_].[_]_&amp;_∷_"></a><a id="12420" href="#12420" class="Field Operator">[_]_&amp;_∷_</a> <a id="12429" class="Symbol">:</a> <a id="12431" href="../code/probability/ProbabilityModule.Semirings.html#200" class="Field">R</a> <a id="12433" class="Symbol">→</a> <a id="12435" href="#12320" class="Bound">A</a> <a id="12437" class="Symbol">→</a> <a id="12439" href="#12332" class="Bound">B</a> <a id="12441" class="Symbol">→</a> <a id="12443" href="#12332" class="Bound">B</a>
    <a id="[_↦_].[_][]"></a><a id="12449" href="#12449" class="Field Operator">[_][]</a>    <a id="12458" class="Symbol">:</a> <a id="12460" href="#12332" class="Bound">B</a>
  <a id="12464" class="Keyword">private</a> <a id="[_↦_].f"></a><a id="12472" href="#12472" class="Function">f</a> <a id="12474" class="Symbol">=</a> <a id="12476" href="#12420" class="Field Operator">[_]_&amp;_∷_</a><a id="12484" class="Symbol">;</a> <a id="[_↦_].z"></a><a id="12486" href="#12486" class="Function">z</a> <a id="12488" class="Symbol">=</a> <a id="12490" href="#12449" class="Field Operator">[_][]</a>
  <a id="12498" class="Keyword">field</a>
    <a id="[_↦_].[_]-dup"></a><a id="12508" href="#12508" class="Field Operator">[_]-dup</a>  <a id="12517" class="Symbol">:</a> <a id="12519" class="Symbol">∀</a> <a id="12521" href="#12521" class="Bound">p</a> <a id="12523" href="#12523" class="Bound">q</a> <a id="12525" href="#12525" class="Bound">x</a> <a id="12527" href="#12527" class="Bound">xs</a> <a id="12530" class="Symbol">→</a> <a id="12532" href="#12472" class="Function">f</a> <a id="12534" href="#12521" class="Bound">p</a> <a id="12536" href="#12525" class="Bound">x</a> <a id="12538" class="Symbol">(</a><a id="12539" href="#12472" class="Function">f</a> <a id="12541" href="#12523" class="Bound">q</a> <a id="12543" href="#12525" class="Bound">x</a> <a id="12545" href="#12527" class="Bound">xs</a><a id="12547" class="Symbol">)</a> <a id="12549" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="12551" href="#12472" class="Function">f</a> <a id="12553" class="Symbol">(</a><a id="12554" href="#12521" class="Bound">p</a> <a id="12556" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="12558" href="#12523" class="Bound">q</a><a id="12559" class="Symbol">)</a> <a id="12561" href="#12525" class="Bound">x</a> <a id="12563" href="#12527" class="Bound">xs</a>
    <a id="[_↦_].[_]-com"></a><a id="12570" href="#12570" class="Field Operator">[_]-com</a> <a id="12578" class="Symbol">:</a> <a id="12580" class="Symbol">∀</a> <a id="12582" href="#12582" class="Bound">p</a> <a id="12584" href="#12584" class="Bound">x</a> <a id="12586" href="#12586" class="Bound">q</a> <a id="12588" href="#12588" class="Bound">y</a> <a id="12590" href="#12590" class="Bound">xs</a> <a id="12593" class="Symbol">→</a> <a id="12595" href="#12472" class="Function">f</a> <a id="12597" href="#12582" class="Bound">p</a> <a id="12599" href="#12584" class="Bound">x</a> <a id="12601" class="Symbol">(</a><a id="12602" href="#12472" class="Function">f</a> <a id="12604" href="#12586" class="Bound">q</a> <a id="12606" href="#12588" class="Bound">y</a> <a id="12608" href="#12590" class="Bound">xs</a><a id="12610" class="Symbol">)</a> <a id="12612" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="12614" href="#12472" class="Function">f</a> <a id="12616" href="#12586" class="Bound">q</a> <a id="12618" href="#12588" class="Bound">y</a> <a id="12620" class="Symbol">(</a><a id="12621" href="#12472" class="Function">f</a> <a id="12623" href="#12582" class="Bound">p</a> <a id="12625" href="#12584" class="Bound">x</a> <a id="12627" href="#12590" class="Bound">xs</a><a id="12629" class="Symbol">)</a>
    <a id="[_↦_].[_]-del"></a><a id="12635" href="#12635" class="Field Operator">[_]-del</a> <a id="12643" class="Symbol">:</a> <a id="12645" class="Symbol">∀</a> <a id="12647" href="#12647" class="Bound">x</a> <a id="12649" href="#12649" class="Bound">xs</a> <a id="12652" class="Symbol">→</a> <a id="12654" href="#12472" class="Function">f</a> <a id="12656" href="../code/probability/ProbabilityModule.Semirings.html#254" class="Field">0#</a> <a id="12659" href="#12647" class="Bound">x</a> <a id="12661" href="#12649" class="Bound">xs</a> <a id="12664" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="12666" href="#12649" class="Bound">xs</a>
  <a id="[_↦_].[_]⇑"></a><a id="12671" href="#12671" class="Function Operator">[_]⇑</a> <a id="12676" class="Symbol">=</a> <a id="12678" href="#10268" class="InductiveConstructor">elim</a>
            <a id="12695" href="#12397" class="Field Operator">[_]-set</a>
            <a id="12715" href="#12486" class="Function">z</a>
            <a id="12729" class="Symbol">(λ</a> <a id="12732" href="#12732" class="Bound">p</a> <a id="12734" href="#12734" class="Bound">x</a> <a id="12736" href="#12736" class="Bound">_</a> <a id="12738" href="#12738" class="Bound">xs</a> <a id="12741" class="Symbol">→</a> <a id="12743" href="#12472" class="Function">f</a> <a id="12745" href="#12732" class="Bound">p</a> <a id="12747" href="#12734" class="Bound">x</a> <a id="12749" href="#12738" class="Bound">xs</a><a id="12751" class="Symbol">)</a>
            <a id="12765" class="Symbol">(λ</a> <a id="12768" href="#12768" class="Bound">p</a> <a id="12770" href="#12770" class="Bound">q</a> <a id="12772" href="#12772" class="Bound">x</a> <a id="12774" href="#12774" class="Bound">xs</a> <a id="12777" class="Symbol">→</a> <a id="12779" href="#12508" class="Field Operator">[_]-dup</a> <a id="12787" href="#12768" class="Bound">p</a> <a id="12789" href="#12770" class="Bound">q</a> <a id="12791" href="#12772" class="Bound">x</a><a id="12792" class="Symbol">)</a>
            <a id="12806" class="Symbol">(λ</a> <a id="12809" href="#12809" class="Bound">p</a> <a id="12811" href="#12811" class="Bound">x</a> <a id="12813" href="#12813" class="Bound">q</a> <a id="12815" href="#12815" class="Bound">y</a> <a id="12817" href="#12817" class="Bound">xs</a> <a id="12820" class="Symbol">→</a> <a id="12822" href="#12570" class="Field Operator">[_]-com</a> <a id="12830" href="#12809" class="Bound">p</a> <a id="12832" href="#12811" class="Bound">x</a> <a id="12834" href="#12813" class="Bound">q</a> <a id="12836" href="#12815" class="Bound">y</a><a id="12837" class="Symbol">)</a>
            <a id="12851" class="Symbol">(λ</a> <a id="12854" href="#12854" class="Bound">x</a> <a id="12856" href="#12856" class="Bound">xs</a> <a id="12859" class="Symbol">→</a> <a id="12861" href="#12635" class="Field Operator">[_]-del</a> <a id="12869" href="#12854" class="Bound">x</a><a id="12870" class="Symbol">)</a>
  <a id="[_↦_].[_]↓"></a><a id="12874" href="#12874" class="Function Operator">[_]↓</a> <a id="12879" class="Symbol">=</a> <a id="12881" href="#10811" class="Function Operator">⟅</a> <a id="12883" href="#12671" class="Function Operator">[_]⇑</a> <a id="12888" href="#10811" class="Function Operator">⟆⇓</a>
<a id="12891" class="Keyword">open</a> <a id="12896" href="#12307" class="Module Operator">[_↦_]</a> <a id="12902" class="Keyword">public</a>
</pre>
</details>



Here's one in action, to define `map`:

<pre class="Agda"><a id="map"></a><a id="12972" href="#12972" class="Function">map</a> <a id="12976" class="Symbol">:</a> <a id="12978" class="Symbol">(</a><a id="12979" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="12981" class="Symbol">→</a> <a id="12983" href="../code/probability/ProbabilityModule.Utils.html#206" class="Generalizable">B</a><a id="12984" class="Symbol">)</a> <a id="12986" class="Symbol">→</a> <a id="12988" href="#8679" class="Datatype">𝒫</a> <a id="12990" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="12992" class="Symbol">→</a> <a id="12994" href="#8679" class="Datatype">𝒫</a> <a id="12996" href="../code/probability/ProbabilityModule.Utils.html#206" class="Generalizable">B</a>
<a id="12998" href="#12972" class="Function">map</a> <a id="13002" class="Symbol">=</a> <a id="13004" class="Symbol">λ</a> <a id="13006" href="#13006" class="Bound">f</a> <a id="13008" class="Symbol">→</a> <a id="13010" href="#12874" class="Function Operator">[</a> <a id="13012" href="#13043" class="Function">map′</a> <a id="13017" href="#13006" class="Bound">f</a> <a id="13019" href="#12874" class="Function Operator">]↓</a>
  <a id="13024" class="Keyword">module</a> <a id="Map"></a><a id="13031" href="#13031" class="Module">Map</a> <a id="13035" class="Keyword">where</a>
  <a id="Map.map′"></a><a id="13043" href="#13043" class="Function">map′</a> <a id="13048" class="Symbol">:</a> <a id="13050" class="Symbol">(</a><a id="13051" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="13053" class="Symbol">→</a> <a id="13055" href="../code/probability/ProbabilityModule.Utils.html#206" class="Generalizable">B</a><a id="13056" class="Symbol">)</a> <a id="13058" class="Symbol">→</a> <a id="13060" href="#12307" class="Record Operator">[</a> <a id="13062" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="13064" href="#12307" class="Record Operator">↦</a> <a id="13066" href="#8679" class="Datatype">𝒫</a> <a id="13068" href="../code/probability/ProbabilityModule.Utils.html#206" class="Generalizable">B</a> <a id="13070" href="#12307" class="Record Operator">]</a>
  <a id="13074" href="#12420" class="Field Operator">[</a> <a id="13076" href="#13043" class="Function">map′</a> <a id="13081" href="#13081" class="Bound">f</a> <a id="13083" href="#12420" class="Field Operator">]</a> <a id="13085" href="#13085" class="Bound">p</a> <a id="13087" href="#12420" class="Field Operator">&amp;</a> <a id="13089" href="#13089" class="Bound">x</a> <a id="13091" href="#12420" class="Field Operator">∷</a> <a id="13093" href="#13093" class="Bound">xs</a> <a id="13096" class="Symbol">=</a> <a id="13098" href="#13085" class="Bound">p</a> <a id="13100" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="13102" href="#13081" class="Bound">f</a> <a id="13104" href="#13089" class="Bound">x</a> <a id="13106" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="13108" href="#13093" class="Bound">xs</a>
  <a id="13113" href="#12449" class="Field Operator">[</a> <a id="13115" href="#13043" class="Function">map′</a> <a id="13120" href="#13120" class="Bound">f</a> <a id="13122" href="#12449" class="Field Operator">][]</a> <a id="13126" class="Symbol">=</a> <a id="13128" href="#8715" class="InductiveConstructor">[]</a>
  <a id="13133" href="#12397" class="Field Operator">[</a> <a id="13135" href="#13043" class="Function">map′</a> <a id="13140" href="#13140" class="Bound">f</a> <a id="13142" href="#12397" class="Field Operator">]-set</a> <a id="13148" class="Symbol">=</a> <a id="13150" href="#8921" class="InductiveConstructor">trunc</a>
  <a id="13158" href="#12508" class="Field Operator">[</a> <a id="13160" href="#13043" class="Function">map′</a> <a id="13165" href="#13165" class="Bound">f</a> <a id="13167" href="#12508" class="Field Operator">]-dup</a> <a id="13173" href="#13173" class="Bound">p</a> <a id="13175" href="#13175" class="Bound">q</a> <a id="13177" href="#13177" class="Bound">x</a> <a id="13179" href="#13179" class="Bound">xs</a> <a id="13182" class="Symbol">=</a> <a id="13184" href="#8767" class="InductiveConstructor">dup</a> <a id="13188" href="#13173" class="Bound">p</a> <a id="13190" href="#13175" class="Bound">q</a> <a id="13192" class="Symbol">(</a><a id="13193" href="#13165" class="Bound">f</a> <a id="13195" href="#13177" class="Bound">x</a><a id="13196" class="Symbol">)</a> <a id="13198" href="#13179" class="Bound">xs</a>
  <a id="13203" href="#12570" class="Field Operator">[</a> <a id="13205" href="#13043" class="Function">map′</a> <a id="13210" href="#13210" class="Bound">f</a> <a id="13212" href="#12570" class="Field Operator">]-com</a> <a id="13218" href="#13218" class="Bound">p</a> <a id="13220" href="#13220" class="Bound">x</a> <a id="13222" href="#13222" class="Bound">q</a> <a id="13224" href="#13224" class="Bound">y</a> <a id="13226" href="#13226" class="Bound">xs</a> <a id="13229" class="Symbol">=</a> <a id="13231" href="#8824" class="InductiveConstructor">com</a> <a id="13235" href="#13218" class="Bound">p</a> <a id="13237" class="Symbol">(</a><a id="13238" href="#13210" class="Bound">f</a> <a id="13240" href="#13220" class="Bound">x</a><a id="13241" class="Symbol">)</a> <a id="13243" href="#13222" class="Bound">q</a> <a id="13245" class="Symbol">(</a><a id="13246" href="#13210" class="Bound">f</a> <a id="13248" href="#13224" class="Bound">y</a><a id="13249" class="Symbol">)</a> <a id="13251" href="#13226" class="Bound">xs</a>
  <a id="13256" href="#12635" class="Field Operator">[</a> <a id="13258" href="#13043" class="Function">map′</a> <a id="13263" href="#13263" class="Bound">f</a> <a id="13265" href="#12635" class="Field Operator">]-del</a> <a id="13271" href="#13271" class="Bound">x</a> <a id="13273" href="#13273" class="Bound">xs</a> <a id="13276" class="Symbol">=</a> <a id="13278" href="#8887" class="InductiveConstructor">del</a> <a id="13282" class="Symbol">(</a><a id="13283" href="#13263" class="Bound">f</a> <a id="13285" href="#13271" class="Bound">x</a><a id="13286" class="Symbol">)</a> <a id="13288" href="#13273" class="Bound">xs</a>
</pre>
And here's how we'd define union, and then prove that it's associative:

<pre class="Agda"><a id="13377" class="Keyword">infixr</a> <a id="13384" class="Number">5</a> <a id="13386" href="#13390" class="Function Operator">_∪_</a>
<a id="_∪_"></a><a id="13390" href="#13390" class="Function Operator">_∪_</a> <a id="13394" class="Symbol">:</a> <a id="13396" href="#8679" class="Datatype">𝒫</a> <a id="13398" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="13400" class="Symbol">→</a> <a id="13402" href="#8679" class="Datatype">𝒫</a> <a id="13404" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="13406" class="Symbol">→</a> <a id="13408" href="#8679" class="Datatype">𝒫</a> <a id="13410" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a>
<a id="13412" href="#13390" class="Function Operator">_∪_</a> <a id="13416" class="Symbol">=</a> <a id="13418" class="Symbol">λ</a> <a id="13420" href="#13420" class="Bound">xs</a> <a id="13423" href="#13423" class="Bound">ys</a> <a id="13426" class="Symbol">→</a> <a id="13428" href="#12874" class="Function Operator">[</a> <a id="13430" href="#13468" class="Function">union</a> <a id="13436" href="#13423" class="Bound">ys</a> <a id="13439" href="#12874" class="Function Operator">]↓</a> <a id="13442" href="#13420" class="Bound">xs</a>
  <a id="13447" class="Keyword">module</a> <a id="Union"></a><a id="13454" href="#13454" class="Module">Union</a> <a id="13460" class="Keyword">where</a>
  <a id="Union.union"></a><a id="13468" href="#13468" class="Function">union</a> <a id="13474" class="Symbol">:</a> <a id="13476" href="#8679" class="Datatype">𝒫</a> <a id="13478" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="13480" class="Symbol">→</a> <a id="13482" href="#12307" class="Record Operator">[</a> <a id="13484" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="13486" href="#12307" class="Record Operator">↦</a> <a id="13488" href="#8679" class="Datatype">𝒫</a> <a id="13490" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="13492" href="#12307" class="Record Operator">]</a>
  <a id="13496" href="#12397" class="Field Operator">[</a> <a id="13498" href="#13468" class="Function">union</a> <a id="13504" href="#13504" class="Bound">ys</a> <a id="13507" href="#12397" class="Field Operator">]-set</a> <a id="13513" class="Symbol">=</a> <a id="13515" href="#8921" class="InductiveConstructor">trunc</a>
  <a id="13523" href="#12420" class="Field Operator">[</a> <a id="13525" href="#13468" class="Function">union</a> <a id="13531" href="#13531" class="Bound">ys</a> <a id="13534" href="#12420" class="Field Operator">]</a> <a id="13536" href="#13536" class="Bound">p</a> <a id="13538" href="#12420" class="Field Operator">&amp;</a> <a id="13540" href="#13540" class="Bound">x</a> <a id="13542" href="#12420" class="Field Operator">∷</a> <a id="13544" href="#13544" class="Bound">xs</a> <a id="13547" class="Symbol">=</a> <a id="13549" href="#13536" class="Bound">p</a> <a id="13551" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="13553" href="#13540" class="Bound">x</a> <a id="13555" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="13557" href="#13544" class="Bound">xs</a>
  <a id="13562" href="#12449" class="Field Operator">[</a> <a id="13564" href="#13468" class="Function">union</a> <a id="13570" href="#13570" class="Bound">ys</a> <a id="13573" href="#12449" class="Field Operator">][]</a> <a id="13577" class="Symbol">=</a> <a id="13579" href="#13570" class="Bound">ys</a>
  <a id="13584" href="#12508" class="Field Operator">[</a> <a id="13586" href="#13468" class="Function">union</a> <a id="13592" href="#13592" class="Bound">ys</a> <a id="13595" href="#12508" class="Field Operator">]-dup</a> <a id="13601" class="Symbol">=</a> <a id="13603" href="#8767" class="InductiveConstructor">dup</a>
  <a id="13609" href="#12570" class="Field Operator">[</a> <a id="13611" href="#13468" class="Function">union</a> <a id="13617" href="#13617" class="Bound">ys</a> <a id="13620" href="#12570" class="Field Operator">]-com</a> <a id="13626" class="Symbol">=</a> <a id="13628" href="#8824" class="InductiveConstructor">com</a>
  <a id="13634" href="#12635" class="Field Operator">[</a> <a id="13636" href="#13468" class="Function">union</a> <a id="13642" href="#13642" class="Bound">ys</a> <a id="13645" href="#12635" class="Field Operator">]-del</a> <a id="13651" class="Symbol">=</a> <a id="13653" href="#8887" class="InductiveConstructor">del</a>

<a id="∪-assoc"></a><a id="13658" href="#13658" class="Function">∪-assoc</a> <a id="13666" class="Symbol">:</a> <a id="13668" class="Symbol">(</a><a id="13669" href="#13669" class="Bound">xs</a> <a id="13672" href="#13672" class="Bound">ys</a> <a id="13675" href="#13675" class="Bound">zs</a> <a id="13678" class="Symbol">:</a> <a id="13680" href="#8679" class="Datatype">𝒫</a> <a id="13682" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a><a id="13683" class="Symbol">)</a> <a id="13685" class="Symbol">→</a> <a id="13687" href="#13669" class="Bound">xs</a> <a id="13690" href="#13390" class="Function Operator">∪</a> <a id="13692" class="Symbol">(</a><a id="13693" href="#13672" class="Bound">ys</a> <a id="13696" href="#13390" class="Function Operator">∪</a> <a id="13698" href="#13675" class="Bound">zs</a><a id="13700" class="Symbol">)</a> <a id="13702" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="13704" class="Symbol">(</a><a id="13705" href="#13669" class="Bound">xs</a> <a id="13708" href="#13390" class="Function Operator">∪</a> <a id="13710" href="#13672" class="Bound">ys</a><a id="13712" class="Symbol">)</a> <a id="13714" href="#13390" class="Function Operator">∪</a> <a id="13716" href="#13675" class="Bound">zs</a>
<a id="13719" href="#13658" class="Function">∪-assoc</a> <a id="13727" class="Symbol">=</a> <a id="13729" class="Symbol">λ</a> <a id="13731" href="#13731" class="Bound">xs</a> <a id="13734" href="#13734" class="Bound">ys</a> <a id="13737" href="#13737" class="Bound">zs</a> <a id="13740" class="Symbol">→</a> <a id="13742" href="#12103" class="Function Operator">⟦</a> <a id="13744" href="#13789" class="Function">∪-assoc′</a> <a id="13753" href="#13734" class="Bound">ys</a> <a id="13756" href="#13737" class="Bound">zs</a> <a id="13759" href="#12103" class="Function Operator">⟧⇓</a> <a id="13762" href="#13731" class="Bound">xs</a>
  <a id="13767" class="Keyword">module</a> <a id="UAssoc"></a><a id="13774" href="#13774" class="Module">UAssoc</a> <a id="13781" class="Keyword">where</a>
  <a id="UAssoc.∪-assoc′"></a><a id="13789" href="#13789" class="Function">∪-assoc′</a> <a id="13798" class="Symbol">:</a> <a id="13800" class="Symbol">∀</a> <a id="13802" href="#13802" class="Bound">ys</a> <a id="13805" href="#13805" class="Bound">zs</a> <a id="13808" class="Symbol">→</a> <a id="13810" href="#12139" class="Function">⟦</a> <a id="13812" href="#13812" class="Bound">xs</a> <a id="13815" href="#12139" class="Function">∈𝒫</a> <a id="13818" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="13820" href="#12139" class="Function">⇒</a> <a id="13822" href="#13812" class="Bound">xs</a> <a id="13825" href="#13390" class="Function Operator">∪</a> <a id="13827" class="Symbol">(</a><a id="13828" href="#13802" class="Bound">ys</a> <a id="13831" href="#13390" class="Function Operator">∪</a> <a id="13833" href="#13805" class="Bound">zs</a><a id="13835" class="Symbol">)</a> <a id="13837" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="13839" class="Symbol">(</a><a id="13840" href="#13812" class="Bound">xs</a> <a id="13843" href="#13390" class="Function Operator">∪</a> <a id="13845" href="#13802" class="Bound">ys</a><a id="13847" class="Symbol">)</a> <a id="13849" href="#13390" class="Function Operator">∪</a> <a id="13851" href="#13805" class="Bound">zs</a> <a id="13854" href="#12139" class="Function">⟧</a>
  <a id="13858" href="#11443" class="Field Operator">⟦</a> <a id="13860" href="#13789" class="Function">∪-assoc′</a> <a id="13869" href="#13869" class="Bound">ys</a> <a id="13872" href="#13872" class="Bound">zs</a> <a id="13875" href="#11443" class="Field Operator">⟧-prop</a> <a id="13882" class="Symbol">=</a> <a id="13884" href="#8921" class="InductiveConstructor">trunc</a> <a id="13890" class="Symbol">_</a> <a id="13892" class="Symbol">_</a>
  <a id="13896" href="#11481" class="Field Operator">⟦</a> <a id="13898" href="#13789" class="Function">∪-assoc′</a> <a id="13907" href="#13907" class="Bound">ys</a> <a id="13910" href="#13910" class="Bound">zs</a> <a id="13913" href="#11481" class="Field Operator">⟧[]</a> <a id="13917" class="Symbol">=</a> <a id="13919" href="../code/probability/Cubical.Foundations.Prelude.html#827" class="Function">refl</a>
  <a id="13926" href="#11498" class="Field Operator">⟦</a> <a id="13928" href="#13789" class="Function">∪-assoc′</a> <a id="13937" href="#13937" class="Bound">ys</a> <a id="13940" href="#13940" class="Bound">zs</a> <a id="13943" href="#11498" class="Field Operator">⟧</a> <a id="13945" href="#13945" class="Bound">p</a> <a id="13947" href="#11498" class="Field Operator">&amp;</a> <a id="13949" href="#13949" class="Bound">x</a> <a id="13951" href="#11498" class="Field Operator">∷</a> <a id="13953" href="#13953" class="Bound">xs</a> <a id="13956" href="#11498" class="Field Operator">⟨</a> <a id="13958" href="#13958" class="Bound">P</a> <a id="13960" href="#11498" class="Field Operator">⟩</a> <a id="13962" class="Symbol">=</a> <a id="13964" href="../code/probability/Cubical.Foundations.Prelude.html#1027" class="Function">cong</a> <a id="13969" class="Symbol">(</a><a id="13970" href="#13945" class="Bound">p</a> <a id="13972" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="13974" href="#13949" class="Bound">x</a> <a id="13976" href="#8727" class="InductiveConstructor Operator">∷_</a><a id="13978" class="Symbol">)</a> <a id="13980" href="#13958" class="Bound">P</a>
</pre>
There's a lot more stuff here that I won't bore you with.

<details>
<summary>Boring Stuff</summary>
<pre class="Agda"><a id="14096" class="Keyword">infixl</a> <a id="14103" class="Number">7</a> <a id="14105" href="#14109" class="Function Operator">_⋊_</a>
<a id="_⋊_"></a><a id="14109" href="#14109" class="Function Operator">_⋊_</a> <a id="14113" class="Symbol">:</a> <a id="14115" href="../code/probability/ProbabilityModule.Semirings.html#200" class="Field">R</a> <a id="14117" class="Symbol">→</a> <a id="14119" href="#8679" class="Datatype">𝒫</a> <a id="14121" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="14123" class="Symbol">→</a> <a id="14125" href="#8679" class="Datatype">𝒫</a> <a id="14127" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a>
<a id="14129" href="#14109" class="Function Operator">_⋊_</a> <a id="14133" class="Symbol">=</a> <a id="14135" class="Symbol">λ</a> <a id="14137" href="#14137" class="Bound">p</a> <a id="14139" class="Symbol">→</a> <a id="14141" href="#12874" class="Function Operator">[</a> <a id="14143" href="#14137" class="Bound">p</a> <a id="14145" href="#14173" class="Function Operator">⋊′</a> <a id="14148" href="#12874" class="Function Operator">]↓</a>
  <a id="14153" class="Keyword">module</a> <a id="Cond"></a><a id="14160" href="#14160" class="Module">Cond</a> <a id="14165" class="Keyword">where</a>
  <a id="Cond._⋊′"></a><a id="14173" href="#14173" class="Function Operator">_⋊′</a> <a id="14177" class="Symbol">:</a> <a id="14179" href="../code/probability/ProbabilityModule.Semirings.html#200" class="Field">R</a> <a id="14181" class="Symbol">→</a> <a id="14183" href="#12307" class="Record Operator">[</a> <a id="14185" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="14187" href="#12307" class="Record Operator">↦</a> <a id="14189" href="#8679" class="Datatype">𝒫</a> <a id="14191" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="14193" href="#12307" class="Record Operator">]</a>
  <a id="14197" href="#12397" class="Field Operator">[</a> <a id="14199" href="#14199" class="Bound">p</a> <a id="14201" href="#14173" class="Function Operator">⋊′</a> <a id="14204" href="#12397" class="Field Operator">]-set</a> <a id="14210" class="Symbol">=</a> <a id="14212" href="#8921" class="InductiveConstructor">trunc</a>
  <a id="14220" href="#12449" class="Field Operator">[</a> <a id="14222" href="#14222" class="Bound">p</a> <a id="14224" href="#14173" class="Function Operator">⋊′</a> <a id="14227" href="#12449" class="Field Operator">][]</a> <a id="14231" class="Symbol">=</a> <a id="14233" href="#8715" class="InductiveConstructor">[]</a>
  <a id="14238" href="#12420" class="Field Operator">[</a> <a id="14240" href="#14240" class="Bound">p</a> <a id="14242" href="#14173" class="Function Operator">⋊′</a> <a id="14245" href="#12420" class="Field Operator">]</a> <a id="14247" href="#14247" class="Bound">q</a> <a id="14249" href="#12420" class="Field Operator">&amp;</a> <a id="14251" href="#14251" class="Bound">x</a> <a id="14253" href="#12420" class="Field Operator">∷</a> <a id="14255" href="#14255" class="Bound">xs</a> <a id="14258" class="Symbol">=</a> <a id="14260" href="#14240" class="Bound">p</a> <a id="14262" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="14264" href="#14247" class="Bound">q</a> <a id="14266" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="14268" href="#14251" class="Bound">x</a> <a id="14270" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="14272" href="#14255" class="Bound">xs</a>
  <a id="14277" href="#12570" class="Field Operator">[</a> <a id="14279" href="#14279" class="Bound">p</a> <a id="14281" href="#14173" class="Function Operator">⋊′</a> <a id="14284" href="#12570" class="Field Operator">]-com</a> <a id="14290" href="#14290" class="Bound">q</a> <a id="14292" href="#14292" class="Bound">x</a> <a id="14294" href="#14294" class="Bound">r</a> <a id="14296" href="#14296" class="Bound">y</a> <a id="14298" href="#14298" class="Bound">xs</a> <a id="14301" class="Symbol">=</a> <a id="14303" href="#8824" class="InductiveConstructor">com</a> <a id="14307" class="Symbol">(</a><a id="14308" href="#14279" class="Bound">p</a> <a id="14310" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="14312" href="#14290" class="Bound">q</a><a id="14313" class="Symbol">)</a> <a id="14315" href="#14292" class="Bound">x</a> <a id="14317" class="Symbol">(</a><a id="14318" href="#14279" class="Bound">p</a> <a id="14320" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="14322" href="#14294" class="Bound">r</a><a id="14323" class="Symbol">)</a> <a id="14325" href="#14296" class="Bound">y</a> <a id="14327" href="#14298" class="Bound">xs</a>
  <a id="14332" href="#12508" class="Field Operator">[</a> <a id="14334" href="#14334" class="Bound">p</a> <a id="14336" href="#14173" class="Function Operator">⋊′</a> <a id="14339" href="#12508" class="Field Operator">]-dup</a> <a id="14345" href="#14345" class="Bound">q</a> <a id="14347" href="#14347" class="Bound">r</a> <a id="14349" href="#14349" class="Bound">x</a> <a id="14351" href="#14351" class="Bound">xs</a> <a id="14354" class="Symbol">=</a>
    <a id="14360" href="#14334" class="Bound">p</a> <a id="14362" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="14364" href="#14345" class="Bound">q</a> <a id="14366" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="14368" href="#14349" class="Bound">x</a> <a id="14370" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="14372" href="#14334" class="Bound">p</a> <a id="14374" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="14376" href="#14347" class="Bound">r</a> <a id="14378" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="14380" href="#14349" class="Bound">x</a> <a id="14382" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="14384" href="#14351" class="Bound">xs</a> <a id="14387" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="14390" href="#8767" class="InductiveConstructor">dup</a> <a id="14394" class="Symbol">(</a><a id="14395" href="#14334" class="Bound">p</a> <a id="14397" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="14399" href="#14345" class="Bound">q</a><a id="14400" class="Symbol">)</a> <a id="14402" class="Symbol">(</a><a id="14403" href="#14334" class="Bound">p</a> <a id="14405" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="14407" href="#14347" class="Bound">r</a><a id="14408" class="Symbol">)</a> <a id="14410" href="#14349" class="Bound">x</a> <a id="14412" href="#14351" class="Bound">xs</a> <a id="14415" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
    <a id="14421" href="#14334" class="Bound">p</a> <a id="14423" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="14425" href="#14345" class="Bound">q</a> <a id="14427" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="14429" href="#14334" class="Bound">p</a> <a id="14431" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="14433" href="#14347" class="Bound">r</a> <a id="14435" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="14437" href="#14349" class="Bound">x</a> <a id="14439" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="14441" href="#14351" class="Bound">xs</a>     <a id="14448" href="../code/probability/ProbabilityModule.Utils.html#295" class="Function">≡˘⟨</a> <a id="14452" href="../code/probability/Cubical.Foundations.Prelude.html#1027" class="Function">cong</a> <a id="14457" class="Symbol">(</a><a id="14458" href="#8727" class="InductiveConstructor Operator">_&amp;</a> <a id="14461" href="#14349" class="Bound">x</a> <a id="14463" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="14465" href="#14351" class="Bound">xs</a><a id="14467" class="Symbol">)</a> <a id="14469" class="Symbol">(</a><a id="14470" href="../code/probability/ProbabilityModule.Semirings.html#543" class="Field">*⟨+⟩</a> <a id="14475" href="#14334" class="Bound">p</a> <a id="14477" href="#14345" class="Bound">q</a> <a id="14479" href="#14347" class="Bound">r</a><a id="14480" class="Symbol">)</a> <a id="14482" href="../code/probability/ProbabilityModule.Utils.html#295" class="Function">⟩</a>
    <a id="14488" href="#14334" class="Bound">p</a> <a id="14490" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="14492" class="Symbol">(</a><a id="14493" href="#14345" class="Bound">q</a> <a id="14495" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="14497" href="#14347" class="Bound">r</a><a id="14498" class="Symbol">)</a> <a id="14500" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="14502" href="#14349" class="Bound">x</a> <a id="14504" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="14506" href="#14351" class="Bound">xs</a>       <a id="14515" href="../code/probability/Cubical.Foundations.Prelude.html#2745" class="Function Operator">∎</a>
  <a id="14519" href="#12635" class="Field Operator">[</a> <a id="14521" href="#14521" class="Bound">p</a> <a id="14523" href="#14173" class="Function Operator">⋊′</a> <a id="14526" href="#12635" class="Field Operator">]-del</a> <a id="14532" href="#14532" class="Bound">x</a> <a id="14534" href="#14534" class="Bound">xs</a> <a id="14537" class="Symbol">=</a>
    <a id="14543" href="#14521" class="Bound">p</a> <a id="14545" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="14547" href="../code/probability/ProbabilityModule.Semirings.html#254" class="Field">0#</a> <a id="14550" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="14552" href="#14532" class="Bound">x</a> <a id="14554" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="14556" href="#14534" class="Bound">xs</a> <a id="14559" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="14562" href="../code/probability/Cubical.Foundations.Prelude.html#1027" class="Function">cong</a> <a id="14567" class="Symbol">(</a><a id="14568" href="#8727" class="InductiveConstructor Operator">_&amp;</a> <a id="14571" href="#14532" class="Bound">x</a> <a id="14573" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="14575" href="#14534" class="Bound">xs</a><a id="14577" class="Symbol">)</a> <a id="14579" class="Symbol">(</a><a id="14580" href="../code/probability/ProbabilityModule.Semirings.html#376" class="Field">*0</a> <a id="14583" href="#14521" class="Bound">p</a><a id="14584" class="Symbol">)</a> <a id="14586" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
    <a id="14592" href="../code/probability/ProbabilityModule.Semirings.html#254" class="Field">0#</a> <a id="14595" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="14597" href="#14532" class="Bound">x</a> <a id="14599" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="14601" href="#14534" class="Bound">xs</a>     <a id="14608" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="14611" href="#8887" class="InductiveConstructor">del</a> <a id="14615" href="#14532" class="Bound">x</a> <a id="14617" href="#14534" class="Bound">xs</a> <a id="14620" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
    <a id="14626" href="#14534" class="Bound">xs</a>              <a id="14642" href="../code/probability/Cubical.Foundations.Prelude.html#2745" class="Function Operator">∎</a>

<a id="∫"></a><a id="14645" href="#14645" class="Function">∫</a> <a id="14647" class="Symbol">:</a> <a id="14649" class="Symbol">(</a><a id="14650" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="14652" class="Symbol">→</a> <a id="14654" href="../code/probability/ProbabilityModule.Semirings.html#200" class="Field">R</a><a id="14655" class="Symbol">)</a> <a id="14657" class="Symbol">→</a> <a id="14659" href="#8679" class="Datatype">𝒫</a> <a id="14661" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="14663" class="Symbol">→</a> <a id="14665" href="../code/probability/ProbabilityModule.Semirings.html#200" class="Field">R</a>
<a id="14667" href="#14645" class="Function">∫</a> <a id="14669" class="Symbol">=</a> <a id="14671" class="Symbol">λ</a> <a id="14673" href="#14673" class="Bound">f</a> <a id="14675" class="Symbol">→</a> <a id="14677" href="#12874" class="Function Operator">[</a> <a id="14679" href="#14711" class="Function">∫′</a> <a id="14682" href="#14673" class="Bound">f</a> <a id="14684" href="#12874" class="Function Operator">]↓</a>
  <a id="14689" class="Keyword">module</a> <a id="Expect"></a><a id="14696" href="#14696" class="Module">Expect</a> <a id="14703" class="Keyword">where</a>
  <a id="Expect.∫′"></a><a id="14711" href="#14711" class="Function">∫′</a> <a id="14714" class="Symbol">:</a> <a id="14716" class="Symbol">(</a><a id="14717" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="14719" class="Symbol">→</a> <a id="14721" href="../code/probability/ProbabilityModule.Semirings.html#200" class="Field">R</a><a id="14722" class="Symbol">)</a> <a id="14724" class="Symbol">→</a> <a id="14726" href="#12307" class="Record Operator">[</a> <a id="14728" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="14730" href="#12307" class="Record Operator">↦</a> <a id="14732" href="../code/probability/ProbabilityModule.Semirings.html#200" class="Field">R</a> <a id="14734" href="#12307" class="Record Operator">]</a>
  <a id="14738" href="#12397" class="Field Operator">[</a> <a id="14740" href="#14711" class="Function">∫′</a> <a id="14743" href="#14743" class="Bound">f</a> <a id="14745" href="#12397" class="Field Operator">]-set</a> <a id="14751" class="Symbol">=</a> <a id="14753" href="../code/probability/ProbabilityModule.Semirings.html#641" class="Field">sIsSet</a>
  <a id="14762" href="#12420" class="Field Operator">[</a> <a id="14764" href="#14711" class="Function">∫′</a> <a id="14767" href="#14767" class="Bound">f</a> <a id="14769" href="#12420" class="Field Operator">]</a> <a id="14771" href="#14771" class="Bound">p</a> <a id="14773" href="#12420" class="Field Operator">&amp;</a> <a id="14775" href="#14775" class="Bound">x</a> <a id="14777" href="#12420" class="Field Operator">∷</a> <a id="14779" href="#14779" class="Bound">xs</a> <a id="14782" class="Symbol">=</a> <a id="14784" href="#14771" class="Bound">p</a> <a id="14786" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="14788" href="#14767" class="Bound">f</a> <a id="14790" href="#14775" class="Bound">x</a> <a id="14792" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="14794" href="#14779" class="Bound">xs</a>
  <a id="14799" href="#12449" class="Field Operator">[</a> <a id="14801" href="#14711" class="Function">∫′</a> <a id="14804" href="#14804" class="Bound">f</a> <a id="14806" href="#12449" class="Field Operator">][]</a> <a id="14810" class="Symbol">=</a> <a id="14812" href="../code/probability/ProbabilityModule.Semirings.html#254" class="Field">0#</a>
  <a id="14817" href="#12508" class="Field Operator">[</a> <a id="14819" href="#14711" class="Function">∫′</a> <a id="14822" href="#14822" class="Bound">f</a> <a id="14824" href="#12508" class="Field Operator">]-dup</a> <a id="14830" href="#14830" class="Bound">p</a> <a id="14832" href="#14832" class="Bound">q</a> <a id="14834" href="#14834" class="Bound">x</a> <a id="14836" href="#14836" class="Bound">xs</a> <a id="14839" class="Symbol">=</a>
    <a id="14845" href="#14830" class="Bound">p</a> <a id="14847" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="14849" href="#14822" class="Bound">f</a> <a id="14851" href="#14834" class="Bound">x</a> <a id="14853" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="14855" class="Symbol">(</a><a id="14856" href="#14832" class="Bound">q</a> <a id="14858" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="14860" href="#14822" class="Bound">f</a> <a id="14862" href="#14834" class="Bound">x</a> <a id="14864" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="14866" href="#14836" class="Bound">xs</a><a id="14868" class="Symbol">)</a> <a id="14870" href="../code/probability/ProbabilityModule.Utils.html#295" class="Function">≡˘⟨</a> <a id="14874" href="../code/probability/ProbabilityModule.Semirings.html#276" class="Field">+-assoc</a> <a id="14882" class="Symbol">(</a><a id="14883" href="#14830" class="Bound">p</a> <a id="14885" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="14887" href="#14822" class="Bound">f</a> <a id="14889" href="#14834" class="Bound">x</a><a id="14890" class="Symbol">)</a> <a id="14892" class="Symbol">(</a><a id="14893" href="#14832" class="Bound">q</a> <a id="14895" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="14897" href="#14822" class="Bound">f</a> <a id="14899" href="#14834" class="Bound">x</a><a id="14900" class="Symbol">)</a> <a id="14902" href="#14836" class="Bound">xs</a> <a id="14905" href="../code/probability/ProbabilityModule.Utils.html#295" class="Function">⟩</a>
    <a id="14911" class="Symbol">(</a><a id="14912" href="#14830" class="Bound">p</a> <a id="14914" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="14916" href="#14822" class="Bound">f</a> <a id="14918" href="#14834" class="Bound">x</a> <a id="14920" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="14922" href="#14832" class="Bound">q</a> <a id="14924" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="14926" href="#14822" class="Bound">f</a> <a id="14928" href="#14834" class="Bound">x</a><a id="14929" class="Symbol">)</a> <a id="14931" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="14933" href="#14836" class="Bound">xs</a> <a id="14936" href="../code/probability/ProbabilityModule.Utils.html#295" class="Function">≡˘⟨</a> <a id="14940" href="../code/probability/Cubical.Foundations.Prelude.html#1027" class="Function">cong</a> <a id="14945" class="Symbol">(</a><a id="14946" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">_+</a> <a id="14949" href="#14836" class="Bound">xs</a><a id="14951" class="Symbol">)</a> <a id="14953" class="Symbol">(</a><a id="14954" href="../code/probability/ProbabilityModule.Semirings.html#592" class="Field">⟨+⟩*</a> <a id="14959" href="#14830" class="Bound">p</a> <a id="14961" href="#14832" class="Bound">q</a> <a id="14963" class="Symbol">(</a><a id="14964" href="#14822" class="Bound">f</a> <a id="14966" href="#14834" class="Bound">x</a><a id="14967" class="Symbol">))</a> <a id="14970" href="../code/probability/ProbabilityModule.Utils.html#295" class="Function">⟩</a>
    <a id="14976" class="Symbol">(</a><a id="14977" href="#14830" class="Bound">p</a> <a id="14979" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="14981" href="#14832" class="Bound">q</a><a id="14982" class="Symbol">)</a> <a id="14984" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="14986" href="#14822" class="Bound">f</a> <a id="14988" href="#14834" class="Bound">x</a> <a id="14990" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="14992" href="#14836" class="Bound">xs</a> <a id="14995" href="../code/probability/Cubical.Foundations.Prelude.html#2745" class="Function Operator">∎</a>
  <a id="14999" href="#12570" class="Field Operator">[</a> <a id="15001" href="#14711" class="Function">∫′</a> <a id="15004" href="#15004" class="Bound">f</a> <a id="15006" href="#12570" class="Field Operator">]-com</a> <a id="15012" href="#15012" class="Bound">p</a> <a id="15014" href="#15014" class="Bound">x</a> <a id="15016" href="#15016" class="Bound">q</a> <a id="15018" href="#15018" class="Bound">y</a> <a id="15020" href="#15020" class="Bound">xs</a> <a id="15023" class="Symbol">=</a>
    <a id="15029" href="#15012" class="Bound">p</a> <a id="15031" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="15033" href="#15004" class="Bound">f</a> <a id="15035" href="#15014" class="Bound">x</a> <a id="15037" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="15039" class="Symbol">(</a><a id="15040" href="#15016" class="Bound">q</a> <a id="15042" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="15044" href="#15004" class="Bound">f</a> <a id="15046" href="#15018" class="Bound">y</a> <a id="15048" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="15050" href="#15020" class="Bound">xs</a><a id="15052" class="Symbol">)</a> <a id="15054" href="../code/probability/ProbabilityModule.Utils.html#295" class="Function">≡˘⟨</a> <a id="15058" href="../code/probability/ProbabilityModule.Semirings.html#276" class="Field">+-assoc</a> <a id="15066" class="Symbol">(</a><a id="15067" href="#15012" class="Bound">p</a> <a id="15069" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="15071" href="#15004" class="Bound">f</a> <a id="15073" href="#15014" class="Bound">x</a><a id="15074" class="Symbol">)</a> <a id="15076" class="Symbol">(</a><a id="15077" href="#15016" class="Bound">q</a> <a id="15079" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="15081" href="#15004" class="Bound">f</a> <a id="15083" href="#15018" class="Bound">y</a><a id="15084" class="Symbol">)</a> <a id="15086" class="Symbol">(</a><a id="15087" href="#15020" class="Bound">xs</a><a id="15089" class="Symbol">)</a> <a id="15091" href="../code/probability/ProbabilityModule.Utils.html#295" class="Function">⟩</a>
    <a id="15097" href="#15012" class="Bound">p</a> <a id="15099" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="15101" href="#15004" class="Bound">f</a> <a id="15103" href="#15014" class="Bound">x</a> <a id="15105" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="15107" href="#15016" class="Bound">q</a> <a id="15109" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="15111" href="#15004" class="Bound">f</a> <a id="15113" href="#15018" class="Bound">y</a> <a id="15115" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="15117" href="#15020" class="Bound">xs</a>   <a id="15122" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="15125" href="../code/probability/Cubical.Foundations.Prelude.html#1027" class="Function">cong</a> <a id="15130" class="Symbol">(</a><a id="15131" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">_+</a> <a id="15134" href="#15020" class="Bound">xs</a><a id="15136" class="Symbol">)</a> <a id="15138" class="Symbol">(</a><a id="15139" href="../code/probability/ProbabilityModule.Semirings.html#508" class="Field">+-comm</a> <a id="15146" class="Symbol">(</a><a id="15147" href="#15012" class="Bound">p</a> <a id="15149" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="15151" href="#15004" class="Bound">f</a> <a id="15153" href="#15014" class="Bound">x</a><a id="15154" class="Symbol">)</a> <a id="15156" class="Symbol">(</a><a id="15157" href="#15016" class="Bound">q</a> <a id="15159" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="15161" href="#15004" class="Bound">f</a> <a id="15163" href="#15018" class="Bound">y</a><a id="15164" class="Symbol">))</a> <a id="15167" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
    <a id="15173" href="#15016" class="Bound">q</a> <a id="15175" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="15177" href="#15004" class="Bound">f</a> <a id="15179" href="#15018" class="Bound">y</a> <a id="15181" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="15183" href="#15012" class="Bound">p</a> <a id="15185" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="15187" href="#15004" class="Bound">f</a> <a id="15189" href="#15014" class="Bound">x</a> <a id="15191" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="15193" href="#15020" class="Bound">xs</a>   <a id="15198" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="15201" href="../code/probability/ProbabilityModule.Semirings.html#276" class="Field">+-assoc</a> <a id="15209" class="Symbol">(</a><a id="15210" href="#15016" class="Bound">q</a> <a id="15212" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="15214" href="#15004" class="Bound">f</a> <a id="15216" href="#15018" class="Bound">y</a><a id="15217" class="Symbol">)</a> <a id="15219" class="Symbol">(</a><a id="15220" href="#15012" class="Bound">p</a> <a id="15222" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="15224" href="#15004" class="Bound">f</a> <a id="15226" href="#15014" class="Bound">x</a><a id="15227" class="Symbol">)</a> <a id="15229" class="Symbol">(</a><a id="15230" href="#15020" class="Bound">xs</a><a id="15232" class="Symbol">)</a> <a id="15234" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
    <a id="15240" href="#15016" class="Bound">q</a> <a id="15242" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="15244" href="#15004" class="Bound">f</a> <a id="15246" href="#15018" class="Bound">y</a> <a id="15248" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="15250" class="Symbol">(</a><a id="15251" href="#15012" class="Bound">p</a> <a id="15253" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="15255" href="#15004" class="Bound">f</a> <a id="15257" href="#15014" class="Bound">x</a> <a id="15259" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="15261" href="#15020" class="Bound">xs</a><a id="15263" class="Symbol">)</a> <a id="15265" href="../code/probability/Cubical.Foundations.Prelude.html#2745" class="Function Operator">∎</a>
  <a id="15269" href="#12635" class="Field Operator">[</a> <a id="15271" href="#14711" class="Function">∫′</a> <a id="15274" href="#15274" class="Bound">f</a> <a id="15276" href="#12635" class="Field Operator">]-del</a> <a id="15282" href="#15282" class="Bound">x</a> <a id="15284" href="#15284" class="Bound">xs</a> <a id="15287" class="Symbol">=</a>
    <a id="15293" href="../code/probability/ProbabilityModule.Semirings.html#254" class="Field">0#</a> <a id="15296" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="15298" href="#15274" class="Bound">f</a> <a id="15300" href="#15282" class="Bound">x</a> <a id="15302" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="15304" href="#15284" class="Bound">xs</a> <a id="15307" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="15310" href="../code/probability/Cubical.Foundations.Prelude.html#1027" class="Function">cong</a> <a id="15315" class="Symbol">(</a><a id="15316" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">_+</a> <a id="15319" href="#15284" class="Bound">xs</a><a id="15321" class="Symbol">)</a> <a id="15323" class="Symbol">(</a><a id="15324" href="../code/probability/ProbabilityModule.Semirings.html#403" class="Field">0*</a> <a id="15327" class="Symbol">(</a><a id="15328" href="#15274" class="Bound">f</a> <a id="15330" href="#15282" class="Bound">x</a><a id="15331" class="Symbol">))</a> <a id="15334" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
    <a id="15340" href="../code/probability/ProbabilityModule.Semirings.html#254" class="Field">0#</a> <a id="15343" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="15345" href="#15284" class="Bound">xs</a>       <a id="15354" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="15357" href="../code/probability/ProbabilityModule.Semirings.html#430" class="Field">0+</a> <a id="15360" class="Symbol">(</a><a id="15361" href="#15284" class="Bound">xs</a><a id="15363" class="Symbol">)</a> <a id="15365" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
    <a id="15371" href="#15284" class="Bound">xs</a>            <a id="15385" href="../code/probability/Cubical.Foundations.Prelude.html#2745" class="Function Operator">∎</a>

<a id="15388" class="Keyword">syntax</a> <a id="15395" href="#14645" class="Function">∫</a> <a id="15397" class="Symbol">(λ</a> <a id="15400" class="Bound">x</a> <a id="15402" class="Symbol">→</a> <a id="15404" class="Bound">e</a><a id="15405" class="Symbol">)</a> <a id="15407" class="Symbol">=</a> <a id="15409" class="Function">∫</a> <a id="15411" class="Bound">e</a> <a id="15413" class="Function">𝑑</a> <a id="15415" class="Bound">x</a>

<a id="pure"></a><a id="15418" href="#15418" class="Function">pure</a> <a id="15423" class="Symbol">:</a> <a id="15425" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="15427" class="Symbol">→</a> <a id="15429" href="#8679" class="Datatype">𝒫</a> <a id="15431" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a>
<a id="15433" href="#15418" class="Function">pure</a> <a id="15438" href="#15438" class="Bound">x</a> <a id="15440" class="Symbol">=</a> <a id="15442" href="../code/probability/ProbabilityModule.Semirings.html#265" class="Field">1#</a> <a id="15445" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="15447" href="#15438" class="Bound">x</a> <a id="15449" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="15451" href="#8715" class="InductiveConstructor">[]</a>

<a id="∪-cons"></a><a id="15455" href="#15455" class="Function">∪-cons</a> <a id="15462" class="Symbol">:</a> <a id="15464" class="Symbol">∀</a> <a id="15466" href="#15466" class="Bound">p</a> <a id="15468" class="Symbol">(</a><a id="15469" href="#15469" class="Bound">x</a> <a id="15471" class="Symbol">:</a> <a id="15473" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a><a id="15474" class="Symbol">)</a> <a id="15476" href="#15476" class="Bound">xs</a> <a id="15479" href="#15479" class="Bound">ys</a> <a id="15482" class="Symbol">→</a> <a id="15484" href="#15476" class="Bound">xs</a> <a id="15487" href="#13390" class="Function Operator">∪</a> <a id="15489" href="#15466" class="Bound">p</a> <a id="15491" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="15493" href="#15469" class="Bound">x</a> <a id="15495" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="15497" href="#15479" class="Bound">ys</a> <a id="15500" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="15502" href="#15466" class="Bound">p</a> <a id="15504" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="15506" href="#15469" class="Bound">x</a> <a id="15508" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="15510" href="#15476" class="Bound">xs</a> <a id="15513" href="#13390" class="Function Operator">∪</a> <a id="15515" href="#15479" class="Bound">ys</a>
<a id="15518" href="#15455" class="Function">∪-cons</a> <a id="15525" class="Symbol">=</a> <a id="15527" class="Symbol">λ</a> <a id="15529" href="#15529" class="Bound">p</a> <a id="15531" href="#15531" class="Bound">x</a> <a id="15533" href="#15533" class="Bound">xs</a> <a id="15536" href="#15536" class="Bound">ys</a> <a id="15539" class="Symbol">→</a> <a id="15541" href="#12103" class="Function Operator">⟦</a> <a id="15543" href="#15587" class="Function">∪-cons′</a> <a id="15551" href="#15529" class="Bound">p</a> <a id="15553" href="#15531" class="Bound">x</a> <a id="15555" href="#15536" class="Bound">ys</a> <a id="15558" href="#12103" class="Function Operator">⟧⇓</a> <a id="15561" href="#15533" class="Bound">xs</a>
  <a id="15566" class="Keyword">module</a> <a id="UCons"></a><a id="15573" href="#15573" class="Module">UCons</a> <a id="15579" class="Keyword">where</a>
  <a id="UCons.∪-cons′"></a><a id="15587" href="#15587" class="Function">∪-cons′</a> <a id="15595" class="Symbol">:</a> <a id="15597" class="Symbol">∀</a> <a id="15599" href="#15599" class="Bound">p</a> <a id="15601" href="#15601" class="Bound">x</a> <a id="15603" href="#15603" class="Bound">ys</a> <a id="15606" class="Symbol">→</a> <a id="15608" href="#12139" class="Function">⟦</a> <a id="15610" href="#15610" class="Bound">xs</a> <a id="15613" href="#12139" class="Function">∈𝒫</a> <a id="15616" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="15618" href="#12139" class="Function">⇒</a> <a id="15620" href="#15610" class="Bound">xs</a> <a id="15623" href="#13390" class="Function Operator">∪</a> <a id="15625" href="#15599" class="Bound">p</a> <a id="15627" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="15629" href="#15601" class="Bound">x</a> <a id="15631" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="15633" href="#15603" class="Bound">ys</a> <a id="15636" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="15638" href="#15599" class="Bound">p</a> <a id="15640" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="15642" href="#15601" class="Bound">x</a> <a id="15644" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="15646" href="#15610" class="Bound">xs</a> <a id="15649" href="#13390" class="Function Operator">∪</a> <a id="15651" href="#15603" class="Bound">ys</a> <a id="15654" href="#12139" class="Function">⟧</a>
  <a id="15658" href="#11443" class="Field Operator">⟦</a> <a id="15660" href="#15587" class="Function">∪-cons′</a> <a id="15668" href="#15668" class="Bound">p</a> <a id="15670" href="#15670" class="Bound">x</a> <a id="15672" href="#15672" class="Bound">ys</a> <a id="15675" href="#11443" class="Field Operator">⟧-prop</a> <a id="15682" class="Symbol">=</a> <a id="15684" href="#8921" class="InductiveConstructor">trunc</a> <a id="15690" class="Symbol">_</a> <a id="15692" class="Symbol">_</a>
  <a id="15696" href="#11481" class="Field Operator">⟦</a> <a id="15698" href="#15587" class="Function">∪-cons′</a> <a id="15706" href="#15706" class="Bound">p</a> <a id="15708" href="#15708" class="Bound">x</a> <a id="15710" href="#15710" class="Bound">ys</a> <a id="15713" href="#11481" class="Field Operator">⟧[]</a> <a id="15717" class="Symbol">=</a> <a id="15719" href="../code/probability/Cubical.Foundations.Prelude.html#827" class="Function">refl</a>
  <a id="15726" href="#11498" class="Field Operator">⟦</a> <a id="15728" href="#15587" class="Function">∪-cons′</a> <a id="15736" href="#15736" class="Bound">p</a> <a id="15738" href="#15738" class="Bound">x</a> <a id="15740" href="#15740" class="Bound">ys</a> <a id="15743" href="#11498" class="Field Operator">⟧</a> <a id="15745" href="#15745" class="Bound">r</a> <a id="15747" href="#11498" class="Field Operator">&amp;</a> <a id="15749" href="#15749" class="Bound">y</a> <a id="15751" href="#11498" class="Field Operator">∷</a> <a id="15753" href="#15753" class="Bound">xs</a> <a id="15756" href="#11498" class="Field Operator">⟨</a> <a id="15758" href="#15758" class="Bound">P</a> <a id="15760" href="#11498" class="Field Operator">⟩</a> <a id="15762" class="Symbol">=</a> <a id="15764" href="../code/probability/Cubical.Foundations.Prelude.html#1027" class="Function">cong</a> <a id="15769" class="Symbol">(</a><a id="15770" href="#15745" class="Bound">r</a> <a id="15772" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="15774" href="#15749" class="Bound">y</a> <a id="15776" href="#8727" class="InductiveConstructor Operator">∷_</a><a id="15778" class="Symbol">)</a> <a id="15780" href="#15758" class="Bound">P</a> <a id="15782" href="../code/probability/Cubical.Foundations.Prelude.html#1674" class="Function Operator">;</a> <a id="15784" href="#8824" class="InductiveConstructor">com</a> <a id="15788" href="#15745" class="Bound">r</a> <a id="15790" href="#15749" class="Bound">y</a> <a id="15792" href="#15736" class="Bound">p</a> <a id="15794" href="#15738" class="Bound">x</a> <a id="15796" class="Symbol">(</a><a id="15797" href="#15753" class="Bound">xs</a> <a id="15800" href="#13390" class="Function Operator">∪</a> <a id="15802" href="#15740" class="Bound">ys</a><a id="15804" class="Symbol">)</a>

<a id="⋊-distribʳ"></a><a id="15807" href="#15807" class="Function">⋊-distribʳ</a> <a id="15818" class="Symbol">:</a> <a id="15820" class="Symbol">∀</a> <a id="15822" href="#15822" class="Bound">p</a> <a id="15824" href="#15824" class="Bound">q</a> <a id="15826" class="Symbol">→</a> <a id="15828" class="Symbol">(</a><a id="15829" href="#15829" class="Bound">xs</a> <a id="15832" class="Symbol">:</a> <a id="15834" href="#8679" class="Datatype">𝒫</a> <a id="15836" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a><a id="15837" class="Symbol">)</a> <a id="15839" class="Symbol">→</a> <a id="15841" href="#15822" class="Bound">p</a> <a id="15843" href="#14109" class="Function Operator">⋊</a> <a id="15845" href="#15829" class="Bound">xs</a> <a id="15848" href="#13390" class="Function Operator">∪</a> <a id="15850" href="#15824" class="Bound">q</a> <a id="15852" href="#14109" class="Function Operator">⋊</a> <a id="15854" href="#15829" class="Bound">xs</a> <a id="15857" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="15859" class="Symbol">(</a><a id="15860" href="#15822" class="Bound">p</a> <a id="15862" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="15864" href="#15824" class="Bound">q</a><a id="15865" class="Symbol">)</a> <a id="15867" href="#14109" class="Function Operator">⋊</a> <a id="15869" href="#15829" class="Bound">xs</a>
<a id="15872" href="#15807" class="Function">⋊-distribʳ</a> <a id="15883" class="Symbol">=</a> <a id="15885" class="Symbol">λ</a> <a id="15887" href="#15887" class="Bound">p</a> <a id="15889" href="#15889" class="Bound">q</a> <a id="15891" class="Symbol">→</a> <a id="15893" href="#12103" class="Function Operator">⟦</a> <a id="15895" href="#15940" class="Function">⋊-distribʳ′</a> <a id="15907" href="#15887" class="Bound">p</a> <a id="15909" href="#15889" class="Bound">q</a> <a id="15911" href="#12103" class="Function Operator">⟧⇓</a>
  <a id="15916" class="Keyword">module</a> <a id="JDistrib"></a><a id="15923" href="#15923" class="Module">JDistrib</a> <a id="15932" class="Keyword">where</a>
  <a id="JDistrib.⋊-distribʳ′"></a><a id="15940" href="#15940" class="Function">⋊-distribʳ′</a> <a id="15952" class="Symbol">:</a> <a id="15954" class="Symbol">∀</a> <a id="15956" href="#15956" class="Bound">p</a> <a id="15958" href="#15958" class="Bound">q</a> <a id="15960" class="Symbol">→</a> <a id="15962" href="#12139" class="Function">⟦</a> <a id="15964" href="#15964" class="Bound">xs</a> <a id="15967" href="#12139" class="Function">∈𝒫</a> <a id="15970" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="15972" href="#12139" class="Function">⇒</a> <a id="15974" href="#15956" class="Bound">p</a> <a id="15976" href="#14109" class="Function Operator">⋊</a> <a id="15978" href="#15964" class="Bound">xs</a> <a id="15981" href="#13390" class="Function Operator">∪</a> <a id="15983" href="#15958" class="Bound">q</a> <a id="15985" href="#14109" class="Function Operator">⋊</a> <a id="15987" href="#15964" class="Bound">xs</a> <a id="15990" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="15992" class="Symbol">(</a><a id="15993" href="#15956" class="Bound">p</a> <a id="15995" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="15997" href="#15958" class="Bound">q</a><a id="15998" class="Symbol">)</a> <a id="16000" href="#14109" class="Function Operator">⋊</a> <a id="16002" href="#15964" class="Bound">xs</a> <a id="16005" href="#12139" class="Function">⟧</a>
  <a id="16009" href="#11443" class="Field Operator">⟦</a> <a id="16011" href="#15940" class="Function">⋊-distribʳ′</a> <a id="16023" href="#16023" class="Bound">p</a> <a id="16025" href="#16025" class="Bound">q</a> <a id="16027" href="#11443" class="Field Operator">⟧-prop</a> <a id="16034" class="Symbol">=</a> <a id="16036" href="#8921" class="InductiveConstructor">trunc</a> <a id="16042" class="Symbol">_</a> <a id="16044" class="Symbol">_</a>
  <a id="16048" href="#11481" class="Field Operator">⟦</a> <a id="16050" href="#15940" class="Function">⋊-distribʳ′</a> <a id="16062" href="#16062" class="Bound">p</a> <a id="16064" href="#16064" class="Bound">q</a> <a id="16066" href="#11481" class="Field Operator">⟧[]</a> <a id="16070" class="Symbol">=</a> <a id="16072" href="../code/probability/Cubical.Foundations.Prelude.html#827" class="Function">refl</a>
  <a id="16079" href="#11498" class="Field Operator">⟦</a> <a id="16081" href="#15940" class="Function">⋊-distribʳ′</a> <a id="16093" href="#16093" class="Bound">p</a> <a id="16095" href="#16095" class="Bound">q</a> <a id="16097" href="#11498" class="Field Operator">⟧</a> <a id="16099" href="#16099" class="Bound">r</a> <a id="16101" href="#11498" class="Field Operator">&amp;</a> <a id="16103" href="#16103" class="Bound">x</a> <a id="16105" href="#11498" class="Field Operator">∷</a> <a id="16107" href="#16107" class="Bound">xs</a> <a id="16110" href="#11498" class="Field Operator">⟨</a> <a id="16112" href="#16112" class="Bound">P</a> <a id="16114" href="#11498" class="Field Operator">⟩</a> <a id="16116" class="Symbol">=</a>
    <a id="16122" href="#16093" class="Bound">p</a> <a id="16124" href="#14109" class="Function Operator">⋊</a> <a id="16126" class="Symbol">(</a><a id="16127" href="#16099" class="Bound">r</a> <a id="16129" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="16131" href="#16103" class="Bound">x</a> <a id="16133" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="16135" href="#16107" class="Bound">xs</a><a id="16137" class="Symbol">)</a> <a id="16139" href="#13390" class="Function Operator">∪</a> <a id="16141" href="#16095" class="Bound">q</a> <a id="16143" href="#14109" class="Function Operator">⋊</a> <a id="16145" class="Symbol">(</a><a id="16146" href="#16099" class="Bound">r</a> <a id="16148" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="16150" href="#16103" class="Bound">x</a> <a id="16152" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="16154" href="#16107" class="Bound">xs</a><a id="16156" class="Symbol">)</a>   <a id="16160" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="16163" href="#15455" class="Function">∪-cons</a> <a id="16170" class="Symbol">(</a><a id="16171" href="#16095" class="Bound">q</a> <a id="16173" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="16175" href="#16099" class="Bound">r</a><a id="16176" class="Symbol">)</a> <a id="16178" href="#16103" class="Bound">x</a> <a id="16180" class="Symbol">(</a><a id="16181" href="#16093" class="Bound">p</a> <a id="16183" href="#14109" class="Function Operator">⋊</a> <a id="16185" class="Symbol">(</a><a id="16186" href="#16099" class="Bound">r</a> <a id="16188" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="16190" href="#16103" class="Bound">x</a> <a id="16192" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="16194" href="#16107" class="Bound">xs</a><a id="16196" class="Symbol">))</a> <a id="16199" class="Symbol">(</a><a id="16200" href="#16095" class="Bound">q</a> <a id="16202" href="#14109" class="Function Operator">⋊</a> <a id="16204" href="#16107" class="Bound">xs</a><a id="16206" class="Symbol">)</a>  <a id="16209" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
    <a id="16215" href="#16095" class="Bound">q</a> <a id="16217" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="16219" href="#16099" class="Bound">r</a> <a id="16221" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="16223" href="#16103" class="Bound">x</a> <a id="16225" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="16227" href="#16093" class="Bound">p</a> <a id="16229" href="#14109" class="Function Operator">⋊</a> <a id="16231" class="Symbol">(</a><a id="16232" href="#16099" class="Bound">r</a> <a id="16234" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="16236" href="#16103" class="Bound">x</a> <a id="16238" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="16240" href="#16107" class="Bound">xs</a><a id="16242" class="Symbol">)</a> <a id="16244" href="#13390" class="Function Operator">∪</a> <a id="16246" href="#16095" class="Bound">q</a> <a id="16248" href="#14109" class="Function Operator">⋊</a> <a id="16250" href="#16107" class="Bound">xs</a> <a id="16253" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="16256" href="../code/probability/Cubical.Foundations.Prelude.html#1027" class="Function">cong</a> <a id="16261" class="Symbol">(</a><a id="16262" href="#13390" class="Function Operator">_∪</a> <a id="16265" href="#16095" class="Bound">q</a> <a id="16267" href="#14109" class="Function Operator">⋊</a> <a id="16269" href="#16107" class="Bound">xs</a><a id="16271" class="Symbol">)</a> <a id="16273" class="Symbol">(</a><a id="16274" href="#8767" class="InductiveConstructor">dup</a> <a id="16278" class="Symbol">(</a><a id="16279" href="#16095" class="Bound">q</a> <a id="16281" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="16283" href="#16099" class="Bound">r</a><a id="16284" class="Symbol">)</a> <a id="16286" class="Symbol">(</a><a id="16287" href="#16093" class="Bound">p</a> <a id="16289" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="16291" href="#16099" class="Bound">r</a><a id="16292" class="Symbol">)</a> <a id="16294" href="#16103" class="Bound">x</a> <a id="16296" class="Symbol">(</a><a id="16297" href="#16093" class="Bound">p</a> <a id="16299" href="#14109" class="Function Operator">⋊</a> <a id="16301" href="#16107" class="Bound">xs</a><a id="16303" class="Symbol">))</a> <a id="16306" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
    <a id="16312" href="#16095" class="Bound">q</a> <a id="16314" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="16316" href="#16099" class="Bound">r</a> <a id="16318" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="16320" href="#16093" class="Bound">p</a> <a id="16322" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="16324" href="#16099" class="Bound">r</a> <a id="16326" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="16328" href="#16103" class="Bound">x</a> <a id="16330" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="16332" href="#16093" class="Bound">p</a> <a id="16334" href="#14109" class="Function Operator">⋊</a> <a id="16336" href="#16107" class="Bound">xs</a> <a id="16339" href="#13390" class="Function Operator">∪</a> <a id="16341" href="#16095" class="Bound">q</a> <a id="16343" href="#14109" class="Function Operator">⋊</a> <a id="16345" href="#16107" class="Bound">xs</a>   <a id="16350" href="../code/probability/ProbabilityModule.Utils.html#295" class="Function">≡˘⟨</a> <a id="16354" href="../code/probability/Cubical.Foundations.Prelude.html#1027" class="Function">cong</a> <a id="16359" class="Symbol">(</a><a id="16360" href="#8727" class="InductiveConstructor Operator">_&amp;</a> <a id="16363" href="#16103" class="Bound">x</a> <a id="16365" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="16367" class="Symbol">(</a><a id="16368" href="#16093" class="Bound">p</a> <a id="16370" href="#14109" class="Function Operator">⋊</a> <a id="16372" href="#16107" class="Bound">xs</a> <a id="16375" href="#13390" class="Function Operator">∪</a> <a id="16377" href="#16095" class="Bound">q</a> <a id="16379" href="#14109" class="Function Operator">⋊</a> <a id="16381" href="#16107" class="Bound">xs</a><a id="16383" class="Symbol">))</a> <a id="16386" class="Symbol">(</a><a id="16387" href="../code/probability/ProbabilityModule.Semirings.html#592" class="Field">⟨+⟩*</a> <a id="16392" href="#16095" class="Bound">q</a> <a id="16394" href="#16093" class="Bound">p</a> <a id="16396" href="#16099" class="Bound">r</a><a id="16397" class="Symbol">)</a> <a id="16399" href="../code/probability/ProbabilityModule.Utils.html#295" class="Function">⟩</a>
    <a id="16405" class="Symbol">(</a><a id="16406" href="#16095" class="Bound">q</a> <a id="16408" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="16410" href="#16093" class="Bound">p</a><a id="16411" class="Symbol">)</a> <a id="16413" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="16415" href="#16099" class="Bound">r</a> <a id="16417" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="16419" href="#16103" class="Bound">x</a> <a id="16421" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="16423" href="#16093" class="Bound">p</a> <a id="16425" href="#14109" class="Function Operator">⋊</a> <a id="16427" href="#16107" class="Bound">xs</a> <a id="16430" href="#13390" class="Function Operator">∪</a> <a id="16432" href="#16095" class="Bound">q</a> <a id="16434" href="#14109" class="Function Operator">⋊</a> <a id="16436" href="#16107" class="Bound">xs</a>     <a id="16443" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="16446" href="../code/probability/Cubical.Foundations.Prelude.html#1027" class="Function">cong</a> <a id="16451" class="Symbol">((</a><a id="16453" href="#16095" class="Bound">q</a> <a id="16455" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="16457" href="#16093" class="Bound">p</a><a id="16458" class="Symbol">)</a> <a id="16460" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="16462" href="#16099" class="Bound">r</a> <a id="16464" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="16466" href="#16103" class="Bound">x</a> <a id="16468" href="#8727" class="InductiveConstructor Operator">∷_</a><a id="16470" class="Symbol">)</a> <a id="16472" href="#16112" class="Bound">P</a> <a id="16474" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
    <a id="16480" class="Symbol">(</a><a id="16481" href="#16095" class="Bound">q</a> <a id="16483" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="16485" href="#16093" class="Bound">p</a><a id="16486" class="Symbol">)</a> <a id="16488" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="16490" href="#16099" class="Bound">r</a> <a id="16492" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="16494" href="#16103" class="Bound">x</a> <a id="16496" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="16498" class="Symbol">(</a><a id="16499" href="#16093" class="Bound">p</a> <a id="16501" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="16503" href="#16095" class="Bound">q</a><a id="16504" class="Symbol">)</a> <a id="16506" href="#14109" class="Function Operator">⋊</a> <a id="16508" href="#16107" class="Bound">xs</a>        <a id="16518" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="16521" href="../code/probability/Cubical.Foundations.Prelude.html#1027" class="Function">cong</a> <a id="16526" class="Symbol">(λ</a> <a id="16529" href="#16529" class="Bound">pq</a> <a id="16532" class="Symbol">→</a> <a id="16534" href="#16529" class="Bound">pq</a> <a id="16537" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="16539" href="#16099" class="Bound">r</a> <a id="16541" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="16543" href="#16103" class="Bound">x</a> <a id="16545" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="16547" class="Symbol">(</a><a id="16548" href="#16093" class="Bound">p</a> <a id="16550" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="16552" href="#16095" class="Bound">q</a><a id="16553" class="Symbol">)</a> <a id="16555" href="#14109" class="Function Operator">⋊</a> <a id="16557" href="#16107" class="Bound">xs</a><a id="16559" class="Symbol">)</a> <a id="16561" class="Symbol">(</a><a id="16562" href="../code/probability/ProbabilityModule.Semirings.html#508" class="Field">+-comm</a> <a id="16569" href="#16095" class="Bound">q</a> <a id="16571" href="#16093" class="Bound">p</a><a id="16572" class="Symbol">)</a> <a id="16574" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
    <a id="16580" class="Symbol">(</a><a id="16581" href="#16093" class="Bound">p</a> <a id="16583" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="16585" href="#16095" class="Bound">q</a><a id="16586" class="Symbol">)</a> <a id="16588" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="16590" href="#16099" class="Bound">r</a> <a id="16592" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="16594" href="#16103" class="Bound">x</a> <a id="16596" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="16598" class="Symbol">(</a><a id="16599" href="#16093" class="Bound">p</a> <a id="16601" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="16603" href="#16095" class="Bound">q</a><a id="16604" class="Symbol">)</a> <a id="16606" href="#14109" class="Function Operator">⋊</a> <a id="16608" href="#16107" class="Bound">xs</a>        <a id="16618" href="../code/probability/ProbabilityModule.Utils.html#572" class="Function Operator">≡⟨⟩</a>
    <a id="16626" href="#14109" class="Function Operator">_⋊_</a> <a id="16630" class="Symbol">(</a><a id="16631" href="#16093" class="Bound">p</a> <a id="16633" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="16635" href="#16095" class="Bound">q</a><a id="16636" class="Symbol">)</a> <a id="16638" class="Symbol">(</a><a id="16639" href="#16099" class="Bound">r</a> <a id="16641" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="16643" href="#16103" class="Bound">x</a> <a id="16645" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="16647" href="#16107" class="Bound">xs</a><a id="16649" class="Symbol">)</a> <a id="16651" href="../code/probability/Cubical.Foundations.Prelude.html#2745" class="Function Operator">∎</a>

<a id="⋊-distribˡ"></a><a id="16654" href="#16654" class="Function">⋊-distribˡ</a> <a id="16665" class="Symbol">:</a> <a id="16667" class="Symbol">∀</a> <a id="16669" href="#16669" class="Bound">p</a> <a id="16671" class="Symbol">→</a> <a id="16673" class="Symbol">(</a><a id="16674" href="#16674" class="Bound">xs</a> <a id="16677" href="#16677" class="Bound">ys</a> <a id="16680" class="Symbol">:</a> <a id="16682" href="#8679" class="Datatype">𝒫</a> <a id="16684" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a><a id="16685" class="Symbol">)</a> <a id="16687" class="Symbol">→</a> <a id="16689" href="#16669" class="Bound">p</a> <a id="16691" href="#14109" class="Function Operator">⋊</a> <a id="16693" href="#16674" class="Bound">xs</a> <a id="16696" href="#13390" class="Function Operator">∪</a> <a id="16698" href="#16669" class="Bound">p</a> <a id="16700" href="#14109" class="Function Operator">⋊</a> <a id="16702" href="#16677" class="Bound">ys</a> <a id="16705" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="16707" href="#16669" class="Bound">p</a> <a id="16709" href="#14109" class="Function Operator">⋊</a> <a id="16711" class="Symbol">(</a><a id="16712" href="#16674" class="Bound">xs</a> <a id="16715" href="#13390" class="Function Operator">∪</a> <a id="16717" href="#16677" class="Bound">ys</a><a id="16719" class="Symbol">)</a>
<a id="16721" href="#16654" class="Function">⋊-distribˡ</a> <a id="16732" class="Symbol">=</a> <a id="16734" class="Symbol">λ</a> <a id="16736" href="#16736" class="Bound">p</a> <a id="16738" href="#16738" class="Bound">xs</a> <a id="16741" href="#16741" class="Bound">ys</a> <a id="16744" class="Symbol">→</a> <a id="16746" href="#12103" class="Function Operator">⟦</a> <a id="16748" href="#16798" class="Function">⋊-distribˡ′</a> <a id="16760" href="#16736" class="Bound">p</a> <a id="16762" href="#16741" class="Bound">ys</a> <a id="16765" href="#12103" class="Function Operator">⟧⇓</a> <a id="16768" href="#16738" class="Bound">xs</a>
  <a id="16773" class="Keyword">module</a> <a id="JDistribL"></a><a id="16780" href="#16780" class="Module">JDistribL</a> <a id="16790" class="Keyword">where</a>
  <a id="JDistribL.⋊-distribˡ′"></a><a id="16798" href="#16798" class="Function">⋊-distribˡ′</a> <a id="16810" class="Symbol">:</a> <a id="16812" class="Symbol">∀</a> <a id="16814" href="#16814" class="Bound">p</a> <a id="16816" href="#16816" class="Bound">ys</a> <a id="16819" class="Symbol">→</a> <a id="16821" href="#12139" class="Function">⟦</a> <a id="16823" href="#16823" class="Bound">xs</a> <a id="16826" href="#12139" class="Function">∈𝒫</a> <a id="16829" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="16831" href="#12139" class="Function">⇒</a> <a id="16833" href="#16814" class="Bound">p</a> <a id="16835" href="#14109" class="Function Operator">⋊</a> <a id="16837" href="#16823" class="Bound">xs</a> <a id="16840" href="#13390" class="Function Operator">∪</a> <a id="16842" href="#16814" class="Bound">p</a> <a id="16844" href="#14109" class="Function Operator">⋊</a> <a id="16846" href="#16816" class="Bound">ys</a> <a id="16849" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="16851" href="#16814" class="Bound">p</a> <a id="16853" href="#14109" class="Function Operator">⋊</a> <a id="16855" class="Symbol">(</a><a id="16856" href="#16823" class="Bound">xs</a> <a id="16859" href="#13390" class="Function Operator">∪</a> <a id="16861" href="#16816" class="Bound">ys</a><a id="16863" class="Symbol">)</a> <a id="16865" href="#12139" class="Function">⟧</a>
  <a id="16869" href="#11443" class="Field Operator">⟦</a> <a id="16871" href="#16798" class="Function">⋊-distribˡ′</a> <a id="16883" href="#16883" class="Bound">p</a> <a id="16885" href="#16885" class="Bound">ys</a> <a id="16888" href="#11443" class="Field Operator">⟧-prop</a> <a id="16895" class="Symbol">=</a> <a id="16897" href="#8921" class="InductiveConstructor">trunc</a> <a id="16903" class="Symbol">_</a> <a id="16905" class="Symbol">_</a>
  <a id="16909" href="#11481" class="Field Operator">⟦</a> <a id="16911" href="#16798" class="Function">⋊-distribˡ′</a> <a id="16923" href="#16923" class="Bound">p</a> <a id="16925" href="#16925" class="Bound">ys</a> <a id="16928" href="#11481" class="Field Operator">⟧[]</a> <a id="16932" class="Symbol">=</a> <a id="16934" href="../code/probability/Cubical.Foundations.Prelude.html#827" class="Function">refl</a>
  <a id="16941" href="#11498" class="Field Operator">⟦</a> <a id="16943" href="#16798" class="Function">⋊-distribˡ′</a> <a id="16955" href="#16955" class="Bound">p</a> <a id="16957" href="#16957" class="Bound">ys</a> <a id="16960" href="#11498" class="Field Operator">⟧</a> <a id="16962" href="#16962" class="Bound">q</a> <a id="16964" href="#11498" class="Field Operator">&amp;</a> <a id="16966" href="#16966" class="Bound">x</a> <a id="16968" href="#11498" class="Field Operator">∷</a> <a id="16970" href="#16970" class="Bound">xs</a> <a id="16973" href="#11498" class="Field Operator">⟨</a> <a id="16975" href="#16975" class="Bound">P</a> <a id="16977" href="#11498" class="Field Operator">⟩</a> <a id="16979" class="Symbol">=</a>
    <a id="16985" href="#16955" class="Bound">p</a> <a id="16987" href="#14109" class="Function Operator">⋊</a> <a id="16989" class="Symbol">(</a><a id="16990" href="#16962" class="Bound">q</a> <a id="16992" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="16994" href="#16966" class="Bound">x</a> <a id="16996" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="16998" href="#16970" class="Bound">xs</a><a id="17000" class="Symbol">)</a> <a id="17002" href="#13390" class="Function Operator">∪</a> <a id="17004" href="#16955" class="Bound">p</a> <a id="17006" href="#14109" class="Function Operator">⋊</a> <a id="17008" href="#16957" class="Bound">ys</a> <a id="17011" href="../code/probability/ProbabilityModule.Utils.html#572" class="Function Operator">≡⟨⟩</a>
    <a id="17019" href="#16955" class="Bound">p</a> <a id="17021" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="17023" href="#16962" class="Bound">q</a> <a id="17025" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="17027" href="#16966" class="Bound">x</a> <a id="17029" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="17031" href="#16955" class="Bound">p</a> <a id="17033" href="#14109" class="Function Operator">⋊</a> <a id="17035" href="#16970" class="Bound">xs</a> <a id="17038" href="#13390" class="Function Operator">∪</a> <a id="17040" href="#16955" class="Bound">p</a> <a id="17042" href="#14109" class="Function Operator">⋊</a> <a id="17044" href="#16957" class="Bound">ys</a> <a id="17047" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="17050" href="../code/probability/Cubical.Foundations.Prelude.html#1027" class="Function">cong</a> <a id="17055" class="Symbol">(</a><a id="17056" href="#16955" class="Bound">p</a> <a id="17058" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="17060" href="#16962" class="Bound">q</a> <a id="17062" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="17064" href="#16966" class="Bound">x</a> <a id="17066" href="#8727" class="InductiveConstructor Operator">∷_</a><a id="17068" class="Symbol">)</a> <a id="17070" href="#16975" class="Bound">P</a> <a id="17072" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
    <a id="17078" href="#16955" class="Bound">p</a> <a id="17080" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="17082" href="#16962" class="Bound">q</a> <a id="17084" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="17086" href="#16966" class="Bound">x</a> <a id="17088" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="17090" href="#16955" class="Bound">p</a> <a id="17092" href="#14109" class="Function Operator">⋊</a> <a id="17094" class="Symbol">(</a><a id="17095" href="#16970" class="Bound">xs</a> <a id="17098" href="#13390" class="Function Operator">∪</a> <a id="17100" href="#16957" class="Bound">ys</a><a id="17102" class="Symbol">)</a> <a id="17104" href="../code/probability/ProbabilityModule.Utils.html#572" class="Function Operator">≡⟨⟩</a>
    <a id="17112" href="#16955" class="Bound">p</a> <a id="17114" href="#14109" class="Function Operator">⋊</a> <a id="17116" class="Symbol">((</a><a id="17118" href="#16962" class="Bound">q</a> <a id="17120" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="17122" href="#16966" class="Bound">x</a> <a id="17124" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="17126" href="#16970" class="Bound">xs</a><a id="17128" class="Symbol">)</a> <a id="17130" href="#13390" class="Function Operator">∪</a> <a id="17132" href="#16957" class="Bound">ys</a><a id="17134" class="Symbol">)</a> <a id="17136" href="../code/probability/Cubical.Foundations.Prelude.html#2745" class="Function Operator">∎</a>


<a id="∪-idʳ"></a><a id="17140" href="#17140" class="Function">∪-idʳ</a> <a id="17146" class="Symbol">:</a> <a id="17148" class="Symbol">(</a><a id="17149" href="#17149" class="Bound">xs</a> <a id="17152" class="Symbol">:</a> <a id="17154" href="#8679" class="Datatype">𝒫</a> <a id="17156" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a><a id="17157" class="Symbol">)</a> <a id="17159" class="Symbol">→</a> <a id="17161" href="#17149" class="Bound">xs</a> <a id="17164" href="#13390" class="Function Operator">∪</a> <a id="17166" href="#8715" class="InductiveConstructor">[]</a> <a id="17169" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="17171" href="#17149" class="Bound">xs</a>
<a id="17174" href="#17140" class="Function">∪-idʳ</a> <a id="17180" class="Symbol">=</a> <a id="17182" href="#12103" class="Function Operator">⟦</a> <a id="17184" href="#17216" class="Function">∪-idʳ′</a> <a id="17191" href="#12103" class="Function Operator">⟧⇓</a>
  <a id="17196" class="Keyword">module</a> <a id="UIdR"></a><a id="17203" href="#17203" class="Module">UIdR</a> <a id="17208" class="Keyword">where</a>
  <a id="UIdR.∪-idʳ′"></a><a id="17216" href="#17216" class="Function">∪-idʳ′</a> <a id="17223" class="Symbol">:</a> <a id="17225" href="#12139" class="Function">⟦</a> <a id="17227" href="#17227" class="Bound">xs</a> <a id="17230" href="#12139" class="Function">∈𝒫</a> <a id="17233" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="17235" href="#12139" class="Function">⇒</a> <a id="17237" href="#17227" class="Bound">xs</a> <a id="17240" href="#13390" class="Function Operator">∪</a> <a id="17242" href="#8715" class="InductiveConstructor">[]</a> <a id="17245" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="17247" href="#17227" class="Bound">xs</a> <a id="17250" href="#12139" class="Function">⟧</a>
  <a id="17254" href="#11443" class="Field Operator">⟦</a> <a id="17256" href="#17216" class="Function">∪-idʳ′</a> <a id="17263" href="#11443" class="Field Operator">⟧-prop</a> <a id="17270" class="Symbol">=</a> <a id="17272" href="#8921" class="InductiveConstructor">trunc</a> <a id="17278" class="Symbol">_</a> <a id="17280" class="Symbol">_</a>
  <a id="17284" href="#11481" class="Field Operator">⟦</a> <a id="17286" href="#17216" class="Function">∪-idʳ′</a> <a id="17293" href="#11481" class="Field Operator">⟧[]</a> <a id="17297" class="Symbol">=</a> <a id="17299" href="../code/probability/Cubical.Foundations.Prelude.html#827" class="Function">refl</a>
  <a id="17306" href="#11498" class="Field Operator">⟦</a> <a id="17308" href="#17216" class="Function">∪-idʳ′</a> <a id="17315" href="#11498" class="Field Operator">⟧</a> <a id="17317" href="#17317" class="Bound">p</a> <a id="17319" href="#11498" class="Field Operator">&amp;</a> <a id="17321" href="#17321" class="Bound">x</a> <a id="17323" href="#11498" class="Field Operator">∷</a> <a id="17325" href="#17325" class="Bound">xs</a> <a id="17328" href="#11498" class="Field Operator">⟨</a> <a id="17330" href="#17330" class="Bound">P</a> <a id="17332" href="#11498" class="Field Operator">⟩</a> <a id="17334" class="Symbol">=</a> <a id="17336" href="../code/probability/Cubical.Foundations.Prelude.html#1027" class="Function">cong</a> <a id="17341" class="Symbol">(</a><a id="17342" href="#17317" class="Bound">p</a> <a id="17344" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="17346" href="#17321" class="Bound">x</a> <a id="17348" href="#8727" class="InductiveConstructor Operator">∷_</a><a id="17350" class="Symbol">)</a> <a id="17352" href="#17330" class="Bound">P</a>

<a id="∪-comm"></a><a id="17355" href="#17355" class="Function">∪-comm</a> <a id="17362" class="Symbol">:</a> <a id="17364" class="Symbol">(</a><a id="17365" href="#17365" class="Bound">xs</a> <a id="17368" href="#17368" class="Bound">ys</a> <a id="17371" class="Symbol">:</a> <a id="17373" href="#8679" class="Datatype">𝒫</a> <a id="17375" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a><a id="17376" class="Symbol">)</a> <a id="17378" class="Symbol">→</a> <a id="17380" href="#17365" class="Bound">xs</a> <a id="17383" href="#13390" class="Function Operator">∪</a> <a id="17385" href="#17368" class="Bound">ys</a> <a id="17388" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="17390" href="#17368" class="Bound">ys</a> <a id="17393" href="#13390" class="Function Operator">∪</a> <a id="17395" href="#17365" class="Bound">xs</a>
<a id="17398" href="#17355" class="Function">∪-comm</a> <a id="17405" class="Symbol">=</a> <a id="17407" class="Symbol">λ</a> <a id="17409" href="#17409" class="Bound">xs</a> <a id="17412" href="#17412" class="Bound">ys</a> <a id="17415" class="Symbol">→</a> <a id="17417" href="#12103" class="Function Operator">⟦</a> <a id="17419" href="#17459" class="Function">∪-comm′</a> <a id="17427" href="#17412" class="Bound">ys</a> <a id="17430" href="#12103" class="Function Operator">⟧⇓</a> <a id="17433" href="#17409" class="Bound">xs</a>
  <a id="17438" class="Keyword">module</a> <a id="UComm"></a><a id="17445" href="#17445" class="Module">UComm</a> <a id="17451" class="Keyword">where</a>
  <a id="UComm.∪-comm′"></a><a id="17459" href="#17459" class="Function">∪-comm′</a> <a id="17467" class="Symbol">:</a> <a id="17469" class="Symbol">∀</a> <a id="17471" href="#17471" class="Bound">ys</a> <a id="17474" class="Symbol">→</a> <a id="17476" href="#12139" class="Function">⟦</a> <a id="17478" href="#17478" class="Bound">xs</a> <a id="17481" href="#12139" class="Function">∈𝒫</a> <a id="17484" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="17486" href="#12139" class="Function">⇒</a> <a id="17488" href="#17478" class="Bound">xs</a> <a id="17491" href="#13390" class="Function Operator">∪</a> <a id="17493" href="#17471" class="Bound">ys</a> <a id="17496" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="17498" href="#17471" class="Bound">ys</a> <a id="17501" href="#13390" class="Function Operator">∪</a> <a id="17503" href="#17478" class="Bound">xs</a> <a id="17506" href="#12139" class="Function">⟧</a>
  <a id="17510" href="#11443" class="Field Operator">⟦</a> <a id="17512" href="#17459" class="Function">∪-comm′</a> <a id="17520" href="#17520" class="Bound">ys</a> <a id="17523" href="#11443" class="Field Operator">⟧-prop</a> <a id="17530" class="Symbol">=</a> <a id="17532" href="#8921" class="InductiveConstructor">trunc</a> <a id="17538" class="Symbol">_</a> <a id="17540" class="Symbol">_</a>
  <a id="17544" href="#11481" class="Field Operator">⟦</a> <a id="17546" href="#17459" class="Function">∪-comm′</a> <a id="17554" href="#17554" class="Bound">ys</a> <a id="17557" href="#11481" class="Field Operator">⟧[]</a> <a id="17561" class="Symbol">=</a> <a id="17563" href="../code/probability/Cubical.Foundations.Prelude.html#864" class="Function">sym</a> <a id="17567" class="Symbol">(</a><a id="17568" href="#17140" class="Function">∪-idʳ</a> <a id="17574" href="#17554" class="Bound">ys</a><a id="17576" class="Symbol">)</a>
  <a id="17580" href="#11498" class="Field Operator">⟦</a> <a id="17582" href="#17459" class="Function">∪-comm′</a> <a id="17590" href="#17590" class="Bound">ys</a> <a id="17593" href="#11498" class="Field Operator">⟧</a> <a id="17595" href="#17595" class="Bound">p</a> <a id="17597" href="#11498" class="Field Operator">&amp;</a> <a id="17599" href="#17599" class="Bound">x</a> <a id="17601" href="#11498" class="Field Operator">∷</a> <a id="17603" href="#17603" class="Bound">xs</a> <a id="17606" href="#11498" class="Field Operator">⟨</a> <a id="17608" href="#17608" class="Bound">P</a> <a id="17610" href="#11498" class="Field Operator">⟩</a> <a id="17612" class="Symbol">=</a> <a id="17614" href="../code/probability/Cubical.Foundations.Prelude.html#1027" class="Function">cong</a> <a id="17619" class="Symbol">(</a><a id="17620" href="#17595" class="Bound">p</a> <a id="17622" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="17624" href="#17599" class="Bound">x</a> <a id="17626" href="#8727" class="InductiveConstructor Operator">∷_</a><a id="17628" class="Symbol">)</a> <a id="17630" href="#17608" class="Bound">P</a> <a id="17632" href="../code/probability/Cubical.Foundations.Prelude.html#1674" class="Function Operator">;</a> <a id="17634" href="../code/probability/Cubical.Foundations.Prelude.html#864" class="Function">sym</a> <a id="17638" class="Symbol">(</a><a id="17639" href="#15455" class="Function">∪-cons</a> <a id="17646" href="#17595" class="Bound">p</a> <a id="17648" href="#17599" class="Bound">x</a> <a id="17650" href="#17590" class="Bound">ys</a> <a id="17653" href="#17603" class="Bound">xs</a><a id="17655" class="Symbol">)</a>

<a id="0⋊"></a><a id="17658" href="#17658" class="Function">0⋊</a> <a id="17661" class="Symbol">:</a> <a id="17663" class="Symbol">(</a><a id="17664" href="#17664" class="Bound">xs</a> <a id="17667" class="Symbol">:</a> <a id="17669" href="#8679" class="Datatype">𝒫</a> <a id="17671" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a><a id="17672" class="Symbol">)</a> <a id="17674" class="Symbol">→</a> <a id="17676" href="../code/probability/ProbabilityModule.Semirings.html#254" class="Field">0#</a> <a id="17679" href="#14109" class="Function Operator">⋊</a> <a id="17681" href="#17664" class="Bound">xs</a> <a id="17684" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="17686" href="#8715" class="InductiveConstructor">[]</a>
<a id="17689" href="#17658" class="Function">0⋊</a> <a id="17692" class="Symbol">=</a> <a id="17694" href="#12103" class="Function Operator">⟦</a> <a id="17696" href="#17726" class="Function">0⋊′</a> <a id="17700" href="#12103" class="Function Operator">⟧⇓</a>
  <a id="17705" class="Keyword">module</a> <a id="ZeroJ"></a><a id="17712" href="#17712" class="Module">ZeroJ</a> <a id="17718" class="Keyword">where</a>
  <a id="ZeroJ.0⋊′"></a><a id="17726" href="#17726" class="Function">0⋊′</a> <a id="17730" class="Symbol">:</a> <a id="17732" href="#12139" class="Function">⟦</a> <a id="17734" href="#17734" class="Bound">xs</a> <a id="17737" href="#12139" class="Function">∈𝒫</a> <a id="17740" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="17742" href="#12139" class="Function">⇒</a> <a id="17744" href="../code/probability/ProbabilityModule.Semirings.html#254" class="Field">0#</a> <a id="17747" href="#14109" class="Function Operator">⋊</a> <a id="17749" href="#17734" class="Bound">xs</a> <a id="17752" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="17754" href="#8715" class="InductiveConstructor">[]</a> <a id="17757" href="#12139" class="Function">⟧</a>
  <a id="17761" href="#11443" class="Field Operator">⟦</a> <a id="17763" href="#17726" class="Function">0⋊′</a> <a id="17767" href="#11443" class="Field Operator">⟧-prop</a> <a id="17774" class="Symbol">=</a> <a id="17776" href="#8921" class="InductiveConstructor">trunc</a> <a id="17782" class="Symbol">_</a> <a id="17784" class="Symbol">_</a>
  <a id="17788" href="#11481" class="Field Operator">⟦</a> <a id="17790" href="#17726" class="Function">0⋊′</a> <a id="17794" href="#11481" class="Field Operator">⟧[]</a> <a id="17798" class="Symbol">=</a> <a id="17800" href="../code/probability/Cubical.Foundations.Prelude.html#827" class="Function">refl</a>
  <a id="17807" href="#11498" class="Field Operator">⟦</a> <a id="17809" href="#17726" class="Function">0⋊′</a> <a id="17813" href="#11498" class="Field Operator">⟧</a> <a id="17815" href="#17815" class="Bound">p</a> <a id="17817" href="#11498" class="Field Operator">&amp;</a> <a id="17819" href="#17819" class="Bound">x</a> <a id="17821" href="#11498" class="Field Operator">∷</a> <a id="17823" href="#17823" class="Bound">xs</a> <a id="17826" href="#11498" class="Field Operator">⟨</a> <a id="17828" href="#17828" class="Bound">P</a> <a id="17830" href="#11498" class="Field Operator">⟩</a> <a id="17832" class="Symbol">=</a>
    <a id="17838" href="../code/probability/ProbabilityModule.Semirings.html#254" class="Field">0#</a> <a id="17841" href="#14109" class="Function Operator">⋊</a> <a id="17843" class="Symbol">(</a><a id="17844" href="#17815" class="Bound">p</a> <a id="17846" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="17848" href="#17819" class="Bound">x</a> <a id="17850" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="17852" href="#17823" class="Bound">xs</a><a id="17854" class="Symbol">)</a>    <a id="17859" href="../code/probability/ProbabilityModule.Utils.html#572" class="Function Operator">≡⟨⟩</a>
    <a id="17867" href="../code/probability/ProbabilityModule.Semirings.html#254" class="Field">0#</a> <a id="17870" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="17872" href="#17815" class="Bound">p</a> <a id="17874" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="17876" href="#17819" class="Bound">x</a> <a id="17878" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="17880" href="../code/probability/ProbabilityModule.Semirings.html#254" class="Field">0#</a> <a id="17883" href="#14109" class="Function Operator">⋊</a> <a id="17885" href="#17823" class="Bound">xs</a> <a id="17888" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="17891" href="../code/probability/Cubical.Foundations.Prelude.html#1027" class="Function">cong</a> <a id="17896" class="Symbol">(</a><a id="17897" href="#8727" class="InductiveConstructor Operator">_&amp;</a> <a id="17900" href="#17819" class="Bound">x</a> <a id="17902" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="17904" href="../code/probability/ProbabilityModule.Semirings.html#254" class="Field">0#</a> <a id="17907" href="#14109" class="Function Operator">⋊</a> <a id="17909" href="#17823" class="Bound">xs</a><a id="17911" class="Symbol">)</a> <a id="17913" class="Symbol">(</a><a id="17914" href="../code/probability/ProbabilityModule.Semirings.html#403" class="Field">0*</a> <a id="17917" href="#17815" class="Bound">p</a><a id="17918" class="Symbol">)</a> <a id="17920" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
    <a id="17926" href="../code/probability/ProbabilityModule.Semirings.html#254" class="Field">0#</a> <a id="17929" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="17931" href="#17819" class="Bound">x</a> <a id="17933" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="17935" href="../code/probability/ProbabilityModule.Semirings.html#254" class="Field">0#</a> <a id="17938" href="#14109" class="Function Operator">⋊</a> <a id="17940" href="#17823" class="Bound">xs</a>     <a id="17947" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="17950" href="#8887" class="InductiveConstructor">del</a> <a id="17954" href="#17819" class="Bound">x</a> <a id="17956" class="Symbol">(</a><a id="17957" href="../code/probability/ProbabilityModule.Semirings.html#254" class="Field">0#</a> <a id="17960" href="#14109" class="Function Operator">⋊</a> <a id="17962" href="#17823" class="Bound">xs</a><a id="17964" class="Symbol">)</a> <a id="17966" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
    <a id="17972" href="../code/probability/ProbabilityModule.Semirings.html#254" class="Field">0#</a> <a id="17975" href="#14109" class="Function Operator">⋊</a> <a id="17977" href="#17823" class="Bound">xs</a>              <a id="17993" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="17996" href="#17828" class="Bound">P</a> <a id="17998" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
    <a id="18004" href="#8715" class="InductiveConstructor">[]</a> <a id="18007" href="../code/probability/Cubical.Foundations.Prelude.html#2745" class="Function Operator">∎</a>
</pre></details>

However, I *can* demonstrate the monadic bind:

<pre class="Agda"><a id="_&gt;&gt;=_"></a><a id="18081" href="#18081" class="Function Operator">_&gt;&gt;=_</a> <a id="18087" class="Symbol">:</a> <a id="18089" href="#8679" class="Datatype">𝒫</a> <a id="18091" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="18093" class="Symbol">→</a> <a id="18095" class="Symbol">(</a><a id="18096" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="18098" class="Symbol">→</a> <a id="18100" href="#8679" class="Datatype">𝒫</a> <a id="18102" href="../code/probability/ProbabilityModule.Utils.html#206" class="Generalizable">B</a><a id="18103" class="Symbol">)</a> <a id="18105" class="Symbol">→</a> <a id="18107" href="#8679" class="Datatype">𝒫</a> <a id="18109" href="../code/probability/ProbabilityModule.Utils.html#206" class="Generalizable">B</a>
<a id="18111" href="#18111" class="Bound">xs</a> <a id="18114" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="18118" href="#18118" class="Bound">f</a> <a id="18120" class="Symbol">=</a> <a id="18122" href="#12874" class="Function Operator">[</a> <a id="18124" href="#18118" class="Bound">f</a> <a id="18126" href="#18158" class="Function Operator">=&lt;&lt;</a> <a id="18130" href="#12874" class="Function Operator">]↓</a> <a id="18133" href="#18111" class="Bound">xs</a>
  <a id="18138" class="Keyword">module</a> <a id="Bind"></a><a id="18145" href="#18145" class="Module">Bind</a> <a id="18150" class="Keyword">where</a>
  <a id="Bind._=&lt;&lt;"></a><a id="18158" href="#18158" class="Function Operator">_=&lt;&lt;</a> <a id="18163" class="Symbol">:</a> <a id="18165" class="Symbol">(</a><a id="18166" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="18168" class="Symbol">→</a> <a id="18170" href="#8679" class="Datatype">𝒫</a> <a id="18172" href="../code/probability/ProbabilityModule.Utils.html#206" class="Generalizable">B</a><a id="18173" class="Symbol">)</a> <a id="18175" class="Symbol">→</a> <a id="18177" href="#12307" class="Record Operator">[</a> <a id="18179" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="18181" href="#12307" class="Record Operator">↦</a> <a id="18183" href="#8679" class="Datatype">𝒫</a> <a id="18185" href="../code/probability/ProbabilityModule.Utils.html#206" class="Generalizable">B</a> <a id="18187" href="#12307" class="Record Operator">]</a>
  <a id="18191" href="#12420" class="Field Operator">[</a> <a id="18193" href="#18193" class="Bound">f</a> <a id="18195" href="#18158" class="Function Operator">=&lt;&lt;</a> <a id="18199" href="#12420" class="Field Operator">]</a> <a id="18201" href="#18201" class="Bound">p</a> <a id="18203" href="#12420" class="Field Operator">&amp;</a> <a id="18205" href="#18205" class="Bound">x</a> <a id="18207" href="#12420" class="Field Operator">∷</a> <a id="18209" href="#18209" class="Bound">xs</a> <a id="18212" class="Symbol">=</a> <a id="18214" href="#18201" class="Bound">p</a> <a id="18216" href="#14109" class="Function Operator">⋊</a> <a id="18218" class="Symbol">(</a><a id="18219" href="#18193" class="Bound">f</a> <a id="18221" href="#18205" class="Bound">x</a><a id="18222" class="Symbol">)</a> <a id="18224" href="#13390" class="Function Operator">∪</a> <a id="18226" href="#18209" class="Bound">xs</a>
  <a id="18231" href="#12449" class="Field Operator">[</a> <a id="18233" href="#18233" class="Bound">f</a> <a id="18235" href="#18158" class="Function Operator">=&lt;&lt;</a> <a id="18239" href="#12449" class="Field Operator">][]</a> <a id="18243" class="Symbol">=</a> <a id="18245" href="#8715" class="InductiveConstructor">[]</a>
  <a id="18250" href="#12397" class="Field Operator">[</a> <a id="18252" href="#18252" class="Bound">f</a> <a id="18254" href="#18158" class="Function Operator">=&lt;&lt;</a> <a id="18258" href="#12397" class="Field Operator">]-set</a> <a id="18264" class="Symbol">=</a> <a id="18266" href="#8921" class="InductiveConstructor">trunc</a>
  <a id="18274" href="#12635" class="Field Operator">[</a> <a id="18276" href="#18276" class="Bound">f</a> <a id="18278" href="#18158" class="Function Operator">=&lt;&lt;</a> <a id="18282" href="#12635" class="Field Operator">]-del</a> <a id="18288" href="#18288" class="Bound">x</a> <a id="18290" href="#18290" class="Bound">xs</a> <a id="18293" class="Symbol">=</a> <a id="18295" href="../code/probability/Cubical.Foundations.Prelude.html#1027" class="Function">cong</a> <a id="18300" class="Symbol">(</a><a id="18301" href="#13390" class="Function Operator">_∪</a> <a id="18304" href="#18290" class="Bound">xs</a><a id="18306" class="Symbol">)</a> <a id="18308" class="Symbol">(</a><a id="18309" href="#17658" class="Function">0⋊</a> <a id="18312" class="Symbol">(</a><a id="18313" href="#18276" class="Bound">f</a> <a id="18315" href="#18288" class="Bound">x</a><a id="18316" class="Symbol">))</a>
  <a id="18321" href="#12508" class="Field Operator">[</a> <a id="18323" href="#18323" class="Bound">f</a> <a id="18325" href="#18158" class="Function Operator">=&lt;&lt;</a> <a id="18329" href="#12508" class="Field Operator">]-dup</a> <a id="18335" href="#18335" class="Bound">p</a> <a id="18337" href="#18337" class="Bound">q</a> <a id="18339" href="#18339" class="Bound">x</a> <a id="18341" href="#18341" class="Bound">xs</a> <a id="18344" class="Symbol">=</a>
    <a id="18350" href="#18335" class="Bound">p</a> <a id="18352" href="#14109" class="Function Operator">⋊</a> <a id="18354" class="Symbol">(</a><a id="18355" href="#18323" class="Bound">f</a> <a id="18357" href="#18339" class="Bound">x</a><a id="18358" class="Symbol">)</a> <a id="18360" href="#13390" class="Function Operator">∪</a> <a id="18362" href="#18337" class="Bound">q</a> <a id="18364" href="#14109" class="Function Operator">⋊</a> <a id="18366" class="Symbol">(</a><a id="18367" href="#18323" class="Bound">f</a> <a id="18369" href="#18339" class="Bound">x</a><a id="18370" class="Symbol">)</a> <a id="18372" href="#13390" class="Function Operator">∪</a> <a id="18374" href="#18341" class="Bound">xs</a>   <a id="18379" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="18382" href="#13658" class="Function">∪-assoc</a> <a id="18390" class="Symbol">(</a><a id="18391" href="#18335" class="Bound">p</a> <a id="18393" href="#14109" class="Function Operator">⋊</a> <a id="18395" href="#18323" class="Bound">f</a> <a id="18397" href="#18339" class="Bound">x</a><a id="18398" class="Symbol">)</a> <a id="18400" class="Symbol">(</a><a id="18401" href="#18337" class="Bound">q</a> <a id="18403" href="#14109" class="Function Operator">⋊</a> <a id="18405" href="#18323" class="Bound">f</a> <a id="18407" href="#18339" class="Bound">x</a><a id="18408" class="Symbol">)</a> <a id="18410" href="#18341" class="Bound">xs</a> <a id="18413" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
    <a id="18419" class="Symbol">(</a><a id="18420" href="#18335" class="Bound">p</a> <a id="18422" href="#14109" class="Function Operator">⋊</a> <a id="18424" class="Symbol">(</a><a id="18425" href="#18323" class="Bound">f</a> <a id="18427" href="#18339" class="Bound">x</a><a id="18428" class="Symbol">)</a> <a id="18430" href="#13390" class="Function Operator">∪</a> <a id="18432" href="#18337" class="Bound">q</a> <a id="18434" href="#14109" class="Function Operator">⋊</a> <a id="18436" class="Symbol">(</a><a id="18437" href="#18323" class="Bound">f</a> <a id="18439" href="#18339" class="Bound">x</a><a id="18440" class="Symbol">))</a> <a id="18443" href="#13390" class="Function Operator">∪</a> <a id="18445" href="#18341" class="Bound">xs</a> <a id="18448" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="18451" href="../code/probability/Cubical.Foundations.Prelude.html#1027" class="Function">cong</a> <a id="18456" class="Symbol">(</a><a id="18457" href="#13390" class="Function Operator">_∪</a> <a id="18460" href="#18341" class="Bound">xs</a><a id="18462" class="Symbol">)</a> <a id="18464" class="Symbol">(</a><a id="18465" href="#15807" class="Function">⋊-distribʳ</a> <a id="18476" href="#18335" class="Bound">p</a> <a id="18478" href="#18337" class="Bound">q</a> <a id="18480" class="Symbol">(</a><a id="18481" href="#18323" class="Bound">f</a> <a id="18483" href="#18339" class="Bound">x</a><a id="18484" class="Symbol">)</a> <a id="18486" class="Symbol">)</a> <a id="18488" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
    <a id="18494" href="#14109" class="Function Operator">_⋊_</a> <a id="18498" class="Symbol">(</a><a id="18499" href="#18335" class="Bound">p</a> <a id="18501" href="../code/probability/ProbabilityModule.Semirings.html#214" class="Field Operator">+</a> <a id="18503" href="#18337" class="Bound">q</a><a id="18504" class="Symbol">)</a> <a id="18506" class="Symbol">(</a><a id="18507" href="#18323" class="Bound">f</a> <a id="18509" href="#18339" class="Bound">x</a><a id="18510" class="Symbol">)</a> <a id="18512" href="#13390" class="Function Operator">∪</a> <a id="18514" href="#18341" class="Bound">xs</a> <a id="18517" href="../code/probability/Cubical.Foundations.Prelude.html#2745" class="Function Operator">∎</a>
  <a id="18521" href="#12570" class="Field Operator">[</a> <a id="18523" href="#18523" class="Bound">f</a> <a id="18525" href="#18158" class="Function Operator">=&lt;&lt;</a> <a id="18529" href="#12570" class="Field Operator">]-com</a> <a id="18535" href="#18535" class="Bound">p</a> <a id="18537" href="#18537" class="Bound">x</a> <a id="18539" href="#18539" class="Bound">q</a> <a id="18541" href="#18541" class="Bound">y</a> <a id="18543" href="#18543" class="Bound">xs</a> <a id="18546" class="Symbol">=</a>
    <a id="18552" href="#18535" class="Bound">p</a> <a id="18554" href="#14109" class="Function Operator">⋊</a> <a id="18556" class="Symbol">(</a><a id="18557" href="#18523" class="Bound">f</a> <a id="18559" href="#18537" class="Bound">x</a><a id="18560" class="Symbol">)</a> <a id="18562" href="#13390" class="Function Operator">∪</a> <a id="18564" href="#18539" class="Bound">q</a> <a id="18566" href="#14109" class="Function Operator">⋊</a> <a id="18568" class="Symbol">(</a><a id="18569" href="#18523" class="Bound">f</a> <a id="18571" href="#18541" class="Bound">y</a><a id="18572" class="Symbol">)</a> <a id="18574" href="#13390" class="Function Operator">∪</a> <a id="18576" href="#18543" class="Bound">xs</a>   <a id="18581" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="18584" href="#13658" class="Function">∪-assoc</a> <a id="18592" class="Symbol">(</a><a id="18593" href="#18535" class="Bound">p</a> <a id="18595" href="#14109" class="Function Operator">⋊</a> <a id="18597" href="#18523" class="Bound">f</a> <a id="18599" href="#18537" class="Bound">x</a><a id="18600" class="Symbol">)</a> <a id="18602" class="Symbol">(</a><a id="18603" href="#18539" class="Bound">q</a> <a id="18605" href="#14109" class="Function Operator">⋊</a> <a id="18607" href="#18523" class="Bound">f</a> <a id="18609" href="#18541" class="Bound">y</a><a id="18610" class="Symbol">)</a> <a id="18612" href="#18543" class="Bound">xs</a> <a id="18615" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
    <a id="18621" class="Symbol">(</a><a id="18622" href="#18535" class="Bound">p</a> <a id="18624" href="#14109" class="Function Operator">⋊</a> <a id="18626" class="Symbol">(</a><a id="18627" href="#18523" class="Bound">f</a> <a id="18629" href="#18537" class="Bound">x</a><a id="18630" class="Symbol">)</a> <a id="18632" href="#13390" class="Function Operator">∪</a> <a id="18634" href="#18539" class="Bound">q</a> <a id="18636" href="#14109" class="Function Operator">⋊</a> <a id="18638" class="Symbol">(</a><a id="18639" href="#18523" class="Bound">f</a> <a id="18641" href="#18541" class="Bound">y</a><a id="18642" class="Symbol">))</a> <a id="18645" href="#13390" class="Function Operator">∪</a> <a id="18647" href="#18543" class="Bound">xs</a> <a id="18650" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="18653" href="../code/probability/Cubical.Foundations.Prelude.html#1027" class="Function">cong</a> <a id="18658" class="Symbol">(</a><a id="18659" href="#13390" class="Function Operator">_∪</a> <a id="18662" href="#18543" class="Bound">xs</a><a id="18664" class="Symbol">)</a> <a id="18666" class="Symbol">(</a><a id="18667" href="#17355" class="Function">∪-comm</a> <a id="18674" class="Symbol">(</a><a id="18675" href="#18535" class="Bound">p</a> <a id="18677" href="#14109" class="Function Operator">⋊</a> <a id="18679" href="#18523" class="Bound">f</a> <a id="18681" href="#18537" class="Bound">x</a><a id="18682" class="Symbol">)</a> <a id="18684" class="Symbol">(</a><a id="18685" href="#18539" class="Bound">q</a> <a id="18687" href="#14109" class="Function Operator">⋊</a> <a id="18689" href="#18523" class="Bound">f</a> <a id="18691" href="#18541" class="Bound">y</a><a id="18692" class="Symbol">))</a> <a id="18695" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
    <a id="18701" class="Symbol">(</a><a id="18702" href="#18539" class="Bound">q</a> <a id="18704" href="#14109" class="Function Operator">⋊</a> <a id="18706" class="Symbol">(</a><a id="18707" href="#18523" class="Bound">f</a> <a id="18709" href="#18541" class="Bound">y</a><a id="18710" class="Symbol">)</a> <a id="18712" href="#13390" class="Function Operator">∪</a> <a id="18714" href="#18535" class="Bound">p</a> <a id="18716" href="#14109" class="Function Operator">⋊</a> <a id="18718" class="Symbol">(</a><a id="18719" href="#18523" class="Bound">f</a> <a id="18721" href="#18537" class="Bound">x</a><a id="18722" class="Symbol">))</a> <a id="18725" href="#13390" class="Function Operator">∪</a> <a id="18727" href="#18543" class="Bound">xs</a> <a id="18730" href="../code/probability/ProbabilityModule.Utils.html#295" class="Function">≡˘⟨</a> <a id="18734" href="#13658" class="Function">∪-assoc</a> <a id="18742" class="Symbol">(</a><a id="18743" href="#18539" class="Bound">q</a> <a id="18745" href="#14109" class="Function Operator">⋊</a> <a id="18747" href="#18523" class="Bound">f</a> <a id="18749" href="#18541" class="Bound">y</a><a id="18750" class="Symbol">)</a> <a id="18752" class="Symbol">(</a><a id="18753" href="#18535" class="Bound">p</a> <a id="18755" href="#14109" class="Function Operator">⋊</a> <a id="18757" href="#18523" class="Bound">f</a> <a id="18759" href="#18537" class="Bound">x</a><a id="18760" class="Symbol">)</a> <a id="18762" href="#18543" class="Bound">xs</a> <a id="18765" href="../code/probability/ProbabilityModule.Utils.html#295" class="Function">⟩</a>
    <a id="18771" href="#18539" class="Bound">q</a> <a id="18773" href="#14109" class="Function Operator">⋊</a> <a id="18775" class="Symbol">(</a><a id="18776" href="#18523" class="Bound">f</a> <a id="18778" href="#18541" class="Bound">y</a><a id="18779" class="Symbol">)</a> <a id="18781" href="#13390" class="Function Operator">∪</a> <a id="18783" href="#18535" class="Bound">p</a> <a id="18785" href="#14109" class="Function Operator">⋊</a> <a id="18787" class="Symbol">(</a><a id="18788" href="#18523" class="Bound">f</a> <a id="18790" href="#18537" class="Bound">x</a><a id="18791" class="Symbol">)</a> <a id="18793" href="#13390" class="Function Operator">∪</a> <a id="18795" href="#18543" class="Bound">xs</a> <a id="18798" href="../code/probability/Cubical.Foundations.Prelude.html#2745" class="Function Operator">∎</a>
</pre>
And we can prove the monad laws, also:

<details>
<summary>Proofs of Monad Laws</summary>

<pre class="Agda"><a id="1⋊"></a><a id="18904" href="#18904" class="Function">1⋊</a> <a id="18907" class="Symbol">:</a> <a id="18909" class="Symbol">(</a><a id="18910" href="#18910" class="Bound">xs</a> <a id="18913" class="Symbol">:</a> <a id="18915" href="#8679" class="Datatype">𝒫</a> <a id="18917" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a><a id="18918" class="Symbol">)</a> <a id="18920" class="Symbol">→</a> <a id="18922" href="../code/probability/ProbabilityModule.Semirings.html#265" class="Field">1#</a> <a id="18925" href="#14109" class="Function Operator">⋊</a> <a id="18927" href="#18910" class="Bound">xs</a> <a id="18930" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="18932" href="#18910" class="Bound">xs</a>
<a id="18935" href="#18904" class="Function">1⋊</a> <a id="18938" class="Symbol">=</a> <a id="18940" href="#12103" class="Function Operator">⟦</a> <a id="18942" href="#18974" class="Function">1⋊′</a> <a id="18946" href="#12103" class="Function Operator">⟧⇓</a>
  <a id="18951" class="Keyword">module</a> <a id="OneJoin"></a><a id="18958" href="#18958" class="Module">OneJoin</a> <a id="18966" class="Keyword">where</a>
  <a id="OneJoin.1⋊′"></a><a id="18974" href="#18974" class="Function">1⋊′</a> <a id="18978" class="Symbol">:</a> <a id="18980" href="#12139" class="Function">⟦</a> <a id="18982" href="#18982" class="Bound">xs</a> <a id="18985" href="#12139" class="Function">∈𝒫</a> <a id="18988" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="18990" href="#12139" class="Function">⇒</a> <a id="18992" href="../code/probability/ProbabilityModule.Semirings.html#265" class="Field">1#</a> <a id="18995" href="#14109" class="Function Operator">⋊</a> <a id="18997" href="#18982" class="Bound">xs</a> <a id="19000" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="19002" href="#18982" class="Bound">xs</a> <a id="19005" href="#12139" class="Function">⟧</a>
  <a id="19009" href="#11443" class="Field Operator">⟦</a> <a id="19011" href="#18974" class="Function">1⋊′</a> <a id="19015" href="#11443" class="Field Operator">⟧-prop</a> <a id="19022" class="Symbol">=</a> <a id="19024" href="#8921" class="InductiveConstructor">trunc</a> <a id="19030" class="Symbol">_</a> <a id="19032" class="Symbol">_</a>
  <a id="19036" href="#11481" class="Field Operator">⟦</a> <a id="19038" href="#18974" class="Function">1⋊′</a> <a id="19042" href="#11481" class="Field Operator">⟧[]</a> <a id="19046" class="Symbol">=</a> <a id="19048" href="../code/probability/Cubical.Foundations.Prelude.html#827" class="Function">refl</a>
  <a id="19055" href="#11498" class="Field Operator">⟦</a> <a id="19057" href="#18974" class="Function">1⋊′</a> <a id="19061" href="#11498" class="Field Operator">⟧</a> <a id="19063" href="#19063" class="Bound">p</a> <a id="19065" href="#11498" class="Field Operator">&amp;</a> <a id="19067" href="#19067" class="Bound">x</a> <a id="19069" href="#11498" class="Field Operator">∷</a> <a id="19071" href="#19071" class="Bound">xs</a> <a id="19074" href="#11498" class="Field Operator">⟨</a> <a id="19076" href="#19076" class="Bound">P</a> <a id="19078" href="#11498" class="Field Operator">⟩</a> <a id="19080" class="Symbol">=</a>
    <a id="19086" href="../code/probability/ProbabilityModule.Semirings.html#265" class="Field">1#</a> <a id="19089" href="#14109" class="Function Operator">⋊</a> <a id="19091" class="Symbol">(</a><a id="19092" href="#19063" class="Bound">p</a> <a id="19094" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="19096" href="#19067" class="Bound">x</a> <a id="19098" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="19100" href="#19071" class="Bound">xs</a><a id="19102" class="Symbol">)</a> <a id="19104" href="../code/probability/ProbabilityModule.Utils.html#572" class="Function Operator">≡⟨⟩</a>
    <a id="19112" href="../code/probability/ProbabilityModule.Semirings.html#265" class="Field">1#</a> <a id="19115" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="19117" href="#19063" class="Bound">p</a> <a id="19119" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="19121" href="#19067" class="Bound">x</a> <a id="19123" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="19125" href="../code/probability/ProbabilityModule.Semirings.html#265" class="Field">1#</a> <a id="19128" href="#14109" class="Function Operator">⋊</a> <a id="19130" href="#19071" class="Bound">xs</a> <a id="19133" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="19136" href="../code/probability/Cubical.Foundations.Prelude.html#1027" class="Function">cong</a> <a id="19141" class="Symbol">(</a><a id="19142" href="#8727" class="InductiveConstructor Operator">_&amp;</a> <a id="19145" href="#19067" class="Bound">x</a> <a id="19147" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="19149" href="../code/probability/ProbabilityModule.Semirings.html#265" class="Field">1#</a> <a id="19152" href="#14109" class="Function Operator">⋊</a> <a id="19154" href="#19071" class="Bound">xs</a><a id="19156" class="Symbol">)</a> <a id="19158" class="Symbol">(</a><a id="19159" href="../code/probability/ProbabilityModule.Semirings.html#482" class="Field">1*</a> <a id="19162" href="#19063" class="Bound">p</a><a id="19163" class="Symbol">)</a> <a id="19165" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
    <a id="19171" href="#19063" class="Bound">p</a> <a id="19173" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="19175" href="#19067" class="Bound">x</a> <a id="19177" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="19179" href="../code/probability/ProbabilityModule.Semirings.html#265" class="Field">1#</a> <a id="19182" href="#14109" class="Function Operator">⋊</a> <a id="19184" href="#19071" class="Bound">xs</a> <a id="19187" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="19190" href="../code/probability/Cubical.Foundations.Prelude.html#1027" class="Function">cong</a> <a id="19195" class="Symbol">(</a><a id="19196" href="#19063" class="Bound">p</a> <a id="19198" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="19200" href="#19067" class="Bound">x</a> <a id="19202" href="#8727" class="InductiveConstructor Operator">∷_</a><a id="19204" class="Symbol">)</a> <a id="19206" href="#19076" class="Bound">P</a> <a id="19208" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
    <a id="19214" href="#19063" class="Bound">p</a> <a id="19216" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="19218" href="#19067" class="Bound">x</a> <a id="19220" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="19222" href="#19071" class="Bound">xs</a> <a id="19225" href="../code/probability/Cubical.Foundations.Prelude.html#2745" class="Function Operator">∎</a>

<a id="&gt;&gt;=-distrib"></a><a id="19228" href="#19228" class="Function">&gt;&gt;=-distrib</a> <a id="19240" class="Symbol">:</a> <a id="19242" class="Symbol">(</a><a id="19243" href="#19243" class="Bound">xs</a> <a id="19246" href="#19246" class="Bound">ys</a> <a id="19249" class="Symbol">:</a> <a id="19251" href="#8679" class="Datatype">𝒫</a> <a id="19253" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a><a id="19254" class="Symbol">)</a> <a id="19256" class="Symbol">(</a><a id="19257" href="#19257" class="Bound">g</a> <a id="19259" class="Symbol">:</a> <a id="19261" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="19263" class="Symbol">→</a> <a id="19265" href="#8679" class="Datatype">𝒫</a> <a id="19267" href="../code/probability/ProbabilityModule.Utils.html#206" class="Generalizable">B</a><a id="19268" class="Symbol">)</a> <a id="19270" class="Symbol">→</a> <a id="19272" class="Symbol">(</a><a id="19273" href="#19243" class="Bound">xs</a> <a id="19276" href="#13390" class="Function Operator">∪</a> <a id="19278" href="#19246" class="Bound">ys</a><a id="19280" class="Symbol">)</a> <a id="19282" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="19286" href="#19257" class="Bound">g</a> <a id="19288" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="19290" class="Symbol">(</a><a id="19291" href="#19243" class="Bound">xs</a> <a id="19294" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="19298" href="#19257" class="Bound">g</a><a id="19299" class="Symbol">)</a> <a id="19301" href="#13390" class="Function Operator">∪</a> <a id="19303" class="Symbol">(</a><a id="19304" href="#19246" class="Bound">ys</a> <a id="19307" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="19311" href="#19257" class="Bound">g</a><a id="19312" class="Symbol">)</a>
<a id="19314" href="#19228" class="Function">&gt;&gt;=-distrib</a> <a id="19326" class="Symbol">=</a> <a id="19328" class="Symbol">λ</a> <a id="19330" href="#19330" class="Bound">xs</a> <a id="19333" href="#19333" class="Bound">ys</a> <a id="19336" href="#19336" class="Bound">g</a> <a id="19338" class="Symbol">→</a> <a id="19340" href="#12103" class="Function Operator">⟦</a> <a id="19342" href="#19395" class="Function">&gt;&gt;=-distrib′</a> <a id="19355" href="#19333" class="Bound">ys</a> <a id="19358" href="#19336" class="Bound">g</a> <a id="19360" href="#12103" class="Function Operator">⟧⇓</a> <a id="19363" href="#19330" class="Bound">xs</a>
  <a id="19368" class="Keyword">module</a> <a id="BindDistrib"></a><a id="19375" href="#19375" class="Module">BindDistrib</a> <a id="19387" class="Keyword">where</a>
  <a id="BindDistrib.&gt;&gt;=-distrib′"></a><a id="19395" href="#19395" class="Function">&gt;&gt;=-distrib′</a> <a id="19408" class="Symbol">:</a> <a id="19410" class="Symbol">(</a><a id="19411" href="#19411" class="Bound">ys</a> <a id="19414" class="Symbol">:</a> <a id="19416" href="#8679" class="Datatype">𝒫</a> <a id="19418" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a><a id="19419" class="Symbol">)</a> <a id="19421" class="Symbol">(</a><a id="19422" href="#19422" class="Bound">g</a> <a id="19424" class="Symbol">:</a> <a id="19426" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="19428" class="Symbol">→</a> <a id="19430" href="#8679" class="Datatype">𝒫</a> <a id="19432" href="../code/probability/ProbabilityModule.Utils.html#206" class="Generalizable">B</a><a id="19433" class="Symbol">)</a> <a id="19435" class="Symbol">→</a> <a id="19437" href="#12139" class="Function">⟦</a> <a id="19439" href="#19439" class="Bound">xs</a> <a id="19442" href="#12139" class="Function">∈𝒫</a> <a id="19445" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="19447" href="#12139" class="Function">⇒</a> <a id="19449" class="Symbol">((</a><a id="19451" href="#19439" class="Bound">xs</a> <a id="19454" href="#13390" class="Function Operator">∪</a> <a id="19456" href="#19411" class="Bound">ys</a><a id="19458" class="Symbol">)</a> <a id="19460" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="19464" href="#19422" class="Bound">g</a><a id="19465" class="Symbol">)</a> <a id="19467" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="19469" class="Symbol">(</a><a id="19470" href="#19439" class="Bound">xs</a> <a id="19473" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="19477" href="#19422" class="Bound">g</a><a id="19478" class="Symbol">)</a> <a id="19480" href="#13390" class="Function Operator">∪</a> <a id="19482" class="Symbol">(</a><a id="19483" href="#19411" class="Bound">ys</a> <a id="19486" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="19490" href="#19422" class="Bound">g</a><a id="19491" class="Symbol">)</a> <a id="19493" href="#12139" class="Function">⟧</a>
  <a id="19497" href="#11443" class="Field Operator">⟦</a> <a id="19499" href="#19395" class="Function">&gt;&gt;=-distrib′</a> <a id="19512" href="#19512" class="Bound">ys</a> <a id="19515" href="#19515" class="Bound">g</a> <a id="19517" href="#11443" class="Field Operator">⟧-prop</a> <a id="19524" class="Symbol">=</a> <a id="19526" href="#8921" class="InductiveConstructor">trunc</a> <a id="19532" class="Symbol">_</a> <a id="19534" class="Symbol">_</a>
  <a id="19538" href="#11481" class="Field Operator">⟦</a> <a id="19540" href="#19395" class="Function">&gt;&gt;=-distrib′</a> <a id="19553" href="#19553" class="Bound">ys</a> <a id="19556" href="#19556" class="Bound">g</a> <a id="19558" href="#11481" class="Field Operator">⟧[]</a> <a id="19562" class="Symbol">=</a> <a id="19564" href="../code/probability/Cubical.Foundations.Prelude.html#827" class="Function">refl</a>
  <a id="19571" href="#11498" class="Field Operator">⟦</a> <a id="19573" href="#19395" class="Function">&gt;&gt;=-distrib′</a> <a id="19586" href="#19586" class="Bound">ys</a> <a id="19589" href="#19589" class="Bound">g</a> <a id="19591" href="#11498" class="Field Operator">⟧</a> <a id="19593" href="#19593" class="Bound">p</a> <a id="19595" href="#11498" class="Field Operator">&amp;</a> <a id="19597" href="#19597" class="Bound">x</a> <a id="19599" href="#11498" class="Field Operator">∷</a> <a id="19601" href="#19601" class="Bound">xs</a> <a id="19604" href="#11498" class="Field Operator">⟨</a> <a id="19606" href="#19606" class="Bound">P</a> <a id="19608" href="#11498" class="Field Operator">⟩</a> <a id="19610" class="Symbol">=</a>
    <a id="19616" class="Symbol">(((</a><a id="19619" href="#19593" class="Bound">p</a> <a id="19621" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="19623" href="#19597" class="Bound">x</a> <a id="19625" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="19627" href="#19601" class="Bound">xs</a><a id="19629" class="Symbol">)</a> <a id="19631" href="#13390" class="Function Operator">∪</a> <a id="19633" href="#19586" class="Bound">ys</a><a id="19635" class="Symbol">)</a> <a id="19637" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="19641" href="#19589" class="Bound">g</a><a id="19642" class="Symbol">)</a> <a id="19644" href="../code/probability/ProbabilityModule.Utils.html#572" class="Function Operator">≡⟨⟩</a>
    <a id="19652" class="Symbol">(</a><a id="19653" href="#19593" class="Bound">p</a> <a id="19655" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="19657" href="#19597" class="Bound">x</a> <a id="19659" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="19661" href="#19601" class="Bound">xs</a> <a id="19664" href="#13390" class="Function Operator">∪</a> <a id="19666" href="#19586" class="Bound">ys</a><a id="19668" class="Symbol">)</a> <a id="19670" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="19674" href="#19589" class="Bound">g</a> <a id="19676" href="../code/probability/ProbabilityModule.Utils.html#572" class="Function Operator">≡⟨⟩</a>
    <a id="19684" href="#19593" class="Bound">p</a> <a id="19686" href="#14109" class="Function Operator">⋊</a> <a id="19688" href="#19589" class="Bound">g</a> <a id="19690" href="#19597" class="Bound">x</a> <a id="19692" href="#13390" class="Function Operator">∪</a> <a id="19694" class="Symbol">((</a><a id="19696" href="#19601" class="Bound">xs</a> <a id="19699" href="#13390" class="Function Operator">∪</a> <a id="19701" href="#19586" class="Bound">ys</a><a id="19703" class="Symbol">)</a> <a id="19705" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="19709" href="#19589" class="Bound">g</a><a id="19710" class="Symbol">)</a> <a id="19712" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="19715" href="../code/probability/Cubical.Foundations.Prelude.html#1027" class="Function">cong</a> <a id="19720" class="Symbol">(</a><a id="19721" href="#19593" class="Bound">p</a> <a id="19723" href="#14109" class="Function Operator">⋊</a> <a id="19725" href="#19589" class="Bound">g</a> <a id="19727" href="#19597" class="Bound">x</a> <a id="19729" href="#13390" class="Function Operator">∪_</a><a id="19731" class="Symbol">)</a> <a id="19733" href="#19606" class="Bound">P</a> <a id="19735" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
    <a id="19741" href="#19593" class="Bound">p</a> <a id="19743" href="#14109" class="Function Operator">⋊</a> <a id="19745" href="#19589" class="Bound">g</a> <a id="19747" href="#19597" class="Bound">x</a> <a id="19749" href="#13390" class="Function Operator">∪</a> <a id="19751" class="Symbol">((</a><a id="19753" href="#19601" class="Bound">xs</a> <a id="19756" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="19760" href="#19589" class="Bound">g</a><a id="19761" class="Symbol">)</a> <a id="19763" href="#13390" class="Function Operator">∪</a> <a id="19765" class="Symbol">(</a><a id="19766" href="#19586" class="Bound">ys</a> <a id="19769" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="19773" href="#19589" class="Bound">g</a><a id="19774" class="Symbol">))</a> <a id="19777" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="19780" href="#13658" class="Function">∪-assoc</a> <a id="19788" class="Symbol">(</a><a id="19789" href="#19593" class="Bound">p</a> <a id="19791" href="#14109" class="Function Operator">⋊</a> <a id="19793" href="#19589" class="Bound">g</a> <a id="19795" href="#19597" class="Bound">x</a><a id="19796" class="Symbol">)</a> <a id="19798" class="Symbol">(</a><a id="19799" href="#19601" class="Bound">xs</a> <a id="19802" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="19806" href="#19589" class="Bound">g</a><a id="19807" class="Symbol">)</a> <a id="19809" class="Symbol">(</a><a id="19810" href="#19586" class="Bound">ys</a> <a id="19813" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="19817" href="#19589" class="Bound">g</a><a id="19818" class="Symbol">)</a> <a id="19820" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
    <a id="19826" class="Symbol">(</a><a id="19827" href="#19593" class="Bound">p</a> <a id="19829" href="#14109" class="Function Operator">⋊</a> <a id="19831" href="#19589" class="Bound">g</a> <a id="19833" href="#19597" class="Bound">x</a> <a id="19835" href="#13390" class="Function Operator">∪</a> <a id="19837" class="Symbol">(</a><a id="19838" href="#19601" class="Bound">xs</a> <a id="19841" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="19845" href="#19589" class="Bound">g</a><a id="19846" class="Symbol">))</a> <a id="19849" href="#13390" class="Function Operator">∪</a> <a id="19851" class="Symbol">(</a><a id="19852" href="#19586" class="Bound">ys</a> <a id="19855" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="19859" href="#19589" class="Bound">g</a><a id="19860" class="Symbol">)</a> <a id="19862" href="../code/probability/ProbabilityModule.Utils.html#572" class="Function Operator">≡⟨⟩</a>
    <a id="19870" class="Symbol">((</a><a id="19872" href="#19593" class="Bound">p</a> <a id="19874" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="19876" href="#19597" class="Bound">x</a> <a id="19878" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="19880" href="#19601" class="Bound">xs</a><a id="19882" class="Symbol">)</a> <a id="19884" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="19888" href="#19589" class="Bound">g</a><a id="19889" class="Symbol">)</a> <a id="19891" href="#13390" class="Function Operator">∪</a> <a id="19893" class="Symbol">(</a><a id="19894" href="#19586" class="Bound">ys</a> <a id="19897" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="19901" href="#19589" class="Bound">g</a><a id="19902" class="Symbol">)</a> <a id="19904" href="../code/probability/Cubical.Foundations.Prelude.html#2745" class="Function Operator">∎</a>

<a id="*-assoc-⋊"></a><a id="19907" href="#19907" class="Function">*-assoc-⋊</a> <a id="19917" class="Symbol">:</a> <a id="19919" class="Symbol">∀</a> <a id="19921" href="#19921" class="Bound">p</a> <a id="19923" href="#19923" class="Bound">q</a> <a id="19925" class="Symbol">(</a><a id="19926" href="#19926" class="Bound">xs</a> <a id="19929" class="Symbol">:</a> <a id="19931" href="#8679" class="Datatype">𝒫</a> <a id="19933" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a><a id="19934" class="Symbol">)</a> <a id="19936" class="Symbol">→</a> <a id="19938" class="Symbol">(</a><a id="19939" href="#19921" class="Bound">p</a> <a id="19941" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="19943" href="#19923" class="Bound">q</a><a id="19944" class="Symbol">)</a> <a id="19946" href="#14109" class="Function Operator">⋊</a> <a id="19948" href="#19926" class="Bound">xs</a> <a id="19951" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="19953" href="#19921" class="Bound">p</a> <a id="19955" href="#14109" class="Function Operator">⋊</a> <a id="19957" class="Symbol">(</a><a id="19958" href="#19923" class="Bound">q</a> <a id="19960" href="#14109" class="Function Operator">⋊</a> <a id="19962" href="#19926" class="Bound">xs</a><a id="19964" class="Symbol">)</a>
<a id="19966" href="#19907" class="Function">*-assoc-⋊</a> <a id="19976" class="Symbol">=</a> <a id="19978" class="Symbol">λ</a> <a id="19980" href="#19980" class="Bound">p</a> <a id="19982" href="#19982" class="Bound">q</a> <a id="19984" class="Symbol">→</a> <a id="19986" href="#12103" class="Function Operator">⟦</a> <a id="19988" href="#20031" class="Function">*-assoc-⋊′</a> <a id="19999" href="#19980" class="Bound">p</a> <a id="20001" href="#19982" class="Bound">q</a> <a id="20003" href="#12103" class="Function Operator">⟧⇓</a>
  <a id="20008" class="Keyword">module</a> <a id="MAssocJ"></a><a id="20015" href="#20015" class="Module">MAssocJ</a> <a id="20023" class="Keyword">where</a>
  <a id="MAssocJ.*-assoc-⋊′"></a><a id="20031" href="#20031" class="Function">*-assoc-⋊′</a> <a id="20042" class="Symbol">:</a> <a id="20044" class="Symbol">∀</a> <a id="20046" href="#20046" class="Bound">p</a> <a id="20048" href="#20048" class="Bound">q</a> <a id="20050" class="Symbol">→</a> <a id="20052" href="#12139" class="Function">⟦</a> <a id="20054" href="#20054" class="Bound">xs</a> <a id="20057" href="#12139" class="Function">∈𝒫</a> <a id="20060" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="20062" href="#12139" class="Function">⇒</a> <a id="20064" class="Symbol">(</a><a id="20065" href="#20046" class="Bound">p</a> <a id="20067" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="20069" href="#20048" class="Bound">q</a><a id="20070" class="Symbol">)</a> <a id="20072" href="#14109" class="Function Operator">⋊</a> <a id="20074" href="#20054" class="Bound">xs</a> <a id="20077" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="20079" href="#20046" class="Bound">p</a> <a id="20081" href="#14109" class="Function Operator">⋊</a> <a id="20083" class="Symbol">(</a><a id="20084" href="#20048" class="Bound">q</a> <a id="20086" href="#14109" class="Function Operator">⋊</a> <a id="20088" href="#20054" class="Bound">xs</a><a id="20090" class="Symbol">)</a> <a id="20092" href="#12139" class="Function">⟧</a>
  <a id="20096" href="#11443" class="Field Operator">⟦</a> <a id="20098" href="#20031" class="Function">*-assoc-⋊′</a> <a id="20109" href="#20109" class="Bound">p</a> <a id="20111" href="#20111" class="Bound">q</a> <a id="20113" href="#11443" class="Field Operator">⟧-prop</a> <a id="20120" class="Symbol">=</a> <a id="20122" href="#8921" class="InductiveConstructor">trunc</a> <a id="20128" class="Symbol">_</a> <a id="20130" class="Symbol">_</a>
  <a id="20134" href="#11481" class="Field Operator">⟦</a> <a id="20136" href="#20031" class="Function">*-assoc-⋊′</a> <a id="20147" href="#20147" class="Bound">p</a> <a id="20149" href="#20149" class="Bound">q</a> <a id="20151" href="#11481" class="Field Operator">⟧[]</a> <a id="20155" class="Symbol">=</a> <a id="20157" href="../code/probability/Cubical.Foundations.Prelude.html#827" class="Function">refl</a>
  <a id="20164" href="#11498" class="Field Operator">⟦</a> <a id="20166" href="#20031" class="Function">*-assoc-⋊′</a> <a id="20177" href="#20177" class="Bound">p</a> <a id="20179" href="#20179" class="Bound">q</a> <a id="20181" href="#11498" class="Field Operator">⟧</a> <a id="20183" href="#20183" class="Bound">r</a> <a id="20185" href="#11498" class="Field Operator">&amp;</a> <a id="20187" href="#20187" class="Bound">x</a> <a id="20189" href="#11498" class="Field Operator">∷</a> <a id="20191" href="#20191" class="Bound">xs</a> <a id="20194" href="#11498" class="Field Operator">⟨</a> <a id="20196" href="#20196" class="Bound">P</a> <a id="20198" href="#11498" class="Field Operator">⟩</a> <a id="20200" class="Symbol">=</a>
    <a id="20206" href="#20177" class="Bound">p</a> <a id="20208" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="20210" href="#20179" class="Bound">q</a> <a id="20212" href="#14109" class="Function Operator">⋊</a> <a id="20214" class="Symbol">(</a><a id="20215" href="#20183" class="Bound">r</a> <a id="20217" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="20219" href="#20187" class="Bound">x</a> <a id="20221" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="20223" href="#20191" class="Bound">xs</a><a id="20225" class="Symbol">)</a> <a id="20227" href="../code/probability/ProbabilityModule.Utils.html#572" class="Function Operator">≡⟨⟩</a>
    <a id="20235" href="#20177" class="Bound">p</a> <a id="20237" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="20239" href="#20179" class="Bound">q</a> <a id="20241" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="20243" href="#20183" class="Bound">r</a> <a id="20245" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="20247" href="#20187" class="Bound">x</a> <a id="20249" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="20251" class="Symbol">(</a><a id="20252" href="#20177" class="Bound">p</a> <a id="20254" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="20256" href="#20179" class="Bound">q</a> <a id="20258" href="#14109" class="Function Operator">⋊</a> <a id="20260" href="#20191" class="Bound">xs</a><a id="20262" class="Symbol">)</a> <a id="20264" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="20267" href="../code/probability/Cubical.Foundations.Prelude.html#1027" class="Function">cong</a> <a id="20272" class="Symbol">(</a><a id="20273" href="#8727" class="InductiveConstructor Operator">_&amp;</a> <a id="20276" href="#20187" class="Bound">x</a> <a id="20278" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="20280" class="Symbol">(</a><a id="20281" href="#20177" class="Bound">p</a> <a id="20283" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="20285" href="#20179" class="Bound">q</a> <a id="20287" href="#14109" class="Function Operator">⋊</a> <a id="20289" href="#20191" class="Bound">xs</a><a id="20291" class="Symbol">))</a> <a id="20294" class="Symbol">(</a><a id="20295" href="../code/probability/ProbabilityModule.Semirings.html#326" class="Field">*-assoc</a> <a id="20303" href="#20177" class="Bound">p</a> <a id="20305" href="#20179" class="Bound">q</a> <a id="20307" href="#20183" class="Bound">r</a><a id="20308" class="Symbol">)</a> <a id="20310" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
    <a id="20316" href="#20177" class="Bound">p</a> <a id="20318" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="20320" class="Symbol">(</a><a id="20321" href="#20179" class="Bound">q</a> <a id="20323" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="20325" href="#20183" class="Bound">r</a><a id="20326" class="Symbol">)</a> <a id="20328" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="20330" href="#20187" class="Bound">x</a> <a id="20332" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="20334" class="Symbol">(</a><a id="20335" href="#20177" class="Bound">p</a> <a id="20337" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="20339" href="#20179" class="Bound">q</a> <a id="20341" href="#14109" class="Function Operator">⋊</a> <a id="20343" href="#20191" class="Bound">xs</a><a id="20345" class="Symbol">)</a> <a id="20347" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="20350" href="../code/probability/Cubical.Foundations.Prelude.html#1027" class="Function">cong</a> <a id="20355" class="Symbol">(</a><a id="20356" href="#20177" class="Bound">p</a> <a id="20358" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="20360" class="Symbol">(</a><a id="20361" href="#20179" class="Bound">q</a> <a id="20363" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="20365" href="#20183" class="Bound">r</a><a id="20366" class="Symbol">)</a> <a id="20368" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="20370" href="#20187" class="Bound">x</a> <a id="20372" href="#8727" class="InductiveConstructor Operator">∷_</a><a id="20374" class="Symbol">)</a> <a id="20376" href="#20196" class="Bound">P</a> <a id="20378" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
    <a id="20384" href="#20177" class="Bound">p</a> <a id="20386" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="20388" class="Symbol">(</a><a id="20389" href="#20179" class="Bound">q</a> <a id="20391" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="20393" href="#20183" class="Bound">r</a><a id="20394" class="Symbol">)</a> <a id="20396" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="20398" href="#20187" class="Bound">x</a> <a id="20400" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="20402" class="Symbol">(</a><a id="20403" href="#20177" class="Bound">p</a> <a id="20405" href="#14109" class="Function Operator">⋊</a> <a id="20407" class="Symbol">(</a><a id="20408" href="#20179" class="Bound">q</a> <a id="20410" href="#14109" class="Function Operator">⋊</a> <a id="20412" href="#20191" class="Bound">xs</a><a id="20414" class="Symbol">))</a> <a id="20417" href="../code/probability/ProbabilityModule.Utils.html#572" class="Function Operator">≡⟨⟩</a>
    <a id="20425" href="#20177" class="Bound">p</a> <a id="20427" href="#14109" class="Function Operator">⋊</a> <a id="20429" class="Symbol">(</a><a id="20430" href="#20179" class="Bound">q</a> <a id="20432" href="#14109" class="Function Operator">⋊</a> <a id="20434" class="Symbol">(</a><a id="20435" href="#20183" class="Bound">r</a> <a id="20437" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="20439" href="#20187" class="Bound">x</a> <a id="20441" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="20443" href="#20191" class="Bound">xs</a><a id="20445" class="Symbol">))</a> <a id="20448" href="../code/probability/Cubical.Foundations.Prelude.html#2745" class="Function Operator">∎</a>

<a id="⋊-assoc-&gt;&gt;="></a><a id="20451" href="#20451" class="Function">⋊-assoc-&gt;&gt;=</a> <a id="20463" class="Symbol">:</a> <a id="20465" class="Symbol">∀</a> <a id="20467" href="#20467" class="Bound">p</a> <a id="20469" class="Symbol">(</a><a id="20470" href="#20470" class="Bound">xs</a> <a id="20473" class="Symbol">:</a> <a id="20475" href="#8679" class="Datatype">𝒫</a> <a id="20477" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a><a id="20478" class="Symbol">)</a> <a id="20480" class="Symbol">(</a><a id="20481" href="#20481" class="Bound">f</a> <a id="20483" class="Symbol">:</a> <a id="20485" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="20487" class="Symbol">→</a> <a id="20489" href="#8679" class="Datatype">𝒫</a> <a id="20491" href="../code/probability/ProbabilityModule.Utils.html#206" class="Generalizable">B</a><a id="20492" class="Symbol">)</a> <a id="20494" class="Symbol">→</a> <a id="20496" class="Symbol">(</a><a id="20497" href="#20467" class="Bound">p</a> <a id="20499" href="#14109" class="Function Operator">⋊</a> <a id="20501" href="#20470" class="Bound">xs</a><a id="20503" class="Symbol">)</a> <a id="20505" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="20509" href="#20481" class="Bound">f</a> <a id="20511" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="20513" href="#20467" class="Bound">p</a> <a id="20515" href="#14109" class="Function Operator">⋊</a> <a id="20517" class="Symbol">(</a><a id="20518" href="#20470" class="Bound">xs</a> <a id="20521" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="20525" href="#20481" class="Bound">f</a><a id="20526" class="Symbol">)</a>
<a id="20528" href="#20451" class="Function">⋊-assoc-&gt;&gt;=</a> <a id="20540" class="Symbol">=</a> <a id="20542" class="Symbol">λ</a> <a id="20544" href="#20544" class="Bound">p</a> <a id="20546" href="#20546" class="Bound">xs</a> <a id="20549" href="#20549" class="Bound">f</a> <a id="20551" class="Symbol">→</a> <a id="20553" href="#12103" class="Function Operator">⟦</a> <a id="20555" href="#20605" class="Function">⋊-assoc-&gt;&gt;=′</a> <a id="20568" href="#20544" class="Bound">p</a> <a id="20570" href="#20549" class="Bound">f</a> <a id="20572" href="#12103" class="Function Operator">⟧⇓</a> <a id="20575" href="#20546" class="Bound">xs</a>
  <a id="20580" class="Keyword">module</a> <a id="JDistribB"></a><a id="20587" href="#20587" class="Module">JDistribB</a> <a id="20597" class="Keyword">where</a>
  <a id="JDistribB.⋊-assoc-&gt;&gt;=′"></a><a id="20605" href="#20605" class="Function">⋊-assoc-&gt;&gt;=′</a> <a id="20618" class="Symbol">:</a> <a id="20620" class="Symbol">∀</a> <a id="20622" href="#20622" class="Bound">p</a> <a id="20624" class="Symbol">(</a><a id="20625" href="#20625" class="Bound">f</a> <a id="20627" class="Symbol">:</a> <a id="20629" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="20631" class="Symbol">→</a> <a id="20633" href="#8679" class="Datatype">𝒫</a> <a id="20635" href="../code/probability/ProbabilityModule.Utils.html#206" class="Generalizable">B</a><a id="20636" class="Symbol">)</a> <a id="20638" class="Symbol">→</a> <a id="20640" href="#12139" class="Function">⟦</a> <a id="20642" href="#20642" class="Bound">xs</a> <a id="20645" href="#12139" class="Function">∈𝒫</a> <a id="20648" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="20650" href="#12139" class="Function">⇒</a> <a id="20652" class="Symbol">(</a><a id="20653" href="#20622" class="Bound">p</a> <a id="20655" href="#14109" class="Function Operator">⋊</a> <a id="20657" href="#20642" class="Bound">xs</a><a id="20659" class="Symbol">)</a> <a id="20661" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="20665" href="#20625" class="Bound">f</a> <a id="20667" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="20669" href="#20622" class="Bound">p</a> <a id="20671" href="#14109" class="Function Operator">⋊</a> <a id="20673" class="Symbol">(</a><a id="20674" href="#20642" class="Bound">xs</a> <a id="20677" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="20681" href="#20625" class="Bound">f</a><a id="20682" class="Symbol">)</a> <a id="20684" href="#12139" class="Function">⟧</a>
  <a id="20688" href="#11443" class="Field Operator">⟦</a> <a id="20690" href="#20605" class="Function">⋊-assoc-&gt;&gt;=′</a> <a id="20703" href="#20703" class="Bound">p</a> <a id="20705" href="#20705" class="Bound">f</a> <a id="20707" href="#11443" class="Field Operator">⟧-prop</a> <a id="20714" class="Symbol">=</a> <a id="20716" href="#8921" class="InductiveConstructor">trunc</a> <a id="20722" class="Symbol">_</a> <a id="20724" class="Symbol">_</a>
  <a id="20728" href="#11481" class="Field Operator">⟦</a> <a id="20730" href="#20605" class="Function">⋊-assoc-&gt;&gt;=′</a> <a id="20743" href="#20743" class="Bound">p</a> <a id="20745" href="#20745" class="Bound">f</a> <a id="20747" href="#11481" class="Field Operator">⟧[]</a> <a id="20751" class="Symbol">=</a> <a id="20753" href="../code/probability/Cubical.Foundations.Prelude.html#827" class="Function">refl</a>
  <a id="20760" href="#11498" class="Field Operator">⟦</a> <a id="20762" href="#20605" class="Function">⋊-assoc-&gt;&gt;=′</a> <a id="20775" href="#20775" class="Bound">p</a> <a id="20777" href="#20777" class="Bound">f</a> <a id="20779" href="#11498" class="Field Operator">⟧</a> <a id="20781" href="#20781" class="Bound">q</a> <a id="20783" href="#11498" class="Field Operator">&amp;</a> <a id="20785" href="#20785" class="Bound">x</a> <a id="20787" href="#11498" class="Field Operator">∷</a> <a id="20789" href="#20789" class="Bound">xs</a> <a id="20792" href="#11498" class="Field Operator">⟨</a> <a id="20794" href="#20794" class="Bound">P</a> <a id="20796" href="#11498" class="Field Operator">⟩</a> <a id="20798" class="Symbol">=</a>
    <a id="20804" class="Symbol">(</a><a id="20805" href="#20775" class="Bound">p</a> <a id="20807" href="#14109" class="Function Operator">⋊</a> <a id="20809" class="Symbol">(</a><a id="20810" href="#20781" class="Bound">q</a> <a id="20812" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="20814" href="#20785" class="Bound">x</a> <a id="20816" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="20818" href="#20789" class="Bound">xs</a><a id="20820" class="Symbol">))</a> <a id="20823" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="20827" href="#20777" class="Bound">f</a> <a id="20829" href="../code/probability/ProbabilityModule.Utils.html#572" class="Function Operator">≡⟨⟩</a>
    <a id="20837" class="Symbol">(</a><a id="20838" href="#20775" class="Bound">p</a> <a id="20840" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="20842" href="#20781" class="Bound">q</a> <a id="20844" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="20846" href="#20785" class="Bound">x</a> <a id="20848" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="20850" href="#20775" class="Bound">p</a> <a id="20852" href="#14109" class="Function Operator">⋊</a> <a id="20854" href="#20789" class="Bound">xs</a><a id="20856" class="Symbol">)</a> <a id="20858" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="20862" href="#20777" class="Bound">f</a> <a id="20864" href="../code/probability/ProbabilityModule.Utils.html#572" class="Function Operator">≡⟨⟩</a>
    <a id="20872" class="Symbol">((</a><a id="20874" href="#20775" class="Bound">p</a> <a id="20876" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="20878" href="#20781" class="Bound">q</a><a id="20879" class="Symbol">)</a> <a id="20881" href="#14109" class="Function Operator">⋊</a> <a id="20883" href="#20777" class="Bound">f</a> <a id="20885" href="#20785" class="Bound">x</a><a id="20886" class="Symbol">)</a> <a id="20888" href="#13390" class="Function Operator">∪</a> <a id="20890" class="Symbol">((</a><a id="20892" href="#20775" class="Bound">p</a> <a id="20894" href="#14109" class="Function Operator">⋊</a> <a id="20896" href="#20789" class="Bound">xs</a><a id="20898" class="Symbol">)</a> <a id="20900" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="20904" href="#20777" class="Bound">f</a><a id="20905" class="Symbol">)</a> <a id="20907" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="20910" href="../code/probability/Cubical.Foundations.Prelude.html#1027" class="Function">cong</a> <a id="20915" class="Symbol">(((</a><a id="20918" href="#20775" class="Bound">p</a> <a id="20920" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="20922" href="#20781" class="Bound">q</a><a id="20923" class="Symbol">)</a> <a id="20925" href="#14109" class="Function Operator">⋊</a> <a id="20927" href="#20777" class="Bound">f</a> <a id="20929" href="#20785" class="Bound">x</a><a id="20930" class="Symbol">)</a> <a id="20932" href="#13390" class="Function Operator">∪_</a><a id="20934" class="Symbol">)</a> <a id="20936" href="#20794" class="Bound">P</a> <a id="20938" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
    <a id="20944" class="Symbol">((</a><a id="20946" href="#20775" class="Bound">p</a> <a id="20948" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="20950" href="#20781" class="Bound">q</a><a id="20951" class="Symbol">)</a> <a id="20953" href="#14109" class="Function Operator">⋊</a> <a id="20955" href="#20777" class="Bound">f</a> <a id="20957" href="#20785" class="Bound">x</a><a id="20958" class="Symbol">)</a> <a id="20960" href="#13390" class="Function Operator">∪</a> <a id="20962" class="Symbol">(</a><a id="20963" href="#20775" class="Bound">p</a> <a id="20965" href="#14109" class="Function Operator">⋊</a> <a id="20967" class="Symbol">(</a><a id="20968" href="#20789" class="Bound">xs</a> <a id="20971" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="20975" href="#20777" class="Bound">f</a><a id="20976" class="Symbol">))</a> <a id="20979" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="20982" href="../code/probability/Cubical.Foundations.Prelude.html#1027" class="Function">cong</a> <a id="20987" class="Symbol">(</a><a id="20988" href="#13390" class="Function Operator">_∪</a> <a id="20991" class="Symbol">(</a><a id="20992" href="#20775" class="Bound">p</a> <a id="20994" href="#14109" class="Function Operator">⋊</a> <a id="20996" class="Symbol">(</a><a id="20997" href="#20789" class="Bound">xs</a> <a id="21000" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="21004" href="#20777" class="Bound">f</a><a id="21005" class="Symbol">)))</a> <a id="21009" class="Symbol">(</a><a id="21010" href="#19907" class="Function">*-assoc-⋊</a> <a id="21020" href="#20775" class="Bound">p</a> <a id="21022" href="#20781" class="Bound">q</a> <a id="21024" class="Symbol">(</a><a id="21025" href="#20777" class="Bound">f</a> <a id="21027" href="#20785" class="Bound">x</a><a id="21028" class="Symbol">))</a> <a id="21031" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
    <a id="21037" class="Symbol">(</a><a id="21038" href="#20775" class="Bound">p</a> <a id="21040" href="#14109" class="Function Operator">⋊</a> <a id="21042" class="Symbol">(</a><a id="21043" href="#20781" class="Bound">q</a> <a id="21045" href="#14109" class="Function Operator">⋊</a> <a id="21047" href="#20777" class="Bound">f</a> <a id="21049" href="#20785" class="Bound">x</a><a id="21050" class="Symbol">))</a> <a id="21053" href="#13390" class="Function Operator">∪</a> <a id="21055" class="Symbol">(</a><a id="21056" href="#20775" class="Bound">p</a> <a id="21058" href="#14109" class="Function Operator">⋊</a> <a id="21060" class="Symbol">(</a><a id="21061" href="#20789" class="Bound">xs</a> <a id="21064" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="21068" href="#20777" class="Bound">f</a><a id="21069" class="Symbol">))</a> <a id="21072" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="21075" href="#16654" class="Function">⋊-distribˡ</a> <a id="21086" href="#20775" class="Bound">p</a> <a id="21088" class="Symbol">(</a><a id="21089" href="#20781" class="Bound">q</a> <a id="21091" href="#14109" class="Function Operator">⋊</a> <a id="21093" href="#20777" class="Bound">f</a> <a id="21095" href="#20785" class="Bound">x</a><a id="21096" class="Symbol">)</a> <a id="21098" class="Symbol">(</a><a id="21099" href="#20789" class="Bound">xs</a> <a id="21102" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="21106" href="#20777" class="Bound">f</a><a id="21107" class="Symbol">)</a> <a id="21109" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
    <a id="21115" href="#20775" class="Bound">p</a> <a id="21117" href="#14109" class="Function Operator">⋊</a> <a id="21119" class="Symbol">((</a><a id="21121" href="#20781" class="Bound">q</a> <a id="21123" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="21125" href="#20785" class="Bound">x</a> <a id="21127" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="21129" href="#20789" class="Bound">xs</a><a id="21131" class="Symbol">)</a> <a id="21133" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="21137" href="#20777" class="Bound">f</a><a id="21138" class="Symbol">)</a> <a id="21140" href="../code/probability/Cubical.Foundations.Prelude.html#2745" class="Function Operator">∎</a>

<a id="&gt;&gt;=-idˡ"></a><a id="21143" href="#21143" class="Function">&gt;&gt;=-idˡ</a> <a id="21151" class="Symbol">:</a> <a id="21153" class="Symbol">(</a><a id="21154" href="#21154" class="Bound">x</a> <a id="21156" class="Symbol">:</a> <a id="21158" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a><a id="21159" class="Symbol">)</a> <a id="21161" class="Symbol">→</a> <a id="21163" class="Symbol">(</a><a id="21164" href="#21164" class="Bound">f</a> <a id="21166" class="Symbol">:</a> <a id="21168" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="21170" class="Symbol">→</a> <a id="21172" href="#8679" class="Datatype">𝒫</a> <a id="21174" href="../code/probability/ProbabilityModule.Utils.html#206" class="Generalizable">B</a><a id="21175" class="Symbol">)</a>
      <a id="21183" class="Symbol">→</a> <a id="21185" class="Symbol">(</a><a id="21186" href="#15418" class="Function">pure</a> <a id="21191" href="#21154" class="Bound">x</a> <a id="21193" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="21197" href="#21164" class="Bound">f</a><a id="21198" class="Symbol">)</a> <a id="21200" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="21202" href="#21164" class="Bound">f</a> <a id="21204" href="#21154" class="Bound">x</a>
<a id="21206" href="#21143" class="Function">&gt;&gt;=-idˡ</a> <a id="21214" href="#21214" class="Bound">x</a> <a id="21216" href="#21216" class="Bound">f</a> <a id="21218" class="Symbol">=</a>
  <a id="21222" href="#15418" class="Function">pure</a> <a id="21227" href="#21214" class="Bound">x</a> <a id="21229" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="21233" href="#21216" class="Bound">f</a> <a id="21235" href="../code/probability/ProbabilityModule.Utils.html#572" class="Function Operator">≡⟨⟩</a>
  <a id="21241" class="Symbol">(</a><a id="21242" href="../code/probability/ProbabilityModule.Semirings.html#265" class="Field">1#</a> <a id="21245" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="21247" href="#21214" class="Bound">x</a> <a id="21249" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="21251" href="#8715" class="InductiveConstructor">[]</a><a id="21253" class="Symbol">)</a> <a id="21255" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="21259" href="#21216" class="Bound">f</a> <a id="21261" href="../code/probability/ProbabilityModule.Utils.html#572" class="Function Operator">≡⟨⟩</a>
  <a id="21267" href="../code/probability/ProbabilityModule.Semirings.html#265" class="Field">1#</a> <a id="21270" href="#14109" class="Function Operator">⋊</a> <a id="21272" href="#21216" class="Bound">f</a> <a id="21274" href="#21214" class="Bound">x</a> <a id="21276" href="#13390" class="Function Operator">∪</a> <a id="21278" href="#8715" class="InductiveConstructor">[]</a> <a id="21281" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="21285" href="#21216" class="Bound">f</a> <a id="21287" href="../code/probability/ProbabilityModule.Utils.html#572" class="Function Operator">≡⟨⟩</a>
  <a id="21293" href="../code/probability/ProbabilityModule.Semirings.html#265" class="Field">1#</a> <a id="21296" href="#14109" class="Function Operator">⋊</a> <a id="21298" href="#21216" class="Bound">f</a> <a id="21300" href="#21214" class="Bound">x</a> <a id="21302" href="#13390" class="Function Operator">∪</a> <a id="21304" href="#8715" class="InductiveConstructor">[]</a> <a id="21307" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="21310" href="#17140" class="Function">∪-idʳ</a> <a id="21316" class="Symbol">(</a><a id="21317" href="../code/probability/ProbabilityModule.Semirings.html#265" class="Field">1#</a> <a id="21320" href="#14109" class="Function Operator">⋊</a> <a id="21322" href="#21216" class="Bound">f</a> <a id="21324" href="#21214" class="Bound">x</a><a id="21325" class="Symbol">)</a> <a id="21327" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
  <a id="21331" href="../code/probability/ProbabilityModule.Semirings.html#265" class="Field">1#</a> <a id="21334" href="#14109" class="Function Operator">⋊</a> <a id="21336" href="#21216" class="Bound">f</a> <a id="21338" href="#21214" class="Bound">x</a> <a id="21340" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="21343" href="#18904" class="Function">1⋊</a> <a id="21346" class="Symbol">(</a><a id="21347" href="#21216" class="Bound">f</a> <a id="21349" href="#21214" class="Bound">x</a><a id="21350" class="Symbol">)</a> <a id="21352" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
  <a id="21356" href="#21216" class="Bound">f</a> <a id="21358" href="#21214" class="Bound">x</a> <a id="21360" href="../code/probability/Cubical.Foundations.Prelude.html#2745" class="Function Operator">∎</a>

<a id="&gt;&gt;=-idʳ"></a><a id="21363" href="#21363" class="Function">&gt;&gt;=-idʳ</a> <a id="21371" class="Symbol">:</a> <a id="21373" class="Symbol">(</a><a id="21374" href="#21374" class="Bound">xs</a> <a id="21377" class="Symbol">:</a> <a id="21379" href="#8679" class="Datatype">𝒫</a> <a id="21381" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a><a id="21382" class="Symbol">)</a> <a id="21384" class="Symbol">→</a> <a id="21386" href="#21374" class="Bound">xs</a> <a id="21389" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="21393" href="#15418" class="Function">pure</a> <a id="21398" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="21400" href="#21374" class="Bound">xs</a>
<a id="21403" href="#21363" class="Function">&gt;&gt;=-idʳ</a> <a id="21411" class="Symbol">=</a> <a id="21413" href="#12103" class="Function Operator">⟦</a> <a id="21415" href="#21449" class="Function">&gt;&gt;=-idʳ′</a> <a id="21424" href="#12103" class="Function Operator">⟧⇓</a>
  <a id="21429" class="Keyword">module</a> <a id="Law1"></a><a id="21436" href="#21436" class="Module">Law1</a> <a id="21441" class="Keyword">where</a>
  <a id="Law1.&gt;&gt;=-idʳ′"></a><a id="21449" href="#21449" class="Function">&gt;&gt;=-idʳ′</a> <a id="21458" class="Symbol">:</a> <a id="21460" href="#12139" class="Function">⟦</a> <a id="21462" href="#21462" class="Bound">xs</a> <a id="21465" href="#12139" class="Function">∈𝒫</a> <a id="21468" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="21470" href="#12139" class="Function">⇒</a> <a id="21472" href="#21462" class="Bound">xs</a> <a id="21475" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="21479" href="#15418" class="Function">pure</a> <a id="21484" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="21486" href="#21462" class="Bound">xs</a> <a id="21489" href="#12139" class="Function">⟧</a>
  <a id="21493" href="#11443" class="Field Operator">⟦</a> <a id="21495" href="#21449" class="Function">&gt;&gt;=-idʳ′</a> <a id="21504" href="#11443" class="Field Operator">⟧-prop</a> <a id="21511" class="Symbol">=</a> <a id="21513" href="#8921" class="InductiveConstructor">trunc</a> <a id="21519" class="Symbol">_</a> <a id="21521" class="Symbol">_</a>
  <a id="21525" href="#11481" class="Field Operator">⟦</a> <a id="21527" href="#21449" class="Function">&gt;&gt;=-idʳ′</a> <a id="21536" href="#11481" class="Field Operator">⟧[]</a> <a id="21540" class="Symbol">=</a> <a id="21542" href="../code/probability/Cubical.Foundations.Prelude.html#827" class="Function">refl</a>
  <a id="21549" href="#11498" class="Field Operator">⟦</a> <a id="21551" href="#21449" class="Function">&gt;&gt;=-idʳ′</a> <a id="21560" href="#11498" class="Field Operator">⟧</a> <a id="21562" href="#21562" class="Bound">p</a> <a id="21564" href="#11498" class="Field Operator">&amp;</a> <a id="21566" href="#21566" class="Bound">x</a> <a id="21568" href="#11498" class="Field Operator">∷</a> <a id="21570" href="#21570" class="Bound">xs</a> <a id="21573" href="#11498" class="Field Operator">⟨</a> <a id="21575" href="#21575" class="Bound">P</a> <a id="21577" href="#11498" class="Field Operator">⟩</a> <a id="21579" class="Symbol">=</a>
    <a id="21585" class="Symbol">((</a><a id="21587" href="#21562" class="Bound">p</a> <a id="21589" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="21591" href="#21566" class="Bound">x</a> <a id="21593" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="21595" href="#21570" class="Bound">xs</a><a id="21597" class="Symbol">)</a> <a id="21599" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="21603" href="#15418" class="Function">pure</a><a id="21607" class="Symbol">)</a> <a id="21609" href="../code/probability/ProbabilityModule.Utils.html#572" class="Function Operator">≡⟨⟩</a>
    <a id="21617" href="#21562" class="Bound">p</a> <a id="21619" href="#14109" class="Function Operator">⋊</a> <a id="21621" class="Symbol">(</a><a id="21622" href="#15418" class="Function">pure</a> <a id="21627" href="#21566" class="Bound">x</a><a id="21628" class="Symbol">)</a> <a id="21630" href="#13390" class="Function Operator">∪</a> <a id="21632" class="Symbol">(</a><a id="21633" href="#21570" class="Bound">xs</a> <a id="21636" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="21640" href="#15418" class="Function">pure</a><a id="21644" class="Symbol">)</a> <a id="21646" href="../code/probability/ProbabilityModule.Utils.html#572" class="Function Operator">≡⟨⟩</a>
    <a id="21654" href="#21562" class="Bound">p</a> <a id="21656" href="#14109" class="Function Operator">⋊</a> <a id="21658" class="Symbol">(</a><a id="21659" href="../code/probability/ProbabilityModule.Semirings.html#265" class="Field">1#</a> <a id="21662" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="21664" href="#21566" class="Bound">x</a> <a id="21666" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="21668" href="#8715" class="InductiveConstructor">[]</a><a id="21670" class="Symbol">)</a> <a id="21672" href="#13390" class="Function Operator">∪</a> <a id="21674" class="Symbol">(</a><a id="21675" href="#21570" class="Bound">xs</a> <a id="21678" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="21682" href="#15418" class="Function">pure</a><a id="21686" class="Symbol">)</a> <a id="21688" href="../code/probability/ProbabilityModule.Utils.html#572" class="Function Operator">≡⟨⟩</a>
    <a id="21696" href="#21562" class="Bound">p</a> <a id="21698" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="21700" href="../code/probability/ProbabilityModule.Semirings.html#265" class="Field">1#</a> <a id="21703" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="21705" href="#21566" class="Bound">x</a> <a id="21707" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="21709" href="#8715" class="InductiveConstructor">[]</a> <a id="21712" href="#13390" class="Function Operator">∪</a> <a id="21714" class="Symbol">(</a><a id="21715" href="#21570" class="Bound">xs</a> <a id="21718" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="21722" href="#15418" class="Function">pure</a><a id="21726" class="Symbol">)</a> <a id="21728" href="../code/probability/ProbabilityModule.Utils.html#572" class="Function Operator">≡⟨⟩</a>
    <a id="21736" href="#21562" class="Bound">p</a> <a id="21738" href="../code/probability/ProbabilityModule.Semirings.html#234" class="Field Operator">*</a> <a id="21740" href="../code/probability/ProbabilityModule.Semirings.html#265" class="Field">1#</a> <a id="21743" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="21745" href="#21566" class="Bound">x</a> <a id="21747" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="21749" class="Symbol">(</a><a id="21750" href="#21570" class="Bound">xs</a> <a id="21753" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="21757" href="#15418" class="Function">pure</a><a id="21761" class="Symbol">)</a> <a id="21763" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="21766" href="../code/probability/Cubical.Foundations.Prelude.html#1027" class="Function">cong</a> <a id="21771" class="Symbol">(</a><a id="21772" href="#8727" class="InductiveConstructor Operator">_&amp;</a> <a id="21775" href="#21566" class="Bound">x</a> <a id="21777" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="21779" class="Symbol">(</a><a id="21780" href="#21570" class="Bound">xs</a> <a id="21783" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="21787" href="#15418" class="Function">pure</a><a id="21791" class="Symbol">))</a> <a id="21794" class="Symbol">(</a><a id="21795" href="../code/probability/ProbabilityModule.Semirings.html#456" class="Field">*1</a> <a id="21798" href="#21562" class="Bound">p</a><a id="21799" class="Symbol">)</a> <a id="21801" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
    <a id="21807" href="#21562" class="Bound">p</a> <a id="21809" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="21811" href="#21566" class="Bound">x</a> <a id="21813" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="21815" href="#21570" class="Bound">xs</a> <a id="21818" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="21822" href="#15418" class="Function">pure</a> <a id="21827" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="21830" href="../code/probability/Cubical.Foundations.Prelude.html#1027" class="Function">cong</a> <a id="21835" class="Symbol">(</a><a id="21836" href="#21562" class="Bound">p</a> <a id="21838" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="21840" href="#21566" class="Bound">x</a> <a id="21842" href="#8727" class="InductiveConstructor Operator">∷_</a><a id="21844" class="Symbol">)</a> <a id="21846" href="#21575" class="Bound">P</a> <a id="21848" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
    <a id="21854" href="#21562" class="Bound">p</a> <a id="21856" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="21858" href="#21566" class="Bound">x</a> <a id="21860" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="21862" href="#21570" class="Bound">xs</a> <a id="21865" href="../code/probability/Cubical.Foundations.Prelude.html#2745" class="Function Operator">∎</a>

<a id="&gt;&gt;=-assoc"></a><a id="21868" href="#21868" class="Function">&gt;&gt;=-assoc</a> <a id="21878" class="Symbol">:</a> <a id="21880" class="Symbol">(</a><a id="21881" href="#21881" class="Bound">xs</a> <a id="21884" class="Symbol">:</a> <a id="21886" href="#8679" class="Datatype">𝒫</a> <a id="21888" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a><a id="21889" class="Symbol">)</a> <a id="21891" class="Symbol">→</a> <a id="21893" class="Symbol">(</a><a id="21894" href="#21894" class="Bound">f</a> <a id="21896" class="Symbol">:</a> <a id="21898" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="21900" class="Symbol">→</a> <a id="21902" href="#8679" class="Datatype">𝒫</a> <a id="21904" href="../code/probability/ProbabilityModule.Utils.html#206" class="Generalizable">B</a><a id="21905" class="Symbol">)</a> <a id="21907" class="Symbol">→</a> <a id="21909" class="Symbol">(</a><a id="21910" href="#21910" class="Bound">g</a> <a id="21912" class="Symbol">:</a> <a id="21914" href="../code/probability/ProbabilityModule.Utils.html#206" class="Generalizable">B</a> <a id="21916" class="Symbol">→</a> <a id="21918" href="#8679" class="Datatype">𝒫</a> <a id="21920" href="../code/probability/ProbabilityModule.Utils.html#218" class="Generalizable">C</a><a id="21921" class="Symbol">)</a>
      <a id="21929" class="Symbol">→</a> <a id="21931" class="Symbol">((</a><a id="21933" href="#21881" class="Bound">xs</a> <a id="21936" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="21940" href="#21894" class="Bound">f</a><a id="21941" class="Symbol">)</a> <a id="21943" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="21947" href="#21910" class="Bound">g</a><a id="21948" class="Symbol">)</a> <a id="21950" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="21952" href="#21881" class="Bound">xs</a> <a id="21955" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="21959" class="Symbol">(λ</a> <a id="21962" href="#21962" class="Bound">x</a> <a id="21964" class="Symbol">→</a> <a id="21966" href="#21894" class="Bound">f</a> <a id="21968" href="#21962" class="Bound">x</a> <a id="21970" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="21974" href="#21910" class="Bound">g</a><a id="21975" class="Symbol">)</a>
<a id="21977" href="#21868" class="Function">&gt;&gt;=-assoc</a> <a id="21987" class="Symbol">=</a> <a id="21989" class="Symbol">λ</a> <a id="21991" href="#21991" class="Bound">xs</a> <a id="21994" href="#21994" class="Bound">f</a> <a id="21996" href="#21996" class="Bound">g</a> <a id="21998" class="Symbol">→</a> <a id="22000" href="#12103" class="Function Operator">⟦</a> <a id="22002" href="#22045" class="Function">&gt;&gt;=-assoc′</a> <a id="22013" href="#21994" class="Bound">f</a> <a id="22015" href="#21996" class="Bound">g</a> <a id="22017" href="#12103" class="Function Operator">⟧⇓</a> <a id="22020" href="#21991" class="Bound">xs</a>
  <a id="22025" class="Keyword">module</a> <a id="Law3"></a><a id="22032" href="#22032" class="Module">Law3</a> <a id="22037" class="Keyword">where</a>
  <a id="Law3.&gt;&gt;=-assoc′"></a><a id="22045" href="#22045" class="Function">&gt;&gt;=-assoc′</a> <a id="22056" class="Symbol">:</a> <a id="22058" class="Symbol">(</a><a id="22059" href="#22059" class="Bound">f</a> <a id="22061" class="Symbol">:</a> <a id="22063" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="22065" class="Symbol">→</a> <a id="22067" href="#8679" class="Datatype">𝒫</a> <a id="22069" href="../code/probability/ProbabilityModule.Utils.html#206" class="Generalizable">B</a><a id="22070" class="Symbol">)</a> <a id="22072" class="Symbol">→</a> <a id="22074" class="Symbol">(</a><a id="22075" href="#22075" class="Bound">g</a> <a id="22077" class="Symbol">:</a> <a id="22079" href="../code/probability/ProbabilityModule.Utils.html#206" class="Generalizable">B</a> <a id="22081" class="Symbol">→</a> <a id="22083" href="#8679" class="Datatype">𝒫</a> <a id="22085" href="../code/probability/ProbabilityModule.Utils.html#218" class="Generalizable">C</a><a id="22086" class="Symbol">)</a> <a id="22088" class="Symbol">→</a> <a id="22090" href="#12139" class="Function">⟦</a> <a id="22092" href="#22092" class="Bound">xs</a> <a id="22095" href="#12139" class="Function">∈𝒫</a> <a id="22098" href="../code/probability/ProbabilityModule.Utils.html#194" class="Generalizable">A</a> <a id="22100" href="#12139" class="Function">⇒</a> <a id="22102" class="Symbol">((</a><a id="22104" href="#22092" class="Bound">xs</a> <a id="22107" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="22111" href="#22059" class="Bound">f</a><a id="22112" class="Symbol">)</a> <a id="22114" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="22118" href="#22075" class="Bound">g</a><a id="22119" class="Symbol">)</a> <a id="22121" href="Agda.Builtin.Cubical.Path.html#353" class="Function Operator">≡</a> <a id="22123" href="#22092" class="Bound">xs</a> <a id="22126" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="22130" class="Symbol">(λ</a> <a id="22133" href="#22133" class="Bound">x</a> <a id="22135" class="Symbol">→</a> <a id="22137" href="#22059" class="Bound">f</a> <a id="22139" href="#22133" class="Bound">x</a> <a id="22141" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="22145" href="#22075" class="Bound">g</a><a id="22146" class="Symbol">)</a> <a id="22148" href="#12139" class="Function">⟧</a>
  <a id="22152" href="#11443" class="Field Operator">⟦</a> <a id="22154" href="#22045" class="Function">&gt;&gt;=-assoc′</a> <a id="22165" href="#22165" class="Bound">f</a> <a id="22167" href="#22167" class="Bound">g</a> <a id="22169" href="#11443" class="Field Operator">⟧-prop</a> <a id="22176" class="Symbol">=</a> <a id="22178" href="#8921" class="InductiveConstructor">trunc</a> <a id="22184" class="Symbol">_</a> <a id="22186" class="Symbol">_</a>
  <a id="22190" href="#11481" class="Field Operator">⟦</a> <a id="22192" href="#22045" class="Function">&gt;&gt;=-assoc′</a> <a id="22203" href="#22203" class="Bound">f</a> <a id="22205" href="#22205" class="Bound">g</a> <a id="22207" href="#11481" class="Field Operator">⟧[]</a> <a id="22211" class="Symbol">=</a> <a id="22213" href="../code/probability/Cubical.Foundations.Prelude.html#827" class="Function">refl</a>
  <a id="22220" href="#11498" class="Field Operator">⟦</a> <a id="22222" href="#22045" class="Function">&gt;&gt;=-assoc′</a> <a id="22233" href="#22233" class="Bound">f</a> <a id="22235" href="#22235" class="Bound">g</a> <a id="22237" href="#11498" class="Field Operator">⟧</a> <a id="22239" href="#22239" class="Bound">p</a> <a id="22241" href="#11498" class="Field Operator">&amp;</a> <a id="22243" href="#22243" class="Bound">x</a> <a id="22245" href="#11498" class="Field Operator">∷</a> <a id="22247" href="#22247" class="Bound">xs</a> <a id="22250" href="#11498" class="Field Operator">⟨</a> <a id="22252" href="#22252" class="Bound">P</a> <a id="22254" href="#11498" class="Field Operator">⟩</a> <a id="22256" class="Symbol">=</a>
    <a id="22262" class="Symbol">(((</a><a id="22265" href="#22239" class="Bound">p</a> <a id="22267" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="22269" href="#22243" class="Bound">x</a> <a id="22271" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="22273" href="#22247" class="Bound">xs</a><a id="22275" class="Symbol">)</a> <a id="22277" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="22281" href="#22233" class="Bound">f</a><a id="22282" class="Symbol">)</a> <a id="22284" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="22288" href="#22235" class="Bound">g</a><a id="22289" class="Symbol">)</a> <a id="22291" href="../code/probability/ProbabilityModule.Utils.html#572" class="Function Operator">≡⟨⟩</a>
    <a id="22299" class="Symbol">((</a><a id="22301" href="#22239" class="Bound">p</a> <a id="22303" href="#14109" class="Function Operator">⋊</a> <a id="22305" href="#22233" class="Bound">f</a> <a id="22307" href="#22243" class="Bound">x</a> <a id="22309" href="#13390" class="Function Operator">∪</a> <a id="22311" class="Symbol">(</a><a id="22312" href="#22247" class="Bound">xs</a> <a id="22315" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="22319" href="#22233" class="Bound">f</a><a id="22320" class="Symbol">))</a> <a id="22323" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="22327" href="#22235" class="Bound">g</a><a id="22328" class="Symbol">)</a> <a id="22330" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="22333" href="#19228" class="Function">&gt;&gt;=-distrib</a> <a id="22345" class="Symbol">(</a><a id="22346" href="#22239" class="Bound">p</a> <a id="22348" href="#14109" class="Function Operator">⋊</a> <a id="22350" href="#22233" class="Bound">f</a> <a id="22352" href="#22243" class="Bound">x</a><a id="22353" class="Symbol">)</a> <a id="22355" class="Symbol">(</a><a id="22356" href="#22247" class="Bound">xs</a> <a id="22359" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="22363" href="#22233" class="Bound">f</a><a id="22364" class="Symbol">)</a> <a id="22366" href="#22235" class="Bound">g</a> <a id="22368" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
    <a id="22374" class="Symbol">((</a><a id="22376" href="#22239" class="Bound">p</a> <a id="22378" href="#14109" class="Function Operator">⋊</a> <a id="22380" href="#22233" class="Bound">f</a> <a id="22382" href="#22243" class="Bound">x</a><a id="22383" class="Symbol">)</a> <a id="22385" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="22389" href="#22235" class="Bound">g</a><a id="22390" class="Symbol">)</a> <a id="22392" href="#13390" class="Function Operator">∪</a> <a id="22394" class="Symbol">((</a><a id="22396" href="#22247" class="Bound">xs</a> <a id="22399" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="22403" href="#22233" class="Bound">f</a><a id="22404" class="Symbol">)</a> <a id="22406" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="22410" href="#22235" class="Bound">g</a><a id="22411" class="Symbol">)</a> <a id="22413" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="22416" href="../code/probability/Cubical.Foundations.Prelude.html#1027" class="Function">cong</a> <a id="22421" class="Symbol">((</a><a id="22423" href="#22239" class="Bound">p</a> <a id="22425" href="#14109" class="Function Operator">⋊</a> <a id="22427" href="#22233" class="Bound">f</a> <a id="22429" href="#22243" class="Bound">x</a><a id="22430" class="Symbol">)</a> <a id="22432" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="22436" href="#22235" class="Bound">g</a> <a id="22438" href="#13390" class="Function Operator">∪_</a><a id="22440" class="Symbol">)</a> <a id="22442" href="#22252" class="Bound">P</a> <a id="22444" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
    <a id="22450" class="Symbol">((</a><a id="22452" href="#22239" class="Bound">p</a> <a id="22454" href="#14109" class="Function Operator">⋊</a> <a id="22456" href="#22233" class="Bound">f</a> <a id="22458" href="#22243" class="Bound">x</a><a id="22459" class="Symbol">)</a> <a id="22461" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="22465" href="#22235" class="Bound">g</a><a id="22466" class="Symbol">)</a> <a id="22468" href="#13390" class="Function Operator">∪</a> <a id="22470" class="Symbol">(</a><a id="22471" href="#22247" class="Bound">xs</a> <a id="22474" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="22478" class="Symbol">(λ</a> <a id="22481" href="#22481" class="Bound">y</a> <a id="22483" class="Symbol">→</a> <a id="22485" href="#22233" class="Bound">f</a> <a id="22487" href="#22481" class="Bound">y</a> <a id="22489" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="22493" href="#22235" class="Bound">g</a><a id="22494" class="Symbol">))</a> <a id="22497" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">≡⟨</a> <a id="22500" href="../code/probability/Cubical.Foundations.Prelude.html#1027" class="Function">cong</a> <a id="22505" class="Symbol">(</a><a id="22506" href="#13390" class="Function Operator">_∪</a> <a id="22509" class="Symbol">(</a><a id="22510" href="#22247" class="Bound">xs</a> <a id="22513" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="22517" class="Symbol">(λ</a> <a id="22520" href="#22520" class="Bound">y</a> <a id="22522" class="Symbol">→</a> <a id="22524" href="#22233" class="Bound">f</a> <a id="22526" href="#22520" class="Bound">y</a> <a id="22528" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="22532" href="#22235" class="Bound">g</a><a id="22533" class="Symbol">)))</a> <a id="22537" class="Symbol">(</a><a id="22538" href="#20451" class="Function">⋊-assoc-&gt;&gt;=</a> <a id="22550" href="#22239" class="Bound">p</a> <a id="22552" class="Symbol">(</a><a id="22553" href="#22233" class="Bound">f</a> <a id="22555" href="#22243" class="Bound">x</a><a id="22556" class="Symbol">)</a> <a id="22558" href="#22235" class="Bound">g</a><a id="22559" class="Symbol">)</a> <a id="22561" href="../code/probability/ProbabilityModule.Utils.html#436" class="Function">⟩</a>
    <a id="22567" href="#22239" class="Bound">p</a> <a id="22569" href="#14109" class="Function Operator">⋊</a> <a id="22571" class="Symbol">(</a><a id="22572" href="#22233" class="Bound">f</a> <a id="22574" href="#22243" class="Bound">x</a> <a id="22576" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="22580" href="#22235" class="Bound">g</a><a id="22581" class="Symbol">)</a> <a id="22583" href="#13390" class="Function Operator">∪</a> <a id="22585" class="Symbol">(</a><a id="22586" href="#22247" class="Bound">xs</a> <a id="22589" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="22593" class="Symbol">(λ</a> <a id="22596" href="#22596" class="Bound">y</a> <a id="22598" class="Symbol">→</a> <a id="22600" href="#22233" class="Bound">f</a> <a id="22602" href="#22596" class="Bound">y</a> <a id="22604" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="22608" href="#22235" class="Bound">g</a><a id="22609" class="Symbol">))</a> <a id="22612" href="../code/probability/ProbabilityModule.Utils.html#572" class="Function Operator">≡⟨⟩</a>
    <a id="22620" class="Symbol">((</a><a id="22622" href="#22239" class="Bound">p</a> <a id="22624" href="#8727" class="InductiveConstructor Operator">&amp;</a> <a id="22626" href="#22243" class="Bound">x</a> <a id="22628" href="#8727" class="InductiveConstructor Operator">∷</a> <a id="22630" href="#22247" class="Bound">xs</a><a id="22632" class="Symbol">)</a> <a id="22634" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="22638" class="Symbol">(λ</a> <a id="22641" href="#22641" class="Bound">y</a> <a id="22643" class="Symbol">→</a> <a id="22645" href="#22233" class="Bound">f</a> <a id="22647" href="#22641" class="Bound">y</a> <a id="22649" href="#18081" class="Function Operator">&gt;&gt;=</a> <a id="22653" href="#22235" class="Bound">g</a><a id="22654" class="Symbol">))</a> <a id="22657" href="../code/probability/Cubical.Foundations.Prelude.html#2745" class="Function Operator">∎</a>
</pre></details>

# Conclusion

I've really enjoyed working with cubical Agda so far, and the proofs above were
a pleasure to write.
I think I can use the above definition to get a workable differential privacy
monad, also.

Anyway, all the code is available
[here](https://oisdk.github.io/agda-cubical-probability/Probability.html).
