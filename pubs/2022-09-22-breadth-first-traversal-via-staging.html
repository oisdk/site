<p>Presented at <a href="https://www.macs.hw.ac.uk/mpc22/">MPC 2022</a>
(<a href="https://web.archive.org/web/20230409102549/https://www.macs.hw.ac.uk/mpc22/">archive
link</a>).</p>
<p><a href="pdfs/breadth-first-traversals-via-staging.pdf">Pdf available
here.</a></p>
<p>An effectful traversal of a data structure iterates over every
element, in some predetermined order, collecting computational effects
in the process. Depth-first effectful traversal of a tree is
straightforward to define compositionally, since it precisely follows
the shape of the data. What about breadth-first effectful traversal? An
indirect route is to factorize the data structure into shape and
contents, traverse the contents, then rebuild the data structure with
new contents. We show that this can instead be done directly using
staging, expressed using a construction related to free applicative
functors. The staged traversals lend themselves well to fusion; we prove
a novel fusion rule for effectful traversals, and use it in another
solution to Bird’s `repmin’ problem.</p>
<p>Bibtex:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode tex"><code class="sourceCode latex"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>@InProceedings{10.1007/978-3-031-16912-0_1,</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>author=&quot;Gibbons, Jeremy</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>and Kidney, Donnacha Ois{<span class="fu">\'</span>i}n</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>and Schrijvers, Tom</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>and Wu, Nicolas&quot;,</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>editor=&quot;Komendantskaya, Ekaterina&quot;,</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>title=&quot;Breadth-First Traversal via Staging&quot;,</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>booktitle=&quot;Mathematics of Program Construction&quot;,</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>year=&quot;2022&quot;,</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>publisher=&quot;Springer International Publishing&quot;,</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>address=&quot;Cham&quot;,</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>pages=&quot;1--33&quot;,</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>abstract=&quot;An effectful traversal of a data structure iterates over every element, in some predetermined order, collecting computational effects in the process. Depth-first effectful traversal of a tree is straightforward to define compositionally, since it precisely follows the shape of the data. What about breadth-first effectful traversal? An indirect route is to factorize the data structure into shape and contents, traverse the contents, then rebuild the data structure with new contents. We show that this can instead be done directly using staging, expressed using a construction related to free applicative functors. The staged traversals lend themselves well to fusion; we prove a novel fusion rule for effectful traversals, and use it in another solution to Bird's `repmin' problem.&quot;,</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>isbn=&quot;978-3-031-16912-0&quot;</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
